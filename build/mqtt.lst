ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"mqtt.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.msg_generate_packet_id,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-sp-d16
  24              	msg_generate_packet_id:
  25              	.LFB159:
  26              		.file 1 "Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c"
   1:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
   2:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * MQTT client
   4:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *
   5:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @defgroup mqtt MQTT client
   6:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @ingroup apps
   7:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @verbinclude mqtt_client.txt
   8:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
   9:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
  10:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /*
  11:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Copyright (c) 2016 Erik Andersson <erian747@gmail.com>
  12:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * All rights reserved.
  13:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *
  14:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Redistribution and use in source and binary forms, with or without modification,
  15:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * are permitted provided that the following conditions are met:
  16:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *
  17:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  18:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *    this list of conditions and the following disclaimer.
  19:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  20:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *    this list of conditions and the following disclaimer in the documentation
  21:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *    and/or other materials provided with the distribution.
  22:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * 3. The name of the author may not be used to endorse or promote products
  23:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *    derived from this software without specific prior written permission.
  24:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *
  25:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  26:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  27:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  28:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  29:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  30:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  31:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  32:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 2


  33:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  34:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * OF SUCH DAMAGE.
  35:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *
  36:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * This file is part of the lwIP TCP/IP stack
  37:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *
  38:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Author: Erik Andersson <erian747@gmail.com>
  39:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *
  40:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *
  41:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @todo:
  42:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * - Handle large outgoing payloads for PUBLISH messages
  43:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * - Fix restriction of a single topic in each (UN)SUBSCRIBE message (protocol has support for mult
  44:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * - Add support for legacy MQTT protocol version
  45:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *
  46:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Please coordinate changes and requests with Erik Andersson
  47:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Erik Andersson <erian747@gmail.com>
  48:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *
  49:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
  50:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #include "lwip/apps/mqtt.h"
  51:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #include "lwip/timeouts.h"
  52:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #include "lwip/ip_addr.h"
  53:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #include "lwip/mem.h"
  54:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #include "lwip/err.h"
  55:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #include "lwip/pbuf.h"
  56:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #include "lwip/tcp.h"
  57:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #include <string.h>
  58:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
  59:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #if LWIP_TCP && LWIP_CALLBACK_API
  60:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
  61:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
  62:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * MQTT_DEBUG: Default is off.
  63:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
  64:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #if !defined MQTT_DEBUG || defined __DOXYGEN__
  65:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define MQTT_DEBUG                  LWIP_DBG_OFF
  66:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #endif
  67:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
  68:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define MQTT_DEBUG_TRACE        (MQTT_DEBUG | LWIP_DBG_TRACE)
  69:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define MQTT_DEBUG_STATE        (MQTT_DEBUG | LWIP_DBG_STATE)
  70:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define MQTT_DEBUG_WARN         (MQTT_DEBUG | LWIP_DBG_LEVEL_WARNING)
  71:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define MQTT_DEBUG_WARN_STATE   (MQTT_DEBUG | LWIP_DBG_LEVEL_WARNING | LWIP_DBG_STATE)
  72:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define MQTT_DEBUG_SERIOUS      (MQTT_DEBUG | LWIP_DBG_LEVEL_SERIOUS)
  73:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
  74:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void mqtt_cyclic_timer(void *arg);
  75:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
  76:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
  77:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * MQTT client connection states
  78:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
  79:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** enum {
  80:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   TCP_DISCONNECTED,
  81:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   TCP_CONNECTING,
  82:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_CONNECTING,
  83:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_CONNECTED
  84:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** };
  85:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
  86:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
  87:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * MQTT control message types
  88:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
  89:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** enum mqtt_message_type {
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 3


  90:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_CONNECT = 1,
  91:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_CONNACK = 2,
  92:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_PUBLISH = 3,
  93:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_PUBACK = 4,
  94:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_PUBREC = 5,
  95:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_PUBREL = 6,
  96:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_PUBCOMP = 7,
  97:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_SUBSCRIBE = 8,
  98:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_SUBACK = 9,
  99:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_UNSUBSCRIBE = 10,
 100:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_UNSUBACK = 11,
 101:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_PINGREQ = 12,
 102:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_PINGRESP = 13,
 103:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_MSG_TYPE_DISCONNECT = 14
 104:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** };
 105:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 106:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /** Helpers to extract control packet type and qos from first byte in fixed header */
 107:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define MQTT_CTL_PACKET_TYPE(fixed_hdr_byte0) ((fixed_hdr_byte0 & 0xf0) >> 4)
 108:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define MQTT_CTL_PACKET_QOS(fixed_hdr_byte0) ((fixed_hdr_byte0 & 0x6) >> 1)
 109:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 110:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 111:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * MQTT connect flags, only used in CONNECT message
 112:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 113:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** enum mqtt_connect_flag {
 114:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_CONNECT_FLAG_USERNAME = 1 << 7,
 115:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_CONNECT_FLAG_PASSWORD = 1 << 6,
 116:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_CONNECT_FLAG_WILL_RETAIN = 1 << 5,
 117:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_CONNECT_FLAG_WILL = 1 << 2,
 118:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   MQTT_CONNECT_FLAG_CLEAN_SESSION = 1 << 1
 119:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** };
 120:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 121:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 122:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #if defined(LWIP_DEBUG)
 123:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static const char * const mqtt_message_type_str[15] =
 124:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 125:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "UNDEFINED",
 126:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "CONNECT",
 127:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "CONNACK",
 128:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "PUBLISH",
 129:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "PUBACK",
 130:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "PUBREC",
 131:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "PUBREL",
 132:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "PUBCOMP",
 133:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "SUBSCRIBE",
 134:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "SUBACK",
 135:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "UNSUBSCRIBE",
 136:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "UNSUBACK",
 137:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "PINGREQ",
 138:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "PINGRESP",
 139:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   "DISCONNECT"
 140:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** };
 141:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 142:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 143:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Message type value to string
 144:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param msg_type see enum mqtt_message_type
 145:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * 
 146:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return Control message type text string
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 4


 147:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 148:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static const char *
 149:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_msg_type_to_str(u8_t msg_type)
 150:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 151:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (msg_type >= LWIP_ARRAYSIZE(mqtt_message_type_str)) {
 152:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     msg_type = 0;
 153:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 154:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return mqtt_message_type_str[msg_type];
 155:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 156:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 157:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #endif
 158:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 159:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 160:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 161:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Generate MQTT packet identifier
 162:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param client MQTT client
 163:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return New packet identifier, range 1 to 65535
 164:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 165:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static u16_t
 166:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** msg_generate_packet_id(mqtt_client_t *client)
 167:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
  27              		.loc 1 167 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
 168:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->pkt_id_seq++;
  33              		.loc 1 168 0
  34 0000 C388     		ldrh	r3, [r0, #6]
  35 0002 0133     		adds	r3, r3, #1
  36 0004 9BB2     		uxth	r3, r3
  37 0006 C380     		strh	r3, [r0, #6]	@ movhi
 169:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client->pkt_id_seq == 0) {
  38              		.loc 1 169 0
  39 0008 0BB9     		cbnz	r3, .L2
 170:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     client->pkt_id_seq++;
  40              		.loc 1 170 0
  41 000a 0133     		adds	r3, r3, #1
  42 000c C380     		strh	r3, [r0, #6]	@ movhi
  43              	.L2:
 171:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 172:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return client->pkt_id_seq;
 173:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
  44              		.loc 1 173 0
  45 000e C088     		ldrh	r0, [r0, #6]
  46              	.LVL1:
  47 0010 7047     		bx	lr
  48              		.cfi_endproc
  49              	.LFE159:
  51              		.section	.text.mqtt_delete_request,"ax",%progbits
  52              		.align	1
  53              		.syntax unified
  54              		.thumb
  55              		.thumb_func
  56              		.fpu fpv5-sp-d16
  58              	mqtt_delete_request:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 5


  59              	.LFB163:
 174:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 175:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /*-------------------------------------------------------------------------------------------------
 176:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /* Output ring buffer */
 177:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 178:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 179:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define MQTT_RINGBUF_IDX_MASK ((MQTT_OUTPUT_RINGBUF_SIZE) - 1)
 180:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 181:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /** Add single item to ring buffer */
 182:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define mqtt_ringbuf_put(rb, item) ((rb)->buf)[(rb)->put++ & MQTT_RINGBUF_IDX_MASK] = (item)
 183:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 184:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /** Return number of bytes in ring buffer */
 185:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define mqtt_ringbuf_len(rb) ((u16_t)((rb)->put - (rb)->get))
 186:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 187:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /** Return number of bytes free in ring buffer */
 188:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define mqtt_ringbuf_free(rb) (MQTT_OUTPUT_RINGBUF_SIZE - mqtt_ringbuf_len(rb))
 189:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 190:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /** Return number of bytes possible to read without wrapping around */
 191:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define mqtt_ringbuf_linear_read_length(rb) LWIP_MIN(mqtt_ringbuf_len(rb), (MQTT_OUTPUT_RINGBUF_SIZ
 192:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 193:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /** Return pointer to ring buffer get position */
 194:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define mqtt_ringbuf_get_ptr(rb) (&(rb)->buf[(rb)->get & MQTT_RINGBUF_IDX_MASK])
 195:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 196:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** #define mqtt_ringbuf_advance_get_idx(rb, len) ((rb)->get += (len))
 197:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 198:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 199:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 200:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Try send as many bytes as possible from output ring buffer
 201:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param rb Output ring buffer
 202:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param tpcb TCP connection handle
 203:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 204:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 205:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_output_send(struct mqtt_ringbuf_t *rb, struct tcp_pcb *tpcb)
 206:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 207:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   err_t err;
 208:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t wrap = 0;
 209:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t ringbuf_lin_len = mqtt_ringbuf_linear_read_length(rb);
 210:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t send_len = tcp_sndbuf(tpcb);
 211:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_output_send: tpcb != NULL", tpcb != NULL);
 212:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 213:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (send_len == 0 || ringbuf_lin_len == 0) {
 214:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return;
 215:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 216:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 217:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_output_send: tcp_sndbuf: %d bytes, ringbuf_linear_available: 
 218:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****                                 send_len, ringbuf_lin_len, ((rb)->get & MQTT_RINGBUF_IDX_MASK), ((r
 219:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 220:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (send_len > ringbuf_lin_len) {
 221:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Space in TCP output buffer is larger than available in ring buffer linear portion */
 222:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     send_len = ringbuf_lin_len;
 223:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Wrap around if more data in ring buffer after linear portion */
 224:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     wrap = (mqtt_ringbuf_len(rb) > ringbuf_lin_len);
 225:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 226:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   err = tcp_write(tpcb, mqtt_ringbuf_get_ptr(rb), send_len, TCP_WRITE_FLAG_COPY | (wrap ? TCP_WRITE
 227:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if ((err == ERR_OK) && wrap) {
 228:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_ringbuf_advance_get_idx(rb, send_len);
 229:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Use the lesser one of ring buffer linear length and TCP send buffer size */
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 6


 230:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     send_len = LWIP_MIN(tcp_sndbuf(tpcb), mqtt_ringbuf_linear_read_length(rb));
 231:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     err = tcp_write(tpcb, mqtt_ringbuf_get_ptr(rb), send_len, TCP_WRITE_FLAG_COPY);
 232:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 233:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 234:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (err == ERR_OK) {
 235:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_ringbuf_advance_get_idx(rb, send_len);
 236:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Flush */
 237:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     tcp_output(tpcb);
 238:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else {
 239:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_DEBUGF(MQTT_DEBUG_WARN, ("mqtt_output_send: Send failed with err %d (\"%s\")\n", err, lwip
 240:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 241:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 242:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 243:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 244:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 245:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /*-------------------------------------------------------------------------------------------------
 246:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /* Request queue */
 247:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 248:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 249:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Create request item
 250:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param r_objs Pointer to request objects
 251:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param pkt_id Packet identifier of request
 252:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param cb Packet callback to call when requests lifetime ends
 253:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param arg Parameter following callback
 254:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return Request or NULL if failed to create
 255:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 256:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static struct mqtt_request_t *
 257:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_create_request(struct mqtt_request_t *r_objs, u16_t pkt_id, mqtt_request_cb_t cb, void *arg)
 258:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 259:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *r = NULL;
 260:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t n;
 261:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_create_request: r_objs != NULL", r_objs != NULL);
 262:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (n = 0; n < MQTT_REQ_MAX_IN_FLIGHT; n++) {
 263:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Item point to itself if not in use */
 264:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (r_objs[n].next == &r_objs[n]) {
 265:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       r = &r_objs[n];
 266:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       r->next = NULL;
 267:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       r->cb = cb;
 268:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       r->arg = arg;
 269:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       r->pkt_id = pkt_id;
 270:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       break;
 271:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 272:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 273:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return r;
 274:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 275:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 276:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 277:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 278:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Append request to pending request queue
 279:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param tail Pointer to request queue tail pointer
 280:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param r Request to append
 281:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 282:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 283:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_append_request(struct mqtt_request_t **tail, struct mqtt_request_t *r)
 284:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 285:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *head = NULL;
 286:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   s16_t time_before = 0;
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 7


 287:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *iter;
 288:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 289:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_append_request: tail != NULL", tail != NULL);
 290:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 291:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Iterate trough queue to find head, and count total timeout time */
 292:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (iter = *tail; iter != NULL; iter = iter->next) {
 293:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     time_before += iter->timeout_diff;
 294:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     head = iter;
 295:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 296:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 297:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_append_request: time_before <= MQTT_REQ_TIMEOUT", time_before <= MQTT_REQ_TIMEO
 298:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   r->timeout_diff = MQTT_REQ_TIMEOUT - time_before;
 299:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (head == NULL) {
 300:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     *tail = r;
 301:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else {
 302:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     head->next = r;
 303:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 304:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 305:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 306:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 307:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 308:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Delete request item
 309:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param r Request item to delete
 310:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 311:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 312:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_delete_request(struct mqtt_request_t *r)
 313:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
  60              		.loc 1 313 0
  61              		.cfi_startproc
  62              		@ args = 0, pretend = 0, frame = 0
  63              		@ frame_needed = 0, uses_anonymous_args = 0
  64              		@ link register save eliminated.
  65              	.LVL2:
 314:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (r != NULL) {
  66              		.loc 1 314 0
  67 0000 0346     		mov	r3, r0
  68 0002 00B1     		cbz	r0, .L3
 315:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     r->next = r;
  69              		.loc 1 315 0
  70 0004 1860     		str	r0, [r3]
  71              	.L3:
 316:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 317:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
  72              		.loc 1 317 0
  73 0006 7047     		bx	lr
  74              		.cfi_endproc
  75              	.LFE163:
  77              		.section	.text.mqtt_output_append_u8,"ax",%progbits
  78              		.align	1
  79              		.syntax unified
  80              		.thumb
  81              		.thumb_func
  82              		.fpu fpv5-sp-d16
  84              	mqtt_output_append_u8:
  85              	.LFB168:
 318:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 319:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 8


 320:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Remove a request item with a specific packet identifier from request queue
 321:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param tail Pointer to request queue tail pointer
 322:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param pkt_id Packet identifier of request to take
 323:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return Request item if found, NULL if not
 324:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 325:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static struct mqtt_request_t *
 326:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_take_request(struct mqtt_request_t **tail, u16_t pkt_id)
 327:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 328:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *iter = NULL, *prev = NULL;
 329:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_take_request: tail != NULL", tail != NULL);
 330:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Search all request for pkt_id */
 331:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (iter = *tail; iter != NULL; iter = iter->next) {
 332:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (iter->pkt_id == pkt_id) {
 333:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       break;
 334:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 335:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     prev = iter;
 336:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 337:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 338:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* If request was found */
 339:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (iter != NULL) {
 340:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* unchain */
 341:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (prev == NULL) {
 342:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       *tail= iter->next;
 343:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     } else {
 344:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       prev->next = iter->next;
 345:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 346:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* If exists, add remaining timeout time for the request to next */
 347:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (iter->next != NULL) {
 348:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       iter->next->timeout_diff += iter->timeout_diff;
 349:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 350:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     iter->next = NULL;
 351:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 352:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return iter;
 353:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 354:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 355:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 356:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Handle requests timeout
 357:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param tail Pointer to request queue tail pointer
 358:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param t Time since last call in seconds
 359:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 360:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 361:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_request_time_elapsed(struct mqtt_request_t **tail, u8_t t)
 362:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 363:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *r;
 364:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_request_time_elapsed: tail != NULL", tail != NULL);
 365:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   r = *tail;
 366:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   while (t > 0 && r != NULL) {
 367:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (t >= r->timeout_diff) {
 368:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       t -= (u8_t)r->timeout_diff;
 369:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Unchain */
 370:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       *tail = r->next;
 371:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Notify upper layer about timeout */
 372:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (r->cb != NULL) {
 373:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         r->cb(r->arg, ERR_TIMEOUT);
 374:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 375:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       mqtt_delete_request(r);
 376:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Tail might be be modified in callback, so re-read it in every iteration */
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 9


 377:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       r = *(struct mqtt_request_t * const volatile *)tail;
 378:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     } else {
 379:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       r->timeout_diff -= t;
 380:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       t = 0;
 381:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 382:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 383:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 384:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 385:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 386:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Free all request items
 387:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param tail Pointer to request queue tail pointer
 388:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 389:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 390:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_clear_requests(struct mqtt_request_t **tail)
 391:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 392:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *iter, *next;
 393:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_clear_requests: tail != NULL", tail != NULL);
 394:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (iter = *tail; iter != NULL; iter = next) {
 395:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     next = iter->next;
 396:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_delete_request(iter);
 397:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 398:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   *tail = NULL;
 399:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 400:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 401:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Initialize all request items
 402:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param r_objs Pointer to request objects
 403:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 404:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 405:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_init_requests(struct mqtt_request_t *r_objs)
 406:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 407:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t n;
 408:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_init_requests: r_objs != NULL", r_objs != NULL);
 409:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (n = 0; n < MQTT_REQ_MAX_IN_FLIGHT; n++) {
 410:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Item pointing to itself indicates unused */
 411:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     r_objs[n].next = &r_objs[n];
 412:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 413:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 414:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 415:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /*-------------------------------------------------------------------------------------------------
 416:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /* Output message build helpers */
 417:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 418:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 419:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 420:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_output_append_u8(struct mqtt_ringbuf_t *rb, u8_t value)
 421:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
  86              		.loc 1 421 0
  87              		.cfi_startproc
  88              		@ args = 0, pretend = 0, frame = 0
  89              		@ frame_needed = 0, uses_anonymous_args = 0
  90              		@ link register save eliminated.
  91              	.LVL3:
 422:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_ringbuf_put(rb, value);
  92              		.loc 1 422 0
  93 0000 0388     		ldrh	r3, [r0]
  94 0002 5A1C     		adds	r2, r3, #1
  95 0004 0280     		strh	r2, [r0]	@ movhi
  96 0006 50FA83F3 		uxtab	r3, r0, r3
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 10


  97 000a 1971     		strb	r1, [r3, #4]
 423:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
  98              		.loc 1 423 0
  99 000c 7047     		bx	lr
 100              		.cfi_endproc
 101              	.LFE168:
 103              		.section	.text.mqtt_output_append_u16,"ax",%progbits
 104              		.align	1
 105              		.syntax unified
 106              		.thumb
 107              		.thumb_func
 108              		.fpu fpv5-sp-d16
 110              	mqtt_output_append_u16:
 111              	.LFB169:
 424:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 425:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static
 426:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** void mqtt_output_append_u16(struct mqtt_ringbuf_t *rb, u16_t value)
 427:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 112              		.loc 1 427 0
 113              		.cfi_startproc
 114              		@ args = 0, pretend = 0, frame = 0
 115              		@ frame_needed = 0, uses_anonymous_args = 0
 116              		@ link register save eliminated.
 117              	.LVL4:
 118 0000 10B4     		push	{r4}
 119              	.LCFI0:
 120              		.cfi_def_cfa_offset 4
 121              		.cfi_offset 4, -4
 428:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_ringbuf_put(rb, value >> 8);
 122              		.loc 1 428 0
 123 0002 0288     		ldrh	r2, [r0]
 124 0004 531C     		adds	r3, r2, #1
 125 0006 9BB2     		uxth	r3, r3
 126 0008 50FA82F2 		uxtab	r2, r0, r2
 127 000c 0C0A     		lsrs	r4, r1, #8
 128 000e 1471     		strb	r4, [r2, #4]
 429:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_ringbuf_put(rb, value & 0xff);
 129              		.loc 1 429 0
 130 0010 5A1C     		adds	r2, r3, #1
 131 0012 0280     		strh	r2, [r0]	@ movhi
 132 0014 50FA83F3 		uxtab	r3, r0, r3
 133 0018 1971     		strb	r1, [r3, #4]
 430:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 134              		.loc 1 430 0
 135 001a 5DF8044B 		ldr	r4, [sp], #4
 136              	.LCFI1:
 137              		.cfi_restore 4
 138              		.cfi_def_cfa_offset 0
 139 001e 7047     		bx	lr
 140              		.cfi_endproc
 141              	.LFE169:
 143              		.section	.text.mqtt_output_append_buf,"ax",%progbits
 144              		.align	1
 145              		.syntax unified
 146              		.thumb
 147              		.thumb_func
 148              		.fpu fpv5-sp-d16
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 11


 150              	mqtt_output_append_buf:
 151              	.LFB170:
 431:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 432:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 433:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_output_append_buf(struct mqtt_ringbuf_t *rb, const void *data, u16_t length)
 434:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 152              		.loc 1 434 0
 153              		.cfi_startproc
 154              		@ args = 0, pretend = 0, frame = 0
 155              		@ frame_needed = 0, uses_anonymous_args = 0
 156              		@ link register save eliminated.
 157              	.LVL5:
 435:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t n;
 436:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (n = 0; n < length; n++) {
 158              		.loc 1 436 0
 159 0000 0023     		movs	r3, #0
 160              	.LVL6:
 161 0002 9342     		cmp	r3, r2
 162 0004 0DD2     		bcs	.L14
 434:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t n;
 163              		.loc 1 434 0
 164 0006 30B4     		push	{r4, r5}
 165              	.LCFI2:
 166              		.cfi_def_cfa_offset 8
 167              		.cfi_offset 4, -8
 168              		.cfi_offset 5, -4
 169              	.L10:
 437:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_ringbuf_put(rb, ((const u8_t *)data)[n]);
 170              		.loc 1 437 0 discriminator 3
 171 0008 0488     		ldrh	r4, [r0]
 172 000a 651C     		adds	r5, r4, #1
 173 000c 0580     		strh	r5, [r0]	@ movhi
 174 000e CD5C     		ldrb	r5, [r1, r3]	@ zero_extendqisi2
 175 0010 50FA84F4 		uxtab	r4, r0, r4
 176 0014 2571     		strb	r5, [r4, #4]
 436:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_ringbuf_put(rb, ((const u8_t *)data)[n]);
 177              		.loc 1 436 0 discriminator 3
 178 0016 0133     		adds	r3, r3, #1
 179              	.LVL7:
 180 0018 9BB2     		uxth	r3, r3
 181              	.LVL8:
 182 001a 9342     		cmp	r3, r2
 183 001c F4D3     		bcc	.L10
 438:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 439:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 184              		.loc 1 439 0
 185 001e 30BC     		pop	{r4, r5}
 186              	.LCFI3:
 187              		.cfi_restore 5
 188              		.cfi_restore 4
 189              		.cfi_def_cfa_offset 0
 190 0020 7047     		bx	lr
 191              	.L14:
 192 0022 7047     		bx	lr
 193              		.cfi_endproc
 194              	.LFE170:
 196              		.section	.text.mqtt_output_append_string,"ax",%progbits
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 12


 197              		.align	1
 198              		.syntax unified
 199              		.thumb
 200              		.thumb_func
 201              		.fpu fpv5-sp-d16
 203              	mqtt_output_append_string:
 204              	.LFB171:
 440:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 441:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 442:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_output_append_string(struct mqtt_ringbuf_t *rb, const char *str, u16_t length)
 443:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 205              		.loc 1 443 0
 206              		.cfi_startproc
 207              		@ args = 0, pretend = 0, frame = 0
 208              		@ frame_needed = 0, uses_anonymous_args = 0
 209              		@ link register save eliminated.
 210              	.LVL9:
 211 0000 30B4     		push	{r4, r5}
 212              	.LCFI4:
 213              		.cfi_def_cfa_offset 8
 214              		.cfi_offset 4, -8
 215              		.cfi_offset 5, -4
 444:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t n;
 445:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_ringbuf_put(rb, length >> 8);
 216              		.loc 1 445 0
 217 0002 0488     		ldrh	r4, [r0]
 218 0004 631C     		adds	r3, r4, #1
 219 0006 9BB2     		uxth	r3, r3
 220 0008 50FA84F4 		uxtab	r4, r0, r4
 221 000c 150A     		lsrs	r5, r2, #8
 222 000e 2571     		strb	r5, [r4, #4]
 446:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_ringbuf_put(rb, length & 0xff);
 223              		.loc 1 446 0
 224 0010 5C1C     		adds	r4, r3, #1
 225 0012 0480     		strh	r4, [r0]	@ movhi
 226 0014 50FA83F3 		uxtab	r3, r0, r3
 227 0018 1A71     		strb	r2, [r3, #4]
 228              	.LVL10:
 447:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (n = 0; n < length; n++) {
 229              		.loc 1 447 0
 230 001a 0023     		movs	r3, #0
 231 001c 08E0     		b	.L16
 232              	.LVL11:
 233              	.L17:
 448:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_ringbuf_put(rb, str[n]);
 234              		.loc 1 448 0 discriminator 3
 235 001e 0488     		ldrh	r4, [r0]
 236 0020 651C     		adds	r5, r4, #1
 237 0022 0580     		strh	r5, [r0]	@ movhi
 238 0024 CD5C     		ldrb	r5, [r1, r3]	@ zero_extendqisi2
 239 0026 50FA84F4 		uxtab	r4, r0, r4
 240 002a 2571     		strb	r5, [r4, #4]
 447:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (n = 0; n < length; n++) {
 241              		.loc 1 447 0 discriminator 3
 242 002c 0133     		adds	r3, r3, #1
 243              	.LVL12:
 244 002e 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 13


 245              	.LVL13:
 246              	.L16:
 447:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (n = 0; n < length; n++) {
 247              		.loc 1 447 0 is_stmt 0 discriminator 1
 248 0030 9342     		cmp	r3, r2
 249 0032 F4D3     		bcc	.L17
 449:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 450:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 250              		.loc 1 450 0 is_stmt 1
 251 0034 30BC     		pop	{r4, r5}
 252              	.LCFI5:
 253              		.cfi_restore 5
 254              		.cfi_restore 4
 255              		.cfi_def_cfa_offset 0
 256 0036 7047     		bx	lr
 257              		.cfi_endproc
 258              	.LFE171:
 260              		.section	.text.mqtt_output_append_fixed_header,"ax",%progbits
 261              		.align	1
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 265              		.fpu fpv5-sp-d16
 267              	mqtt_output_append_fixed_header:
 268              	.LFB172:
 451:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 452:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 453:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Append fixed header
 454:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param rb Output ring buffer
 455:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param msg_type see enum mqtt_message_type
 456:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param dup MQTT DUP flag
 457:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param qos MQTT QoS field
 458:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param retain MQTT retain flag
 459:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param r_length Remaining length after fixed header
 460:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 461:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 462:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 463:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_output_append_fixed_header(struct mqtt_ringbuf_t *rb, u8_t msg_type, u8_t dup,
 464:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****                  u8_t qos, u8_t retain, u16_t r_length)
 465:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 269              		.loc 1 465 0
 270              		.cfi_startproc
 271              		@ args = 8, pretend = 0, frame = 0
 272              		@ frame_needed = 0, uses_anonymous_args = 0
 273              	.LVL14:
 274 0000 38B5     		push	{r3, r4, r5, lr}
 275              	.LCFI6:
 276              		.cfi_def_cfa_offset 16
 277              		.cfi_offset 3, -16
 278              		.cfi_offset 4, -12
 279              		.cfi_offset 5, -8
 280              		.cfi_offset 14, -4
 281 0002 0546     		mov	r5, r0
 282 0004 BDF81440 		ldrh	r4, [sp, #20]
 466:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Start with control byte */
 467:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_append_u8(rb, (((msg_type & 0x0f) << 4) | ((dup & 1) << 3) | ((qos & 3) << 1) | (reta
 283              		.loc 1 467 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 14


 284 0008 D200     		lsls	r2, r2, #3
 285              	.LVL15:
 286 000a 02F00802 		and	r2, r2, #8
 287 000e 42EA0112 		orr	r2, r2, r1, lsl #4
 288 0012 52B2     		sxtb	r2, r2
 289 0014 5900     		lsls	r1, r3, #1
 290              	.LVL16:
 291 0016 01F00601 		and	r1, r1, #6
 292 001a 0A43     		orrs	r2, r2, r1
 293 001c 9DF81010 		ldrb	r1, [sp, #16]	@ zero_extendqisi2
 294 0020 01F00101 		and	r1, r1, #1
 295 0024 1143     		orrs	r1, r1, r2
 296 0026 C9B2     		uxtb	r1, r1
 297 0028 FFF7FEFF 		bl	mqtt_output_append_u8
 298              	.LVL17:
 299 002c 07E0     		b	.L21
 300              	.LVL18:
 301              	.L22:
 468:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Encode remaining length field */
 469:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   do {
 470:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_append_u8(rb, (r_length & 0x7f) | (r_length >= 128 ? 0x80 : 0));
 302              		.loc 1 470 0
 303 002e 0023     		movs	r3, #0
 304              	.L20:
 305              		.loc 1 470 0 is_stmt 0 discriminator 4
 306 0030 1943     		orrs	r1, r1, r3
 307 0032 C9B2     		uxtb	r1, r1
 308 0034 2846     		mov	r0, r5
 309 0036 FFF7FEFF 		bl	mqtt_output_append_u8
 310              	.LVL19:
 471:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     r_length >>= 7;
 472:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } while (r_length > 0);
 311              		.loc 1 472 0 is_stmt 1 discriminator 4
 312 003a E409     		lsrs	r4, r4, #7
 313              	.LVL20:
 314 003c 06D0     		beq	.L24
 315              	.L21:
 316              	.LVL21:
 470:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     r_length >>= 7;
 317              		.loc 1 470 0
 318 003e 04F07F01 		and	r1, r4, #127
 319 0042 7F2C     		cmp	r4, #127
 320 0044 F3D9     		bls	.L22
 321 0046 6FF07F03 		mvn	r3, #127
 322 004a F1E7     		b	.L20
 323              	.LVL22:
 324              	.L24:
 473:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 325              		.loc 1 473 0
 326 004c 38BD     		pop	{r3, r4, r5, pc}
 327              		.cfi_endproc
 328              	.LFE172:
 330              		.section	.text.mqtt_incomming_suback,"ax",%progbits
 331              		.align	1
 332              		.syntax unified
 333              		.thumb
 334              		.thumb_func
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 15


 335              		.fpu fpv5-sp-d16
 337              	mqtt_incomming_suback:
 338              	.LFB177:
 474:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 475:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 476:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 477:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Check output buffer space
 478:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param rb Output ring buffer
 479:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param r_length Remaining length after fixed header
 480:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return 1 if message will fit, 0 if not enough buffer space
 481:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 482:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static u8_t
 483:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_output_check_space(struct mqtt_ringbuf_t *rb, u16_t r_length)
 484:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 485:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Start with length of type byte + remaining length */
 486:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t total_len = 1 + r_length;
 487:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 488:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_output_check_space: rb != NULL", rb != NULL);
 489:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 490:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  /* Calculate number of required bytes to contain the remaining bytes field and add to total*/
 491:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   do {
 492:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     total_len++;
 493:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     r_length >>= 7;
 494:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } while (r_length > 0);
 495:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 496:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return (total_len <= mqtt_ringbuf_free(rb));
 497:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 498:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 499:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 500:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 501:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Close connection to server
 502:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param client MQTT client
 503:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param reason Reason for disconnection
 504:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 505:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 506:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_close(mqtt_client_t *client, mqtt_connection_status_t reason)
 507:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 508:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_close: client != NULL", client != NULL);
 509:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 510:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Bring down TCP connection if not already done */
 511:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client->conn != NULL) {
 512:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     err_t res;
 513:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     tcp_recv(client->conn, NULL);
 514:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     tcp_err(client->conn,  NULL);
 515:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     tcp_sent(client->conn, NULL);
 516:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     res = tcp_close(client->conn);
 517:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (res != ERR_OK) {
 518:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       tcp_abort(client->conn);
 519:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_close: Close err=%s\n", lwip_strerr(res)));
 520:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 521:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     client->conn = NULL;
 522:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 523:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 524:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Remove all pending requests */
 525:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_clear_requests(&client->pend_req_queue);
 526:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Stop cyclic timer */
 527:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   sys_untimeout(mqtt_cyclic_timer, client);
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 16


 528:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 529:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Notify upper layer of disconnection if changed state */
 530:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client->conn_state != TCP_DISCONNECTED) {
 531:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 532:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     client->conn_state = TCP_DISCONNECTED;
 533:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (client->connect_cb != NULL) {
 534:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       client->connect_cb(client, client->connect_arg, reason);
 535:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 536:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 537:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 538:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 539:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 540:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 541:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Interval timer, called every MQTT_CYCLIC_TIMER_INTERVAL seconds in MQTT_CONNECTING and MQTT_CONN
 542:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param arg MQTT client
 543:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 544:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 545:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_cyclic_timer(void *arg)
 546:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 547:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t restart_timer = 1;
 548:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_client_t *client = (mqtt_client_t *)arg;
 549:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_cyclic_timer: client != NULL", client != NULL);
 550:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 551:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client->conn_state == MQTT_CONNECTING) {
 552:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     client->cyclic_tick++;
 553:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if ((client->cyclic_tick * MQTT_CYCLIC_TIMER_INTERVAL) >= MQTT_CONNECT_TIMOUT) {
 554:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_cyclic_timer: CONNECT attempt to server timed out\n"));
 555:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Disconnect TCP */
 556:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       mqtt_close(client, MQTT_CONNECT_TIMEOUT);
 557:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       restart_timer = 0;
 558:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 559:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else if (client->conn_state == MQTT_CONNECTED) {
 560:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Handle timeout for pending requests */
 561:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_request_time_elapsed(&client->pend_req_queue, MQTT_CYCLIC_TIMER_INTERVAL);
 562:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 563:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* keep_alive > 0 means keep alive functionality shall be used */
 564:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (client->keep_alive > 0) {
 565:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 566:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       client->server_watchdog++;
 567:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* If reception from server has been idle for 1.5*keep_alive time, server is considered unres
 568:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if ((client->server_watchdog * MQTT_CYCLIC_TIMER_INTERVAL) > (client->keep_alive + client->ke
 569:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_cyclic_timer: Server incoming keep-alive timeout\n"));
 570:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         mqtt_close(client, MQTT_CONNECT_TIMEOUT);
 571:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         restart_timer = 0;
 572:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 573:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 574:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* If time for a keep alive message to be sent, transmission has been idle for keep_alive tim
 575:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if ((client->cyclic_tick * MQTT_CYCLIC_TIMER_INTERVAL) >= client->keep_alive) {
 576:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_cyclic_timer: Sending keep-alive message to server\n"))
 577:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         if (mqtt_output_check_space(&client->output, 0) != 0) {
 578:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           mqtt_output_append_fixed_header(&client->output, MQTT_MSG_TYPE_PINGREQ, 0, 0, 0, 0);
 579:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           client->cyclic_tick = 0;
 580:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         }
 581:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       } else {
 582:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         client->cyclic_tick++;
 583:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 584:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 17


 585:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else {
 586:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_cyclic_timer: Timer should not be running in state %d\n", cl
 587:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     restart_timer = 0;
 588:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 589:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (restart_timer) {
 590:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     sys_timeout(MQTT_CYCLIC_TIMER_INTERVAL*1000, mqtt_cyclic_timer, arg);
 591:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 592:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 593:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 594:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 595:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 596:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Send PUBACK, PUBREC or PUBREL response message
 597:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param client MQTT client
 598:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param msg PUBACK, PUBREC or PUBREL
 599:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param pkt_id Packet identifier
 600:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param qos QoS value
 601:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return ERR_OK if successful, ERR_MEM if out of memory
 602:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 603:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static err_t
 604:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** pub_ack_rec_rel_response(mqtt_client_t *client, u8_t msg, u16_t pkt_id, u8_t qos)
 605:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 606:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   err_t err = ERR_OK;
 607:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (mqtt_output_check_space(&client->output, 2)) {
 608:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_append_fixed_header(&client->output, msg, 0, qos, 0, 2);
 609:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_append_u16(&client->output, pkt_id);
 610:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_send(&client->output, client->conn);
 611:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else {
 612:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_DEBUGF(MQTT_DEBUG_TRACE,("pub_ack_rec_rel_response: OOM creating response: %s with pkt_id:
 613:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****                                   mqtt_msg_type_to_str(msg), pkt_id));
 614:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     err = ERR_MEM;
 615:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 616:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return err;
 617:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 618:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 619:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 620:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Subscribe response from server
 621:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param r Matching request
 622:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param result Result code from server
 623:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 624:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 625:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_incomming_suback(struct mqtt_request_t *r, u8_t result)
 626:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 339              		.loc 1 626 0
 340              		.cfi_startproc
 341              		@ args = 0, pretend = 0, frame = 0
 342              		@ frame_needed = 0, uses_anonymous_args = 0
 343              	.LVL23:
 344 0000 08B5     		push	{r3, lr}
 345              	.LCFI7:
 346              		.cfi_def_cfa_offset 8
 347              		.cfi_offset 3, -8
 348              		.cfi_offset 14, -4
 627:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (r->cb != NULL) {
 349              		.loc 1 627 0
 350 0002 4368     		ldr	r3, [r0, #4]
 351 0004 23B1     		cbz	r3, .L25
 628:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     r->cb(r->arg, result < 3 ? ERR_OK : ERR_ABRT);
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 18


 352              		.loc 1 628 0
 353 0006 8068     		ldr	r0, [r0, #8]
 354              	.LVL24:
 355 0008 0229     		cmp	r1, #2
 356 000a 02D8     		bhi	.L28
 357 000c 0021     		movs	r1, #0
 358              	.LVL25:
 359              	.L27:
 360              		.loc 1 628 0 is_stmt 0 discriminator 4
 361 000e 9847     		blx	r3
 362              	.LVL26:
 363              	.L25:
 629:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 630:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 364              		.loc 1 630 0 is_stmt 1
 365 0010 08BD     		pop	{r3, pc}
 366              	.LVL27:
 367              	.L28:
 628:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     r->cb(r->arg, result < 3 ? ERR_OK : ERR_ABRT);
 368              		.loc 1 628 0
 369 0012 6FF00C01 		mvn	r1, #12
 370              	.LVL28:
 371 0016 FAE7     		b	.L27
 372              		.cfi_endproc
 373              	.LFE177:
 375              		.section	.text.mqtt_create_request,"ax",%progbits
 376              		.align	1
 377              		.syntax unified
 378              		.thumb
 379              		.thumb_func
 380              		.fpu fpv5-sp-d16
 382              	mqtt_create_request:
 383              	.LFB161:
 258:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *r = NULL;
 384              		.loc 1 258 0
 385              		.cfi_startproc
 386              		@ args = 0, pretend = 0, frame = 0
 387              		@ frame_needed = 0, uses_anonymous_args = 0
 388              	.LVL29:
 389 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 390              	.LCFI8:
 391              		.cfi_def_cfa_offset 24
 392              		.cfi_offset 3, -24
 393              		.cfi_offset 4, -20
 394              		.cfi_offset 5, -16
 395              		.cfi_offset 6, -12
 396              		.cfi_offset 7, -8
 397              		.cfi_offset 14, -4
 398 0002 0D46     		mov	r5, r1
 399 0004 1746     		mov	r7, r2
 400 0006 1E46     		mov	r6, r3
 401              	.LVL30:
 261:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (n = 0; n < MQTT_REQ_MAX_IN_FLIGHT; n++) {
 402              		.loc 1 261 0
 403 0008 0446     		mov	r4, r0
 404 000a 50B1     		cbz	r0, .L37
 405              	.LVL31:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 19


 406              	.L31:
 262:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Item point to itself if not in use */
 407              		.loc 1 262 0
 408 000c 0023     		movs	r3, #0
 409              	.LVL32:
 410              	.L32:
 262:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Item point to itself if not in use */
 411              		.loc 1 262 0 is_stmt 0 discriminator 1
 412 000e 032B     		cmp	r3, #3
 413 0010 15D8     		bhi	.L38
 264:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       r = &r_objs[n];
 414              		.loc 1 264 0 is_stmt 1
 415 0012 1A01     		lsls	r2, r3, #4
 416 0014 A018     		adds	r0, r4, r2
 417 0016 A258     		ldr	r2, [r4, r2]
 418 0018 9042     		cmp	r0, r2
 419 001a 0AD0     		beq	.L39
 262:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Item point to itself if not in use */
 420              		.loc 1 262 0 discriminator 2
 421 001c 0133     		adds	r3, r3, #1
 422              	.LVL33:
 423 001e DBB2     		uxtb	r3, r3
 424              	.LVL34:
 425 0020 F5E7     		b	.L32
 426              	.LVL35:
 427              	.L37:
 261:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (n = 0; n < MQTT_REQ_MAX_IN_FLIGHT; n++) {
 428              		.loc 1 261 0 discriminator 1
 429 0022 084B     		ldr	r3, .L40
 430              	.LVL36:
 431 0024 40F20512 		movw	r2, #261
 432              	.LVL37:
 433 0028 0749     		ldr	r1, .L40+4
 434              	.LVL38:
 435 002a 0848     		ldr	r0, .L40+8
 436              	.LVL39:
 437 002c FFF7FEFF 		bl	printf
 438              	.LVL40:
 439 0030 ECE7     		b	.L31
 440              	.LVL41:
 441              	.L39:
 266:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       r->cb = cb;
 442              		.loc 1 266 0
 443 0032 0023     		movs	r3, #0
 444              	.LVL42:
 445 0034 0360     		str	r3, [r0]
 267:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       r->arg = arg;
 446              		.loc 1 267 0
 447 0036 4760     		str	r7, [r0, #4]
 268:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       r->pkt_id = pkt_id;
 448              		.loc 1 268 0
 449 0038 8660     		str	r6, [r0, #8]
 269:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       break;
 450              		.loc 1 269 0
 451 003a 8581     		strh	r5, [r0, #12]	@ movhi
 270:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 452              		.loc 1 270 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 20


 453 003c 00E0     		b	.L30
 454              	.LVL43:
 455              	.L38:
 259:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t n;
 456              		.loc 1 259 0
 457 003e 0020     		movs	r0, #0
 458              	.LVL44:
 459              	.L30:
 274:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 460              		.loc 1 274 0
 461 0040 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 462              	.LVL45:
 463              	.L41:
 464 0042 00BF     		.align	2
 465              	.L40:
 466 0044 00000000 		.word	.LC0
 467 0048 34000000 		.word	.LC1
 468 004c 58000000 		.word	.LC2
 469              		.cfi_endproc
 470              	.LFE161:
 472              		.section	.text.mqtt_output_check_space,"ax",%progbits
 473              		.align	1
 474              		.syntax unified
 475              		.thumb
 476              		.thumb_func
 477              		.fpu fpv5-sp-d16
 479              	mqtt_output_check_space:
 480              	.LFB173:
 484:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Start with length of type byte + remaining length */
 481              		.loc 1 484 0
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 0
 484              		@ frame_needed = 0, uses_anonymous_args = 0
 485              	.LVL46:
 486 0000 70B5     		push	{r4, r5, r6, lr}
 487              	.LCFI9:
 488              		.cfi_def_cfa_offset 16
 489              		.cfi_offset 4, -16
 490              		.cfi_offset 5, -12
 491              		.cfi_offset 6, -8
 492              		.cfi_offset 14, -4
 493 0002 0D46     		mov	r5, r1
 486:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 494              		.loc 1 486 0
 495 0004 4C1C     		adds	r4, r1, #1
 496 0006 A4B2     		uxth	r4, r4
 497              	.LVL47:
 488:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 498              		.loc 1 488 0
 499 0008 0646     		mov	r6, r0
 500 000a 70B1     		cbz	r0, .L46
 501              	.LVL48:
 502              	.L44:
 492:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     r_length >>= 7;
 503              		.loc 1 492 0 discriminator 1
 504 000c 0134     		adds	r4, r4, #1
 505              	.LVL49:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 21


 506 000e A4B2     		uxth	r4, r4
 507              	.LVL50:
 494:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 508              		.loc 1 494 0 discriminator 1
 509 0010 ED09     		lsrs	r5, r5, #7
 510              	.LVL51:
 511 0012 FBD1     		bne	.L44
 496:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 512              		.loc 1 496 0
 513 0014 3088     		ldrh	r0, [r6]
 514 0016 7388     		ldrh	r3, [r6, #2]
 515 0018 C01A     		subs	r0, r0, r3
 516 001a 80B2     		uxth	r0, r0
 517 001c C0F58070 		rsb	r0, r0, #256
 497:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 518              		.loc 1 497 0
 519 0020 8442     		cmp	r4, r0
 520 0022 CCBF     		ite	gt
 521 0024 0020     		movgt	r0, #0
 522 0026 0120     		movle	r0, #1
 523 0028 70BD     		pop	{r4, r5, r6, pc}
 524              	.LVL52:
 525              	.L46:
 488:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 526              		.loc 1 488 0 discriminator 1
 527 002a 044B     		ldr	r3, .L47
 528 002c 4FF4F472 		mov	r2, #488
 529 0030 0349     		ldr	r1, .L47+4
 530              	.LVL53:
 531 0032 0448     		ldr	r0, .L47+8
 532              	.LVL54:
 533 0034 FFF7FEFF 		bl	printf
 534              	.LVL55:
 535 0038 E8E7     		b	.L44
 536              	.L48:
 537 003a 00BF     		.align	2
 538              	.L47:
 539 003c 00000000 		.word	.LC0
 540 0040 00000000 		.word	.LC3
 541 0044 58000000 		.word	.LC2
 542              		.cfi_endproc
 543              	.LFE173:
 545              		.section	.text.mqtt_append_request,"ax",%progbits
 546              		.align	1
 547              		.syntax unified
 548              		.thumb
 549              		.thumb_func
 550              		.fpu fpv5-sp-d16
 552              	mqtt_append_request:
 553              	.LFB162:
 284:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *head = NULL;
 554              		.loc 1 284 0
 555              		.cfi_startproc
 556              		@ args = 0, pretend = 0, frame = 0
 557              		@ frame_needed = 0, uses_anonymous_args = 0
 558              	.LVL56:
 559 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 22


 560              	.LCFI10:
 561              		.cfi_def_cfa_offset 24
 562              		.cfi_offset 3, -24
 563              		.cfi_offset 4, -20
 564              		.cfi_offset 5, -16
 565              		.cfi_offset 6, -12
 566              		.cfi_offset 7, -8
 567              		.cfi_offset 14, -4
 568 0002 0E46     		mov	r6, r1
 569              	.LVL57:
 289:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 570              		.loc 1 289 0
 571 0004 0746     		mov	r7, r0
 572 0006 18B1     		cbz	r0, .L57
 573              	.LVL58:
 574              	.L50:
 292:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     time_before += iter->timeout_diff;
 575              		.loc 1 292 0
 576 0008 3B68     		ldr	r3, [r7]
 577              	.LVL59:
 286:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *iter;
 578              		.loc 1 286 0
 579 000a 0024     		movs	r4, #0
 285:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   s16_t time_before = 0;
 580              		.loc 1 285 0
 581 000c 2546     		mov	r5, r4
 292:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     time_before += iter->timeout_diff;
 582              		.loc 1 292 0
 583 000e 0CE0     		b	.L51
 584              	.LVL60:
 585              	.L57:
 289:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 586              		.loc 1 289 0 discriminator 1
 587 0010 104B     		ldr	r3, .L60
 588 0012 40F22112 		movw	r2, #289
 589 0016 1049     		ldr	r1, .L60+4
 590              	.LVL61:
 591 0018 1048     		ldr	r0, .L60+8
 592              	.LVL62:
 593 001a FFF7FEFF 		bl	printf
 594              	.LVL63:
 595 001e F3E7     		b	.L50
 596              	.LVL64:
 597              	.L52:
 293:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     head = iter;
 598              		.loc 1 293 0 discriminator 3
 599 0020 DA89     		ldrh	r2, [r3, #14]
 600 0022 1444     		add	r4, r4, r2
 601              	.LVL65:
 602 0024 24B2     		sxth	r4, r4
 603              	.LVL66:
 294:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 604              		.loc 1 294 0 discriminator 3
 605 0026 1D46     		mov	r5, r3
 292:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     time_before += iter->timeout_diff;
 606              		.loc 1 292 0 discriminator 3
 607 0028 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 23


 608              	.LVL67:
 609              	.L51:
 292:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     time_before += iter->timeout_diff;
 610              		.loc 1 292 0 is_stmt 0 discriminator 1
 611 002a 002B     		cmp	r3, #0
 612 002c F8D1     		bne	.L52
 297:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   r->timeout_diff = MQTT_REQ_TIMEOUT - time_before;
 613              		.loc 1 297 0 is_stmt 1
 614 002e 1E2C     		cmp	r4, #30
 615 0030 05DC     		bgt	.L58
 616              	.LVL68:
 617              	.L53:
 298:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (head == NULL) {
 618              		.loc 1 298 0
 619 0032 C4F11E04 		rsb	r4, r4, #30
 620              	.LVL69:
 621 0036 F481     		strh	r4, [r6, #14]	@ movhi
 299:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     *tail = r;
 622              		.loc 1 299 0
 623 0038 4DB1     		cbz	r5, .L59
 302:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 624              		.loc 1 302 0
 625 003a 2E60     		str	r6, [r5]
 626              	.L49:
 304:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 627              		.loc 1 304 0
 628 003c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 629              	.LVL70:
 630              	.L58:
 297:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   r->timeout_diff = MQTT_REQ_TIMEOUT - time_before;
 631              		.loc 1 297 0 discriminator 1
 632 003e 054B     		ldr	r3, .L60
 633              	.LVL71:
 634 0040 40F22912 		movw	r2, #297
 635 0044 0649     		ldr	r1, .L60+12
 636 0046 0548     		ldr	r0, .L60+8
 637 0048 FFF7FEFF 		bl	printf
 638              	.LVL72:
 639 004c F1E7     		b	.L53
 640              	.LVL73:
 641              	.L59:
 300:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else {
 642              		.loc 1 300 0
 643 004e 3E60     		str	r6, [r7]
 644 0050 F4E7     		b	.L49
 645              	.L61:
 646 0052 00BF     		.align	2
 647              	.L60:
 648 0054 00000000 		.word	.LC0
 649 0058 00000000 		.word	.LC4
 650 005c 58000000 		.word	.LC2
 651 0060 24000000 		.word	.LC5
 652              		.cfi_endproc
 653              	.LFE162:
 655              		.section	.text.mqtt_request_time_elapsed,"ax",%progbits
 656              		.align	1
 657              		.syntax unified
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 24


 658              		.thumb
 659              		.thumb_func
 660              		.fpu fpv5-sp-d16
 662              	mqtt_request_time_elapsed:
 663              	.LFB165:
 362:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *r;
 664              		.loc 1 362 0
 665              		.cfi_startproc
 666              		@ args = 0, pretend = 0, frame = 0
 667              		@ frame_needed = 0, uses_anonymous_args = 0
 668              	.LVL74:
 669 0000 70B5     		push	{r4, r5, r6, lr}
 670              	.LCFI11:
 671              		.cfi_def_cfa_offset 16
 672              		.cfi_offset 4, -16
 673              		.cfi_offset 5, -12
 674              		.cfi_offset 6, -8
 675              		.cfi_offset 14, -4
 676 0002 0E46     		mov	r6, r1
 364:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   r = *tail;
 677              		.loc 1 364 0
 678 0004 0546     		mov	r5, r0
 679 0006 08B1     		cbz	r0, .L70
 680              	.LVL75:
 681              	.L63:
 365:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   while (t > 0 && r != NULL) {
 682              		.loc 1 365 0
 683 0008 2C68     		ldr	r4, [r5]
 684              	.LVL76:
 366:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (t >= r->timeout_diff) {
 685              		.loc 1 366 0
 686 000a 0BE0     		b	.L64
 687              	.LVL77:
 688              	.L70:
 364:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   r = *tail;
 689              		.loc 1 364 0 discriminator 1
 690 000c 144B     		ldr	r3, .L72
 691 000e 4FF4B672 		mov	r2, #364
 692 0012 1449     		ldr	r1, .L72+4
 693              	.LVL78:
 694 0014 1448     		ldr	r0, .L72+8
 695              	.LVL79:
 696 0016 FFF7FEFF 		bl	printf
 697              	.LVL80:
 698 001a F5E7     		b	.L63
 699              	.LVL81:
 700              	.L66:
 375:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Tail might be be modified in callback, so re-read it in every iteration */
 701              		.loc 1 375 0
 702 001c 2046     		mov	r0, r4
 703 001e FFF7FEFF 		bl	mqtt_delete_request
 704              	.LVL82:
 377:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     } else {
 705              		.loc 1 377 0
 706 0022 2C68     		ldr	r4, [r5]
 707              	.LVL83:
 708              	.L64:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 25


 366:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (t >= r->timeout_diff) {
 709              		.loc 1 366 0
 710 0024 231C     		adds	r3, r4, #0
 711 0026 18BF     		it	ne
 712 0028 0123     		movne	r3, #1
 713 002a 002E     		cmp	r6, #0
 714 002c 08BF     		it	eq
 715 002e 0023     		moveq	r3, #0
 716 0030 A3B1     		cbz	r3, .L71
 367:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       t -= (u8_t)r->timeout_diff;
 717              		.loc 1 367 0
 718 0032 B2B2     		uxth	r2, r6
 719 0034 E389     		ldrh	r3, [r4, #14]
 720 0036 9A42     		cmp	r2, r3
 721 0038 0CD3     		bcc	.L65
 368:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Unchain */
 722              		.loc 1 368 0
 723 003a DBB2     		uxtb	r3, r3
 724 003c F31A     		subs	r3, r6, r3
 725 003e DEB2     		uxtb	r6, r3
 726              	.LVL84:
 370:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Notify upper layer about timeout */
 727              		.loc 1 370 0
 728 0040 2368     		ldr	r3, [r4]
 729 0042 2B60     		str	r3, [r5]
 372:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         r->cb(r->arg, ERR_TIMEOUT);
 730              		.loc 1 372 0
 731 0044 6368     		ldr	r3, [r4, #4]
 732 0046 002B     		cmp	r3, #0
 733 0048 E8D0     		beq	.L66
 373:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 734              		.loc 1 373 0
 735 004a 6FF00201 		mvn	r1, #2
 736 004e A068     		ldr	r0, [r4, #8]
 737 0050 9847     		blx	r3
 738              	.LVL85:
 739 0052 E3E7     		b	.L66
 740              	.L65:
 379:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       t = 0;
 741              		.loc 1 379 0
 742 0054 9B1A     		subs	r3, r3, r2
 743 0056 E381     		strh	r3, [r4, #14]	@ movhi
 744              	.LVL86:
 380:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 745              		.loc 1 380 0
 746 0058 0026     		movs	r6, #0
 747 005a E3E7     		b	.L64
 748              	.LVL87:
 749              	.L71:
 383:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 750              		.loc 1 383 0
 751 005c 70BD     		pop	{r4, r5, r6, pc}
 752              	.LVL88:
 753              	.L73:
 754 005e 00BF     		.align	2
 755              	.L72:
 756 0060 00000000 		.word	.LC0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 26


 757 0064 00000000 		.word	.LC6
 758 0068 58000000 		.word	.LC2
 759              		.cfi_endproc
 760              	.LFE165:
 762              		.section	.text.mqtt_clear_requests,"ax",%progbits
 763              		.align	1
 764              		.syntax unified
 765              		.thumb
 766              		.thumb_func
 767              		.fpu fpv5-sp-d16
 769              	mqtt_clear_requests:
 770              	.LFB166:
 391:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *iter, *next;
 771              		.loc 1 391 0
 772              		.cfi_startproc
 773              		@ args = 0, pretend = 0, frame = 0
 774              		@ frame_needed = 0, uses_anonymous_args = 0
 775              	.LVL89:
 776 0000 38B5     		push	{r3, r4, r5, lr}
 777              	.LCFI12:
 778              		.cfi_def_cfa_offset 16
 779              		.cfi_offset 3, -16
 780              		.cfi_offset 4, -12
 781              		.cfi_offset 5, -8
 782              		.cfi_offset 14, -4
 393:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (iter = *tail; iter != NULL; iter = next) {
 783              		.loc 1 393 0
 784 0002 0546     		mov	r5, r0
 785 0004 08B1     		cbz	r0, .L79
 786              	.LVL90:
 787              	.L75:
 394:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     next = iter->next;
 788              		.loc 1 394 0
 789 0006 2868     		ldr	r0, [r5]
 790              	.LVL91:
 791 0008 0BE0     		b	.L76
 792              	.LVL92:
 793              	.L79:
 393:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (iter = *tail; iter != NULL; iter = next) {
 794              		.loc 1 393 0 discriminator 1
 795 000a 084B     		ldr	r3, .L80
 796 000c 40F28912 		movw	r2, #393
 797 0010 0749     		ldr	r1, .L80+4
 798 0012 0848     		ldr	r0, .L80+8
 799              	.LVL93:
 800 0014 FFF7FEFF 		bl	printf
 801              	.LVL94:
 802 0018 F5E7     		b	.L75
 803              	.LVL95:
 804              	.L77:
 395:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_delete_request(iter);
 805              		.loc 1 395 0 discriminator 3
 806 001a 0468     		ldr	r4, [r0]
 807              	.LVL96:
 396:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 808              		.loc 1 396 0 discriminator 3
 809 001c FFF7FEFF 		bl	mqtt_delete_request
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 27


 810              	.LVL97:
 394:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     next = iter->next;
 811              		.loc 1 394 0 discriminator 3
 812 0020 2046     		mov	r0, r4
 813              	.LVL98:
 814              	.L76:
 394:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     next = iter->next;
 815              		.loc 1 394 0 is_stmt 0 discriminator 1
 816 0022 0028     		cmp	r0, #0
 817 0024 F9D1     		bne	.L77
 398:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 818              		.loc 1 398 0 is_stmt 1
 819 0026 0023     		movs	r3, #0
 820 0028 2B60     		str	r3, [r5]
 399:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 821              		.loc 1 399 0
 822 002a 38BD     		pop	{r3, r4, r5, pc}
 823              	.LVL99:
 824              	.L81:
 825              		.align	2
 826              	.L80:
 827 002c 00000000 		.word	.LC0
 828 0030 00000000 		.word	.LC7
 829 0034 58000000 		.word	.LC2
 830              		.cfi_endproc
 831              	.LFE166:
 833              		.section	.text.mqtt_take_request,"ax",%progbits
 834              		.align	1
 835              		.syntax unified
 836              		.thumb
 837              		.thumb_func
 838              		.fpu fpv5-sp-d16
 840              	mqtt_take_request:
 841              	.LFB164:
 327:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *iter = NULL, *prev = NULL;
 842              		.loc 1 327 0
 843              		.cfi_startproc
 844              		@ args = 0, pretend = 0, frame = 0
 845              		@ frame_needed = 0, uses_anonymous_args = 0
 846              	.LVL100:
 847 0000 38B5     		push	{r3, r4, r5, lr}
 848              	.LCFI13:
 849              		.cfi_def_cfa_offset 16
 850              		.cfi_offset 3, -16
 851              		.cfi_offset 4, -12
 852              		.cfi_offset 5, -8
 853              		.cfi_offset 14, -4
 854 0002 0C46     		mov	r4, r1
 855              	.LVL101:
 329:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Search all request for pkt_id */
 856              		.loc 1 329 0
 857 0004 0546     		mov	r5, r0
 858 0006 40B1     		cbz	r0, .L92
 859              	.LVL102:
 860              	.L83:
 331:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (iter->pkt_id == pkt_id) {
 861              		.loc 1 331 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 28


 862 0008 2868     		ldr	r0, [r5]
 863              	.LVL103:
 328:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_take_request: tail != NULL", tail != NULL);
 864              		.loc 1 328 0
 865 000a 0022     		movs	r2, #0
 866              	.LVL104:
 867              	.L84:
 331:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (iter->pkt_id == pkt_id) {
 868              		.loc 1 331 0 discriminator 1
 869 000c 68B1     		cbz	r0, .L85
 332:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       break;
 870              		.loc 1 332 0
 871 000e 8389     		ldrh	r3, [r0, #12]
 872 0010 A342     		cmp	r3, r4
 873 0012 0AD0     		beq	.L85
 874              	.LVL105:
 335:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 875              		.loc 1 335 0 discriminator 2
 876 0014 0246     		mov	r2, r0
 331:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (iter->pkt_id == pkt_id) {
 877              		.loc 1 331 0 discriminator 2
 878 0016 0068     		ldr	r0, [r0]
 879              	.LVL106:
 880 0018 F8E7     		b	.L84
 881              	.LVL107:
 882              	.L92:
 329:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Search all request for pkt_id */
 883              		.loc 1 329 0 discriminator 1
 884 001a 0C4B     		ldr	r3, .L94
 885 001c 40F24912 		movw	r2, #329
 886 0020 0B49     		ldr	r1, .L94+4
 887              	.LVL108:
 888 0022 0C48     		ldr	r0, .L94+8
 889              	.LVL109:
 890 0024 FFF7FEFF 		bl	printf
 891              	.LVL110:
 892 0028 EEE7     		b	.L83
 893              	.LVL111:
 894              	.L85:
 339:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* unchain */
 895              		.loc 1 339 0
 896 002a 50B1     		cbz	r0, .L82
 341:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       *tail= iter->next;
 897              		.loc 1 341 0
 898 002c 52B1     		cbz	r2, .L93
 344:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 899              		.loc 1 344 0
 900 002e 0368     		ldr	r3, [r0]
 901 0030 1360     		str	r3, [r2]
 902              	.L89:
 347:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       iter->next->timeout_diff += iter->timeout_diff;
 903              		.loc 1 347 0
 904 0032 0368     		ldr	r3, [r0]
 905 0034 1BB1     		cbz	r3, .L90
 348:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 906              		.loc 1 348 0
 907 0036 C289     		ldrh	r2, [r0, #14]
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 29


 908              	.LVL112:
 909 0038 D989     		ldrh	r1, [r3, #14]
 910 003a 0A44     		add	r2, r2, r1
 911 003c DA81     		strh	r2, [r3, #14]	@ movhi
 912              	.L90:
 350:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 913              		.loc 1 350 0
 914 003e 0023     		movs	r3, #0
 915 0040 0360     		str	r3, [r0]
 916              	.L82:
 353:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 917              		.loc 1 353 0
 918 0042 38BD     		pop	{r3, r4, r5, pc}
 919              	.LVL113:
 920              	.L93:
 342:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     } else {
 921              		.loc 1 342 0
 922 0044 0368     		ldr	r3, [r0]
 923 0046 2B60     		str	r3, [r5]
 924 0048 F3E7     		b	.L89
 925              	.L95:
 926 004a 00BF     		.align	2
 927              	.L94:
 928 004c 00000000 		.word	.LC0
 929 0050 00000000 		.word	.LC8
 930 0054 58000000 		.word	.LC2
 931              		.cfi_endproc
 932              	.LFE164:
 934              		.section	.text.mqtt_init_requests,"ax",%progbits
 935              		.align	1
 936              		.syntax unified
 937              		.thumb
 938              		.thumb_func
 939              		.fpu fpv5-sp-d16
 941              	mqtt_init_requests:
 942              	.LFB167:
 406:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t n;
 943              		.loc 1 406 0
 944              		.cfi_startproc
 945              		@ args = 0, pretend = 0, frame = 0
 946              		@ frame_needed = 0, uses_anonymous_args = 0
 947              	.LVL114:
 948 0000 10B5     		push	{r4, lr}
 949              	.LCFI14:
 950              		.cfi_def_cfa_offset 8
 951              		.cfi_offset 4, -8
 952              		.cfi_offset 14, -4
 408:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (n = 0; n < MQTT_REQ_MAX_IN_FLIGHT; n++) {
 953              		.loc 1 408 0
 954 0002 0446     		mov	r4, r0
 955 0004 08B1     		cbz	r0, .L101
 956              	.LVL115:
 957              	.L97:
 406:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t n;
 958              		.loc 1 406 0 discriminator 1
 959 0006 0023     		movs	r3, #0
 960 0008 0CE0     		b	.L98
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 30


 961              	.LVL116:
 962              	.L101:
 408:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   for (n = 0; n < MQTT_REQ_MAX_IN_FLIGHT; n++) {
 963              		.loc 1 408 0 discriminator 1
 964 000a 084B     		ldr	r3, .L102
 965 000c 4FF4CC72 		mov	r2, #408
 966 0010 0749     		ldr	r1, .L102+4
 967 0012 0848     		ldr	r0, .L102+8
 968              	.LVL117:
 969 0014 FFF7FEFF 		bl	printf
 970              	.LVL118:
 971 0018 F5E7     		b	.L97
 972              	.LVL119:
 973              	.L99:
 411:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 974              		.loc 1 411 0 discriminator 3
 975 001a 1A01     		lsls	r2, r3, #4
 976 001c A118     		adds	r1, r4, r2
 977 001e A150     		str	r1, [r4, r2]
 409:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Item pointing to itself indicates unused */
 978              		.loc 1 409 0 discriminator 3
 979 0020 0133     		adds	r3, r3, #1
 980              	.LVL120:
 981 0022 DBB2     		uxtb	r3, r3
 982              	.LVL121:
 983              	.L98:
 409:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Item pointing to itself indicates unused */
 984              		.loc 1 409 0 is_stmt 0 discriminator 1
 985 0024 032B     		cmp	r3, #3
 986 0026 F8D9     		bls	.L99
 413:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 987              		.loc 1 413 0 is_stmt 1
 988 0028 10BD     		pop	{r4, pc}
 989              	.LVL122:
 990              	.L103:
 991 002a 00BF     		.align	2
 992              	.L102:
 993 002c 00000000 		.word	.LC0
 994 0030 00000000 		.word	.LC9
 995 0034 58000000 		.word	.LC2
 996              		.cfi_endproc
 997              	.LFE167:
 999              		.section	.text.mqtt_output_send,"ax",%progbits
 1000              		.align	1
 1001              		.syntax unified
 1002              		.thumb
 1003              		.thumb_func
 1004              		.fpu fpv5-sp-d16
 1006              	mqtt_output_send:
 1007              	.LFB160:
 206:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   err_t err;
 1008              		.loc 1 206 0
 1009              		.cfi_startproc
 1010              		@ args = 0, pretend = 0, frame = 0
 1011              		@ frame_needed = 0, uses_anonymous_args = 0
 1012              	.LVL123:
 1013 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 31


 1014              	.LCFI15:
 1015              		.cfi_def_cfa_offset 24
 1016              		.cfi_offset 4, -24
 1017              		.cfi_offset 5, -20
 1018              		.cfi_offset 6, -16
 1019              		.cfi_offset 7, -12
 1020              		.cfi_offset 8, -8
 1021              		.cfi_offset 14, -4
 1022 0004 0546     		mov	r5, r0
 1023 0006 0E46     		mov	r6, r1
 1024              	.LVL124:
 209:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t send_len = tcp_sndbuf(tpcb);
 1025              		.loc 1 209 0
 1026 0008 4288     		ldrh	r2, [r0, #2]
 1027 000a D4B2     		uxtb	r4, r2
 1028 000c C4F58074 		rsb	r4, r4, #256
 1029 0010 0388     		ldrh	r3, [r0]
 1030 0012 9B1A     		subs	r3, r3, r2
 1031 0014 9BB2     		uxth	r3, r3
 1032 0016 9C42     		cmp	r4, r3
 1033 0018 A8BF     		it	ge
 1034 001a 1C46     		movge	r4, r3
 1035 001c A4B2     		uxth	r4, r4
 1036              	.LVL125:
 210:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_output_send: tpcb != NULL", tpcb != NULL);
 1037              		.loc 1 210 0
 1038 001e B1F86070 		ldrh	r7, [r1, #96]
 1039              	.LVL126:
 211:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1040              		.loc 1 211 0
 1041 0022 51B3     		cbz	r1, .L113
 1042              	.LVL127:
 1043              	.L105:
 213:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return;
 1044              		.loc 1 213 0
 1045 0024 B4FA84F3 		clz	r3, r4
 1046 0028 5B09     		lsrs	r3, r3, #5
 1047 002a 002F     		cmp	r7, #0
 1048 002c 08BF     		it	eq
 1049 002e 0123     		moveq	r3, #1
 1050 0030 0BBB     		cbnz	r3, .L104
 220:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Space in TCP output buffer is larger than available in ring buffer linear portion */
 1051              		.loc 1 220 0
 1052 0032 BC42     		cmp	r4, r7
 1053 0034 28D2     		bcs	.L110
 1054              	.LVL128:
 224:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 1055              		.loc 1 224 0
 1056 0036 B5F80080 		ldrh	r8, [r5]
 1057 003a 6888     		ldrh	r0, [r5, #2]
 1058 003c A8EB0008 		sub	r8, r8, r0
 1059 0040 1FFA88F8 		uxth	r8, r8
 1060 0044 A045     		cmp	r8, r4
 1061 0046 94BF     		ite	ls
 1062 0048 4FF00008 		movls	r8, #0
 1063 004c 4FF00108 		movhi	r8, #1
 1064              	.LVL129:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 32


 222:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Wrap around if more data in ring buffer after linear portion */
 1065              		.loc 1 222 0
 1066 0050 2746     		mov	r7, r4
 1067              	.LVL130:
 1068              	.L107:
 226:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if ((err == ERR_OK) && wrap) {
 1069              		.loc 1 226 0
 1070 0052 A978     		ldrb	r1, [r5, #2]	@ zero_extendqisi2
 1071 0054 2944     		add	r1, r1, r5
 1072 0056 0431     		adds	r1, r1, #4
 1073 0058 B8F1000F 		cmp	r8, #0
 1074 005c 17D0     		beq	.L111
 1075 005e 0323     		movs	r3, #3
 1076              	.L108:
 226:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if ((err == ERR_OK) && wrap) {
 1077              		.loc 1 226 0 is_stmt 0 discriminator 4
 1078 0060 3A46     		mov	r2, r7
 1079 0062 3046     		mov	r0, r6
 1080 0064 FFF7FEFF 		bl	tcp_write
 1081              	.LVL131:
 227:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_ringbuf_advance_get_idx(rb, send_len);
 1082              		.loc 1 227 0 is_stmt 1 discriminator 4
 1083 0068 0346     		mov	r3, r0
 1084 006a 0028     		cmp	r0, #0
 1085 006c 0CBF     		ite	eq
 1086 006e 4046     		moveq	r0, r8
 1087 0070 0020     		movne	r0, #0
 1088              	.LVL132:
 1089 0072 70B9     		cbnz	r0, .L114
 1090              	.L109:
 1091              	.LVL133:
 234:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_ringbuf_advance_get_idx(rb, send_len);
 1092              		.loc 1 234 0
 1093 0074 4BB3     		cbz	r3, .L115
 1094              	.LVL134:
 1095              	.L104:
 241:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1096              		.loc 1 241 0
 1097 0076 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1098              	.LVL135:
 1099              	.L113:
 211:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1100              		.loc 1 211 0 discriminator 1
 1101 007a 174B     		ldr	r3, .L116
 1102 007c D322     		movs	r2, #211
 1103 007e 1749     		ldr	r1, .L116+4
 1104              	.LVL136:
 1105 0080 1748     		ldr	r0, .L116+8
 1106              	.LVL137:
 1107 0082 FFF7FEFF 		bl	printf
 1108              	.LVL138:
 1109 0086 CDE7     		b	.L105
 1110              	.L110:
 208:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t ringbuf_lin_len = mqtt_ringbuf_linear_read_length(rb);
 1111              		.loc 1 208 0
 1112 0088 4FF00008 		mov	r8, #0
 1113 008c E1E7     		b	.L107
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 33


 1114              	.LVL139:
 1115              	.L111:
 226:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if ((err == ERR_OK) && wrap) {
 1116              		.loc 1 226 0
 1117 008e 0123     		movs	r3, #1
 1118 0090 E6E7     		b	.L108
 1119              	.L114:
 228:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Use the lesser one of ring buffer linear length and TCP send buffer size */
 1120              		.loc 1 228 0
 1121 0092 6B88     		ldrh	r3, [r5, #2]
 1122 0094 1F44     		add	r7, r7, r3
 1123              	.LVL140:
 1124 0096 BBB2     		uxth	r3, r7
 1125 0098 6B80     		strh	r3, [r5, #2]	@ movhi
 230:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     err = tcp_write(tpcb, mqtt_ringbuf_get_ptr(rb), send_len, TCP_WRITE_FLAG_COPY);
 1126              		.loc 1 230 0
 1127 009a D9B2     		uxtb	r1, r3
 1128 009c C1F58077 		rsb	r7, r1, #256
 1129 00a0 2A88     		ldrh	r2, [r5]
 1130 00a2 D31A     		subs	r3, r2, r3
 1131 00a4 9BB2     		uxth	r3, r3
 1132 00a6 9F42     		cmp	r7, r3
 1133 00a8 A8BF     		it	ge
 1134 00aa 1F46     		movge	r7, r3
 1135 00ac B6F86030 		ldrh	r3, [r6, #96]
 1136 00b0 9F42     		cmp	r7, r3
 1137 00b2 A8BF     		it	ge
 1138 00b4 1F46     		movge	r7, r3
 1139 00b6 BFB2     		uxth	r7, r7
 1140              	.LVL141:
 231:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 1141              		.loc 1 231 0
 1142 00b8 2944     		add	r1, r1, r5
 1143 00ba 0123     		movs	r3, #1
 1144 00bc 3A46     		mov	r2, r7
 1145 00be 0431     		adds	r1, r1, #4
 1146 00c0 3046     		mov	r0, r6
 1147 00c2 FFF7FEFF 		bl	tcp_write
 1148              	.LVL142:
 1149 00c6 0346     		mov	r3, r0
 1150              	.LVL143:
 1151 00c8 D4E7     		b	.L109
 1152              	.L115:
 235:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Flush */
 1153              		.loc 1 235 0
 1154 00ca 6B88     		ldrh	r3, [r5, #2]
 1155              	.LVL144:
 1156 00cc 1F44     		add	r7, r7, r3
 1157              	.LVL145:
 1158 00ce 6F80     		strh	r7, [r5, #2]	@ movhi
 237:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else {
 1159              		.loc 1 237 0
 1160 00d0 3046     		mov	r0, r6
 1161 00d2 FFF7FEFF 		bl	tcp_output
 1162              	.LVL146:
 1163 00d6 CEE7     		b	.L104
 1164              	.L117:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 34


 1165              		.align	2
 1166              	.L116:
 1167 00d8 00000000 		.word	.LC0
 1168 00dc 00000000 		.word	.LC10
 1169 00e0 58000000 		.word	.LC2
 1170              		.cfi_endproc
 1171              	.LFE160:
 1173              		.section	.text.mqtt_tcp_poll_cb,"ax",%progbits
 1174              		.align	1
 1175              		.syntax unified
 1176              		.thumb
 1177              		.thumb_func
 1178              		.fpu fpv5-sp-d16
 1180              	mqtt_tcp_poll_cb:
 1181              	.LFB183:
 631:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 632:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 633:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 634:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Complete MQTT message received or buffer full
 635:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param client MQTT client
 636:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param fixed_hdr_idx header index
 637:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param length length received part
 638:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param remaining_length Remaining length of complete message
 639:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 640:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static mqtt_connection_status_t
 641:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_message_received(mqtt_client_t *client, u8_t fixed_hdr_idx, u16_t length, u32_t remaining_le
 642:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 643:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_connection_status_t res = MQTT_CONNECT_ACCEPTED;
 644:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 645:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t *var_hdr_payload = client->rx_buffer + fixed_hdr_idx;
 646:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 647:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Control packet type */
 648:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t pkt_type = MQTT_CTL_PACKET_TYPE(client->rx_buffer[0]);
 649:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t pkt_id = 0;
 650:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 651:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (pkt_type == MQTT_MSG_TYPE_CONNACK) {
 652:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (client->conn_state == MQTT_CONNECTING) {
 653:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Get result code from CONNACK */
 654:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       res = (mqtt_connection_status_t)var_hdr_payload[1];
 655:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_message_received: Connect response code %d\n", res));
 656:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (res == MQTT_CONNECT_ACCEPTED) {
 657:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         /* Reset cyclic_tick when changing to connected state */
 658:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         client->cyclic_tick = 0;
 659:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         client->conn_state = MQTT_CONNECTED;
 660:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         /* Notify upper layer */
 661:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         if (client->connect_cb != 0) {
 662:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           client->connect_cb(client, client->connect_arg, res);
 663:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         }
 664:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 665:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     } else {
 666:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_message_received: Received CONNACK in connected state\n"))
 667:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 668:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else if (pkt_type == MQTT_MSG_TYPE_PINGRESP) {
 669:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_DEBUGF(MQTT_DEBUG_TRACE,( "mqtt_message_received: Received PINGRESP from server\n"));
 670:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 671:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else if (pkt_type == MQTT_MSG_TYPE_PUBLISH) {
 672:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     u16_t payload_offset = 0;
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 35


 673:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     u16_t payload_length = length;
 674:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     u8_t qos = MQTT_CTL_PACKET_QOS(client->rx_buffer[0]);
 675:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 676:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (client->msg_idx <= MQTT_VAR_HEADER_BUFFER_LEN) {
 677:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Should have topic and pkt id*/
 678:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       uint8_t *topic;
 679:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       uint16_t after_topic;
 680:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       u8_t bkp;
 681:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       u16_t topic_len = var_hdr_payload[0];
 682:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       topic_len = (topic_len << 8) + (u16_t)(var_hdr_payload[1]);
 683:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 684:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       topic = var_hdr_payload + 2;
 685:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       after_topic = 2 + topic_len;
 686:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Check length, add one byte even for QoS 0 so that zero termination will fit */
 687:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if ((after_topic + (qos? 2 : 1)) > length) {
 688:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_message_received: Receive buffer can not fit topic + pkt
 689:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         goto out_disconnect;
 690:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 691:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 692:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* id for QoS 1 and 2 */
 693:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (qos > 0) {
 694:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         client->inpub_pkt_id = ((u16_t)var_hdr_payload[after_topic] << 8) + (u16_t)var_hdr_payload[
 695:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         after_topic += 2;
 696:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       } else {
 697:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         client->inpub_pkt_id = 0;
 698:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 699:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Take backup of byte after topic */
 700:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       bkp = topic[topic_len];
 701:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Zero terminate string */
 702:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       topic[topic_len] = 0;
 703:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Payload data remaining in receive buffer */
 704:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       payload_length = length - after_topic;
 705:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       payload_offset = after_topic;
 706:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 707:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_incomming_publish: Received message with QoS %d at topic:
 708:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****                                     qos, topic, remaining_length + payload_length));
 709:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (client->pub_cb != NULL) {
 710:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         client->pub_cb(client->inpub_arg, (const char *)topic, remaining_length + payload_length);
 711:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 712:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Restore byte after topic */
 713:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       topic[topic_len] = bkp;
 714:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 715:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (payload_length > 0 || remaining_length == 0) {
 716:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       client->data_cb(client->inpub_arg, var_hdr_payload + payload_offset, payload_length, remainin
 717:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Reply if QoS > 0 */
 718:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (remaining_length == 0 && qos > 0) {
 719:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         /* Send PUBACK for QoS 1 or PUBREC for QoS 2 */
 720:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         u8_t resp_msg = (qos == 1) ? MQTT_MSG_TYPE_PUBACK : MQTT_MSG_TYPE_PUBREC;
 721:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_incomming_publish: Sending publish response: %s with pk
 722:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****                                       mqtt_msg_type_to_str(resp_msg), client->inpub_pkt_id));
 723:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         pub_ack_rec_rel_response(client, resp_msg, client->inpub_pkt_id, 0);
 724:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 725:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 726:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else {
 727:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Get packet identifier */
 728:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     pkt_id = (u16_t)var_hdr_payload[0] << 8;
 729:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     pkt_id |= (u16_t)var_hdr_payload[1];
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 36


 730:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (pkt_id == 0) {
 731:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_message_received: Got message with illegal packet identifi
 732:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       goto out_disconnect;
 733:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 734:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (pkt_type == MQTT_MSG_TYPE_PUBREC) {
 735:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_message_received: PUBREC, sending PUBREL with pkt_id: %d\
 736:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       pub_ack_rec_rel_response(client, MQTT_MSG_TYPE_PUBREL, pkt_id, 1);
 737:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 738:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     } else if (pkt_type == MQTT_MSG_TYPE_PUBREL) {
 739:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_message_received: PUBREL, sending PUBCOMP response with p
 740:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       pub_ack_rec_rel_response(client, MQTT_MSG_TYPE_PUBCOMP, pkt_id, 0);
 741:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 742:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     } else if (pkt_type == MQTT_MSG_TYPE_SUBACK || pkt_type == MQTT_MSG_TYPE_UNSUBACK ||
 743:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****               pkt_type == MQTT_MSG_TYPE_PUBCOMP || pkt_type == MQTT_MSG_TYPE_PUBACK) {
 744:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       struct mqtt_request_t *r = mqtt_take_request(&client->pend_req_queue, pkt_id);
 745:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (r != NULL) {
 746:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_message_received: %s response with id %d\n", mqtt_msg_t
 747:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         if (pkt_type == MQTT_MSG_TYPE_SUBACK) {
 748:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           if (length < 3) {
 749:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_message_received: To small SUBACK packet\n"));
 750:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             goto out_disconnect;
 751:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           } else {
 752:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             mqtt_incomming_suback(r, var_hdr_payload[2]);
 753:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           }
 754:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         } else if (r->cb != NULL) {
 755:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           r->cb(r->arg, ERR_OK);
 756:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         }
 757:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         mqtt_delete_request(r);
 758:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       } else {
 759:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_WARN,( "mqtt_message_received: Received %s reply, with wrong pkt_id:
 760:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 761:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     } else {
 762:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_WARN,( "mqtt_message_received: Received unknown message type: %d\n", p
 763:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       goto out_disconnect;
 764:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 765:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 766:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return res;
 767:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** out_disconnect:
 768:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return MQTT_CONNECT_DISCONNECTED;
 769:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 770:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 771:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 772:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 773:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * MQTT incoming message parser
 774:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param client MQTT client
 775:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param p PBUF chain of received data
 776:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return Connection status
 777:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 778:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static mqtt_connection_status_t
 779:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_parse_incoming(mqtt_client_t *client, struct pbuf *p)
 780:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 781:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t in_offset = 0;
 782:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u32_t msg_rem_len = 0;
 783:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t fixed_hdr_idx = 0;
 784:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t b = 0;
 785:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 786:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   while (p->tot_len > in_offset) {
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 37


 787:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if ((fixed_hdr_idx < 2) || ((b & 0x80) != 0)) {
 788:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 789:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (fixed_hdr_idx < client->msg_idx) {
 790:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         b = client->rx_buffer[fixed_hdr_idx];
 791:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       } else {
 792:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         b = pbuf_get_at(p, in_offset++);
 793:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         client->rx_buffer[client->msg_idx++] = b;
 794:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 795:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       fixed_hdr_idx++;
 796:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 797:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (fixed_hdr_idx >= 2) {
 798:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         msg_rem_len |= (u32_t)(b & 0x7f) << ((fixed_hdr_idx - 2) * 7);
 799:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         if ((b & 0x80) == 0) {
 800:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_parse_incoming: Remaining length after fixed header: 
 801:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           if (msg_rem_len == 0) {
 802:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             /* Complete message with no extra headers of payload received */
 803:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             mqtt_message_received(client, fixed_hdr_idx, 0, 0);
 804:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             client->msg_idx = 0;
 805:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             fixed_hdr_idx = 0;
 806:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           } else {
 807:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             /* Bytes remaining in message */
 808:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             msg_rem_len = (msg_rem_len + fixed_hdr_idx) - client->msg_idx;
 809:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           }
 810:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         }
 811:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 812:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     } else {
 813:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       u16_t cpy_len, cpy_start, buffer_space;
 814:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 815:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       cpy_start = (client->msg_idx - fixed_hdr_idx) % (MQTT_VAR_HEADER_BUFFER_LEN - fixed_hdr_idx) 
 816:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 817:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Allow to copy the lesser one of available length in input data or bytes remaining in messa
 818:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       cpy_len = (u16_t)LWIP_MIN((u16_t)(p->tot_len - in_offset), msg_rem_len);
 819:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 820:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Limit to available space in buffer */
 821:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       buffer_space = MQTT_VAR_HEADER_BUFFER_LEN - cpy_start;
 822:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (cpy_len > buffer_space) {
 823:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         cpy_len = buffer_space;
 824:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 825:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       pbuf_copy_partial(p, client->rx_buffer+cpy_start, cpy_len, in_offset);
 826:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 827:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Advance get and put indexes  */
 828:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       client->msg_idx += cpy_len;
 829:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       in_offset += cpy_len;
 830:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       msg_rem_len -= cpy_len;
 831:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 832:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_parse_incoming: msg_idx: %d, cpy_len: %d, remaining %d\n"
 833:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (msg_rem_len == 0 || cpy_len == buffer_space) {
 834:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         /* Whole message received or buffer is full */
 835:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         mqtt_connection_status_t res = mqtt_message_received(client, fixed_hdr_idx, (cpy_start + cp
 836:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         if (res != MQTT_CONNECT_ACCEPTED) {
 837:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           return res;
 838:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         }
 839:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         if (msg_rem_len == 0) {
 840:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           /* Reset parser state */
 841:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           client->msg_idx = 0;
 842:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           /* msg_tot_len = 0; */
 843:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           fixed_hdr_idx = 0;
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 38


 844:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         }
 845:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 846:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 847:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 848:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return MQTT_CONNECT_ACCEPTED;
 849:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 850:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 851:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 852:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 853:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * TCP received callback function. @see tcp_recv_fn
 854:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param arg MQTT client
 855:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param p PBUF chain of received data
 856:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param err Passed as return value if not ERR_OK
 857:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return ERR_OK or err passed into callback
 858:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 859:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static err_t
 860:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_tcp_recv_cb(void *arg, struct tcp_pcb *pcb, struct pbuf *p, err_t err)
 861:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 862:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_client_t *client = (mqtt_client_t *)arg;
 863:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_tcp_recv_cb: client != NULL", client != NULL);
 864:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_tcp_recv_cb: client->conn == pcb", client->conn == pcb);
 865:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 866:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (p == NULL) {
 867:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_tcp_recv_cb: Recv pbuf=NULL, remote has closed connection\n
 868:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_close(client, MQTT_CONNECT_DISCONNECTED);
 869:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else {
 870:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_connection_status_t res;
 871:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (err != ERR_OK) {
 872:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_tcp_recv_cb: Recv err=%d\n", err));
 873:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       pbuf_free(p);
 874:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       return err;
 875:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 876:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 877:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Tell remote that data has been received */
 878:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     tcp_recved(pcb, p->tot_len);
 879:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     res = mqtt_parse_incoming(client, p);
 880:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     pbuf_free(p);
 881:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 882:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (res != MQTT_CONNECT_ACCEPTED) {
 883:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       mqtt_close(client, res);
 884:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 885:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* If keep alive functionality is used */
 886:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (client->keep_alive != 0) {
 887:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Reset server alive watchdog */
 888:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       client->server_watchdog = 0;
 889:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 890:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 891:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 892:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return ERR_OK;
 893:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 894:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 895:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 896:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 897:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * TCP data sent callback function. @see tcp_sent_fn
 898:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param arg MQTT client
 899:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param tpcb TCP connection handle
 900:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param len Number of bytes sent
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 39


 901:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return ERR_OK
 902:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 903:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static err_t
 904:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_tcp_sent_cb(void *arg, struct tcp_pcb *tpcb, u16_t len)
 905:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 906:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_client_t *client = (mqtt_client_t *)arg;
 907:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 908:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_UNUSED_ARG(tpcb);
 909:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_UNUSED_ARG(len);
 910:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 911:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client->conn_state == MQTT_CONNECTED) {
 912:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     struct mqtt_request_t *r;
 913:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 914:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Reset keep-alive send timer and server watchdog */
 915:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     client->cyclic_tick = 0;
 916:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     client->server_watchdog = 0;
 917:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* QoS 0 publish has no response from server, so call its callbacks here */
 918:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     while ((r = mqtt_take_request(&client->pend_req_queue, 0)) != NULL) {
 919:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_tcp_sent_cb: Calling QoS 0 publish complete callback\n"))
 920:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (r->cb != NULL) {
 921:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         r->cb(r->arg, ERR_OK);
 922:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 923:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       mqtt_delete_request(r);
 924:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 925:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Try send any remaining buffers from output queue */
 926:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_send(&client->output, client->conn);
 927:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 928:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return ERR_OK;
 929:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 930:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 931:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 932:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * TCP error callback function. @see tcp_err_fn
 933:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param arg MQTT client
 934:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param err Error encountered
 935:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 936:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static void
 937:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_tcp_err_cb(void *arg, err_t err)
 938:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 939:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_client_t *client = (mqtt_client_t *)arg;
 940:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_UNUSED_ARG(err); /* only used for debug output */
 941:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_tcp_err_cb: TCP error callback: error %d, arg: %p\n", err, ar
 942:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_tcp_err_cb: client != NULL", client != NULL);
 943:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Set conn to null before calling close as pcb is already deallocated*/
 944:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->conn = 0;
 945:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_close(client, MQTT_CONNECT_DISCONNECTED);
 946:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 947:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 948:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 949:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * TCP poll callback function. @see tcp_poll_fn
 950:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param arg MQTT client
 951:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param tpcb TCP connection handle
 952:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return err ERR_OK
 953:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 954:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static err_t
 955:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_tcp_poll_cb(void *arg, struct tcp_pcb *tpcb)
 956:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 1182              		.loc 1 956 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 40


 1183              		.cfi_startproc
 1184              		@ args = 0, pretend = 0, frame = 0
 1185              		@ frame_needed = 0, uses_anonymous_args = 0
 1186              	.LVL147:
 1187 0000 08B5     		push	{r3, lr}
 1188              	.LCFI16:
 1189              		.cfi_def_cfa_offset 8
 1190              		.cfi_offset 3, -8
 1191              		.cfi_offset 14, -4
 1192              	.LVL148:
 957:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_client_t *client = (mqtt_client_t *)arg;
 958:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client->conn_state == MQTT_CONNECTED) {
 1193              		.loc 1 958 0
 1194 0002 837A     		ldrb	r3, [r0, #10]	@ zero_extendqisi2
 1195 0004 032B     		cmp	r3, #3
 1196 0006 01D0     		beq	.L121
 1197              	.LVL149:
 1198              	.L119:
 959:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Try send any remaining buffers from output queue */
 960:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_send(&client->output, tpcb);
 961:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 962:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return ERR_OK;
 963:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 1199              		.loc 1 963 0
 1200 0008 0020     		movs	r0, #0
 1201 000a 08BD     		pop	{r3, pc}
 1202              	.LVL150:
 1203              	.L121:
 960:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 1204              		.loc 1 960 0
 1205 000c EC30     		adds	r0, r0, #236
 1206              	.LVL151:
 1207 000e FFF7FEFF 		bl	mqtt_output_send
 1208              	.LVL152:
 1209 0012 F9E7     		b	.L119
 1210              		.cfi_endproc
 1211              	.LFE183:
 1213              		.section	.text.mqtt_tcp_sent_cb,"ax",%progbits
 1214              		.align	1
 1215              		.syntax unified
 1216              		.thumb
 1217              		.thumb_func
 1218              		.fpu fpv5-sp-d16
 1220              	mqtt_tcp_sent_cb:
 1221              	.LFB181:
 905:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_client_t *client = (mqtt_client_t *)arg;
 1222              		.loc 1 905 0
 1223              		.cfi_startproc
 1224              		@ args = 0, pretend = 0, frame = 0
 1225              		@ frame_needed = 0, uses_anonymous_args = 0
 1226              	.LVL153:
 1227 0000 38B5     		push	{r3, r4, r5, lr}
 1228              	.LCFI17:
 1229              		.cfi_def_cfa_offset 16
 1230              		.cfi_offset 3, -16
 1231              		.cfi_offset 4, -12
 1232              		.cfi_offset 5, -8
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 41


 1233              		.cfi_offset 14, -4
 1234              	.LVL154:
 911:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     struct mqtt_request_t *r;
 1235              		.loc 1 911 0
 1236 0002 837A     		ldrb	r3, [r0, #10]	@ zero_extendqisi2
 1237 0004 032B     		cmp	r3, #3
 1238 0006 01D0     		beq	.L128
 1239              	.LVL155:
 1240              	.L123:
 929:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1241              		.loc 1 929 0
 1242 0008 0020     		movs	r0, #0
 1243 000a 38BD     		pop	{r3, r4, r5, pc}
 1244              	.LVL156:
 1245              	.L128:
 1246 000c 0546     		mov	r5, r0
 1247              	.LBB2:
 915:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     client->server_watchdog = 0;
 1248              		.loc 1 915 0
 1249 000e 0023     		movs	r3, #0
 1250 0010 0380     		strh	r3, [r0]	@ movhi
 916:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* QoS 0 publish has no response from server, so call its callbacks here */
 1251              		.loc 1 916 0
 1252 0012 8380     		strh	r3, [r0, #4]	@ movhi
 918:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_tcp_sent_cb: Calling QoS 0 publish complete callback\n"))
 1253              		.loc 1 918 0
 1254 0014 02E0     		b	.L124
 1255              	.LVL157:
 1256              	.L125:
 923:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 1257              		.loc 1 923 0
 1258 0016 2046     		mov	r0, r4
 1259 0018 FFF7FEFF 		bl	mqtt_delete_request
 1260              	.LVL158:
 1261              	.L124:
 918:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_tcp_sent_cb: Calling QoS 0 publish complete callback\n"))
 1262              		.loc 1 918 0
 1263 001c 0021     		movs	r1, #0
 1264 001e 05F11800 		add	r0, r5, #24
 1265 0022 FFF7FEFF 		bl	mqtt_take_request
 1266              	.LVL159:
 1267 0026 0446     		mov	r4, r0
 1268 0028 30B1     		cbz	r0, .L129
 920:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         r->cb(r->arg, ERR_OK);
 1269              		.loc 1 920 0
 1270 002a 6368     		ldr	r3, [r4, #4]
 1271 002c 002B     		cmp	r3, #0
 1272 002e F2D0     		beq	.L125
 921:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 1273              		.loc 1 921 0
 1274 0030 0021     		movs	r1, #0
 1275 0032 A068     		ldr	r0, [r4, #8]
 1276              	.LVL160:
 1277 0034 9847     		blx	r3
 1278              	.LVL161:
 1279 0036 EEE7     		b	.L125
 1280              	.LVL162:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 42


 1281              	.L129:
 926:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 1282              		.loc 1 926 0
 1283 0038 E968     		ldr	r1, [r5, #12]
 1284 003a 05F1EC00 		add	r0, r5, #236
 1285              	.LVL163:
 1286 003e FFF7FEFF 		bl	mqtt_output_send
 1287              	.LVL164:
 1288 0042 E1E7     		b	.L123
 1289              	.LBE2:
 1290              		.cfi_endproc
 1291              	.LFE181:
 1293              		.section	.text.pub_ack_rec_rel_response,"ax",%progbits
 1294              		.align	1
 1295              		.syntax unified
 1296              		.thumb
 1297              		.thumb_func
 1298              		.fpu fpv5-sp-d16
 1300              	pub_ack_rec_rel_response:
 1301              	.LFB176:
 605:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   err_t err = ERR_OK;
 1302              		.loc 1 605 0
 1303              		.cfi_startproc
 1304              		@ args = 0, pretend = 0, frame = 0
 1305              		@ frame_needed = 0, uses_anonymous_args = 0
 1306              	.LVL165:
 1307 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1308              	.LCFI18:
 1309              		.cfi_def_cfa_offset 28
 1310              		.cfi_offset 4, -28
 1311              		.cfi_offset 5, -24
 1312              		.cfi_offset 6, -20
 1313              		.cfi_offset 7, -16
 1314              		.cfi_offset 8, -12
 1315              		.cfi_offset 9, -8
 1316              		.cfi_offset 14, -4
 1317 0004 83B0     		sub	sp, sp, #12
 1318              	.LCFI19:
 1319              		.cfi_def_cfa_offset 40
 1320 0006 0646     		mov	r6, r0
 1321 0008 8846     		mov	r8, r1
 1322 000a 1746     		mov	r7, r2
 1323 000c 9946     		mov	r9, r3
 1324              	.LVL166:
 607:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_append_fixed_header(&client->output, msg, 0, qos, 0, 2);
 1325              		.loc 1 607 0
 1326 000e 00F1EC05 		add	r5, r0, #236
 1327 0012 0221     		movs	r1, #2
 1328              	.LVL167:
 1329 0014 2846     		mov	r0, r5
 1330              	.LVL168:
 1331 0016 FFF7FEFF 		bl	mqtt_output_check_space
 1332              	.LVL169:
 1333 001a A8B1     		cbz	r0, .L132
 608:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_append_u16(&client->output, pkt_id);
 1334              		.loc 1 608 0
 1335 001c 0223     		movs	r3, #2
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 43


 1336 001e 0193     		str	r3, [sp, #4]
 1337 0020 0024     		movs	r4, #0
 1338 0022 0094     		str	r4, [sp]
 1339 0024 4B46     		mov	r3, r9
 1340 0026 2246     		mov	r2, r4
 1341 0028 4146     		mov	r1, r8
 1342 002a 2846     		mov	r0, r5
 1343 002c FFF7FEFF 		bl	mqtt_output_append_fixed_header
 1344              	.LVL170:
 609:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_send(&client->output, client->conn);
 1345              		.loc 1 609 0
 1346 0030 3946     		mov	r1, r7
 1347 0032 2846     		mov	r0, r5
 1348 0034 FFF7FEFF 		bl	mqtt_output_append_u16
 1349              	.LVL171:
 610:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else {
 1350              		.loc 1 610 0
 1351 0038 F168     		ldr	r1, [r6, #12]
 1352 003a 2846     		mov	r0, r5
 1353 003c FFF7FEFF 		bl	mqtt_output_send
 1354              	.LVL172:
 606:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (mqtt_output_check_space(&client->output, 2)) {
 1355              		.loc 1 606 0
 1356 0040 2046     		mov	r0, r4
 1357              	.L131:
 1358              	.LVL173:
 617:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1359              		.loc 1 617 0
 1360 0042 03B0     		add	sp, sp, #12
 1361              	.LCFI20:
 1362              		.cfi_remember_state
 1363              		.cfi_def_cfa_offset 28
 1364              		@ sp needed
 1365 0044 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1366              	.LVL174:
 1367              	.L132:
 1368              	.LCFI21:
 1369              		.cfi_restore_state
 614:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 1370              		.loc 1 614 0
 1371 0048 4FF0FF30 		mov	r0, #-1
 1372 004c F9E7     		b	.L131
 1373              		.cfi_endproc
 1374              	.LFE176:
 1376              		.section	.text.mqtt_message_received,"ax",%progbits
 1377              		.align	1
 1378              		.syntax unified
 1379              		.thumb
 1380              		.thumb_func
 1381              		.fpu fpv5-sp-d16
 1383              	mqtt_message_received:
 1384              	.LFB178:
 642:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_connection_status_t res = MQTT_CONNECT_ACCEPTED;
 1385              		.loc 1 642 0
 1386              		.cfi_startproc
 1387              		@ args = 0, pretend = 0, frame = 8
 1388              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 44


 1389              	.LVL175:
 1390 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1391              	.LCFI22:
 1392              		.cfi_def_cfa_offset 36
 1393              		.cfi_offset 4, -36
 1394              		.cfi_offset 5, -32
 1395              		.cfi_offset 6, -28
 1396              		.cfi_offset 7, -24
 1397              		.cfi_offset 8, -20
 1398              		.cfi_offset 9, -16
 1399              		.cfi_offset 10, -12
 1400              		.cfi_offset 11, -8
 1401              		.cfi_offset 14, -4
 1402 0004 83B0     		sub	sp, sp, #12
 1403              	.LCFI23:
 1404              		.cfi_def_cfa_offset 48
 1405 0006 0446     		mov	r4, r0
 1406 0008 1E46     		mov	r6, r3
 1407              	.LVL176:
 645:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1408              		.loc 1 645 0
 1409 000a 00F16C03 		add	r3, r0, #108
 1410              	.LVL177:
 1411 000e 5F18     		adds	r7, r3, r1
 1412              	.LVL178:
 648:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t pkt_id = 0;
 1413              		.loc 1 648 0
 1414 0010 90F86C50 		ldrb	r5, [r0, #108]	@ zero_extendqisi2
 1415 0014 4FEA1519 		lsr	r9, r5, #4
 1416              	.LVL179:
 651:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (client->conn_state == MQTT_CONNECTING) {
 1417              		.loc 1 651 0
 1418 0018 B9F1020F 		cmp	r9, #2
 1419 001c 3CD0     		beq	.L163
 1420 001e 9046     		mov	r8, r2
 668:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_DEBUGF(MQTT_DEBUG_TRACE,( "mqtt_message_received: Received PINGRESP from server\n"));
 1421              		.loc 1 668 0
 1422 0020 B9F10D0F 		cmp	r9, #13
 1423 0024 00F0C480 		beq	.L151
 671:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     u16_t payload_offset = 0;
 1424              		.loc 1 671 0
 1425 0028 B9F1030F 		cmp	r9, #3
 1426 002c 4AD0     		beq	.L164
 728:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     pkt_id |= (u16_t)var_hdr_payload[1];
 1427              		.loc 1 728 0
 1428 002e 595C     		ldrb	r1, [r3, r1]	@ zero_extendqisi2
 1429              	.LVL180:
 729:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (pkt_id == 0) {
 1430              		.loc 1 729 0
 1431 0030 7A78     		ldrb	r2, [r7, #1]	@ zero_extendqisi2
 1432              	.LVL181:
 730:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_message_received: Got message with illegal packet identifi
 1433              		.loc 1 730 0
 1434 0032 52EA0121 		orrs	r1, r2, r1, lsl #8
 1435              	.LVL182:
 1436 0036 00F0C480 		beq	.L158
 734:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_message_received: PUBREC, sending PUBREL with pkt_id: %d\
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 45


 1437              		.loc 1 734 0
 1438 003a B9F1050F 		cmp	r9, #5
 1439 003e 00F0A280 		beq	.L165
 738:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_message_received: PUBREL, sending PUBCOMP response with p
 1440              		.loc 1 738 0
 1441 0042 B9F1060F 		cmp	r9, #6
 1442 0046 00F0A580 		beq	.L166
 742:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****               pkt_type == MQTT_MSG_TYPE_PUBCOMP || pkt_type == MQTT_MSG_TYPE_PUBACK) {
 1443              		.loc 1 742 0
 1444 004a B9F10B0F 		cmp	r9, #11
 1445 004e 18BF     		it	ne
 1446 0050 B9F1090F 		cmpne	r9, #9
 1447 0054 0AD0     		beq	.L146
 743:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       struct mqtt_request_t *r = mqtt_take_request(&client->pend_req_queue, pkt_id);
 1448              		.loc 1 743 0
 1449 0056 B9F1040F 		cmp	r9, #4
 1450 005a 14BF     		ite	ne
 1451 005c 0023     		movne	r3, #0
 1452 005e 0123     		moveq	r3, #1
 1453 0060 B9F1070F 		cmp	r9, #7
 1454 0064 02D0     		beq	.L146
 1455 0066 002B     		cmp	r3, #0
 1456 0068 00F0AE80 		beq	.L159
 1457              	.L146:
 1458              	.LBB3:
 744:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (r != NULL) {
 1459              		.loc 1 744 0
 1460 006c 04F11800 		add	r0, r4, #24
 1461              	.LVL183:
 1462 0070 FFF7FEFF 		bl	mqtt_take_request
 1463              	.LVL184:
 745:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_message_received: %s response with id %d\n", mqtt_msg_t
 1464              		.loc 1 745 0
 1465 0074 0446     		mov	r4, r0
 1466              	.LVL185:
 1467 0076 0028     		cmp	r0, #0
 1468 0078 00F0A980 		beq	.L160
 747:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           if (length < 3) {
 1469              		.loc 1 747 0
 1470 007c B9F1090F 		cmp	r9, #9
 1471 0080 00F08F80 		beq	.L167
 754:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           r->cb(r->arg, ERR_OK);
 1472              		.loc 1 754 0
 1473 0084 4368     		ldr	r3, [r0, #4]
 1474 0086 13B1     		cbz	r3, .L149
 755:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         }
 1475              		.loc 1 755 0
 1476 0088 0021     		movs	r1, #0
 1477 008a 8068     		ldr	r0, [r0, #8]
 1478              	.LVL186:
 1479 008c 9847     		blx	r3
 1480              	.LVL187:
 1481              	.L149:
 757:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       } else {
 1482              		.loc 1 757 0
 1483 008e 2046     		mov	r0, r4
 1484 0090 FFF7FEFF 		bl	mqtt_delete_request
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 46


 1485              	.LVL188:
 1486              	.LBE3:
 643:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1487              		.loc 1 643 0
 1488 0094 0025     		movs	r5, #0
 1489              	.LBB4:
 1490 0096 03E0     		b	.L136
 1491              	.LVL189:
 1492              	.L163:
 1493              	.LBE4:
 652:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Get result code from CONNACK */
 1494              		.loc 1 652 0
 1495 0098 837A     		ldrb	r3, [r0, #10]	@ zero_extendqisi2
 1496 009a 022B     		cmp	r3, #2
 1497 009c 04D0     		beq	.L168
 643:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1498              		.loc 1 643 0
 1499 009e 0025     		movs	r5, #0
 1500              	.LVL190:
 1501              	.L136:
 769:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1502              		.loc 1 769 0
 1503 00a0 2846     		mov	r0, r5
 1504 00a2 03B0     		add	sp, sp, #12
 1505              	.LCFI24:
 1506              		.cfi_remember_state
 1507              		.cfi_def_cfa_offset 36
 1508              		@ sp needed
 1509 00a4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1510              	.LVL191:
 1511              	.L168:
 1512              	.LCFI25:
 1513              		.cfi_restore_state
 654:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_message_received: Connect response code %d\n", res));
 1514              		.loc 1 654 0
 1515 00a8 7D78     		ldrb	r5, [r7, #1]	@ zero_extendqisi2
 1516              	.LVL192:
 656:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         /* Reset cyclic_tick when changing to connected state */
 1517              		.loc 1 656 0
 1518 00aa 002D     		cmp	r5, #0
 1519 00ac F8D1     		bne	.L136
 658:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         client->conn_state = MQTT_CONNECTED;
 1520              		.loc 1 658 0
 1521 00ae 0023     		movs	r3, #0
 1522 00b0 0380     		strh	r3, [r0]	@ movhi
 659:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         /* Notify upper layer */
 1523              		.loc 1 659 0
 1524 00b2 0323     		movs	r3, #3
 1525 00b4 8372     		strb	r3, [r0, #10]
 661:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           client->connect_cb(client, client->connect_arg, res);
 1526              		.loc 1 661 0
 1527 00b6 4369     		ldr	r3, [r0, #20]
 1528 00b8 002B     		cmp	r3, #0
 1529 00ba F1D0     		beq	.L136
 662:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         }
 1530              		.loc 1 662 0
 1531 00bc 2A46     		mov	r2, r5
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 47


 1532              	.LVL193:
 1533 00be 0169     		ldr	r1, [r0, #16]
 1534              	.LVL194:
 1535 00c0 9847     		blx	r3
 1536              	.LVL195:
 1537 00c2 EDE7     		b	.L136
 1538              	.LVL196:
 1539              	.L164:
 1540              	.LBB5:
 674:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1541              		.loc 1 674 0
 1542 00c4 C5F34105 		ubfx	r5, r5, #1, #2
 1543              	.LVL197:
 676:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Should have topic and pkt id*/
 1544              		.loc 1 676 0
 1545 00c8 826E     		ldr	r2, [r0, #104]
 1546              	.LVL198:
 1547 00ca 802A     		cmp	r2, #128
 1548 00cc 39D8     		bhi	.L152
 1549              	.LBB6:
 681:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       topic_len = (topic_len << 8) + (u16_t)(var_hdr_payload[1]);
 1550              		.loc 1 681 0
 1551 00ce 5B5C     		ldrb	r3, [r3, r1]	@ zero_extendqisi2
 1552              	.LVL199:
 682:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1553              		.loc 1 682 0
 1554 00d0 97F801A0 		ldrb	r10, [r7, #1]	@ zero_extendqisi2
 1555 00d4 0AEB032A 		add	r10, r10, r3, lsl #8
 1556 00d8 1FFA8AFA 		uxth	r10, r10
 1557              	.LVL200:
 684:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       after_topic = 2 + topic_len;
 1558              		.loc 1 684 0
 1559 00dc 07F1020B 		add	fp, r7, #2
 1560              	.LVL201:
 685:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Check length, add one byte even for QoS 0 so that zero termination will fit */
 1561              		.loc 1 685 0
 1562 00e0 0AF10209 		add	r9, r10, #2
 1563              	.LVL202:
 1564 00e4 1FFA89F9 		uxth	r9, r9
 1565              	.LVL203:
 687:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_message_received: Receive buffer can not fit topic + pkt
 1566              		.loc 1 687 0
 1567 00e8 4B46     		mov	r3, r9
 1568 00ea 2DB3     		cbz	r5, .L153
 1569 00ec 0222     		movs	r2, #2
 1570              	.L139:
 687:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_message_received: Receive buffer can not fit topic + pkt
 1571              		.loc 1 687 0 is_stmt 0 discriminator 4
 1572 00ee 1344     		add	r3, r3, r2
 1573 00f0 4345     		cmp	r3, r8
 1574 00f2 5FDC     		bgt	.L154
 693:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         client->inpub_pkt_id = ((u16_t)var_hdr_payload[after_topic] << 8) + (u16_t)var_hdr_payload[
 1575              		.loc 1 693 0 is_stmt 1
 1576 00f4 15B3     		cbz	r5, .L140
 694:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         after_topic += 2;
 1577              		.loc 1 694 0
 1578 00f6 17F80920 		ldrb	r2, [r7, r9]	@ zero_extendqisi2
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 48


 1579 00fa B944     		add	r9, r9, r7
 1580              	.LVL204:
 1581 00fc 99F80130 		ldrb	r3, [r9, #1]	@ zero_extendqisi2
 1582 0100 03EB0223 		add	r3, r3, r2, lsl #8
 1583 0104 2381     		strh	r3, [r4, #8]	@ movhi
 695:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       } else {
 1584              		.loc 1 695 0
 1585 0106 0AF10409 		add	r9, r10, #4
 1586 010a 1FFA89F9 		uxth	r9, r9
 1587              	.LVL205:
 1588              	.L141:
 700:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Zero terminate string */
 1589              		.loc 1 700 0
 1590 010e 1BF80A30 		ldrb	r3, [fp, r10]	@ zero_extendqisi2
 1591 0112 0193     		str	r3, [sp, #4]
 1592              	.LVL206:
 702:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Payload data remaining in receive buffer */
 1593              		.loc 1 702 0
 1594 0114 0023     		movs	r3, #0
 1595 0116 0BF80A30 		strb	r3, [fp, r10]
 1596              	.LVL207:
 704:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       payload_offset = after_topic;
 1597              		.loc 1 704 0
 1598 011a A8EB0908 		sub	r8, r8, r9
 1599              	.LVL208:
 1600 011e 1FFA88F8 		uxth	r8, r8
 1601              	.LVL209:
 709:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         client->pub_cb(client->inpub_arg, (const char *)topic, remaining_length + payload_length);
 1602              		.loc 1 709 0
 1603 0122 636E     		ldr	r3, [r4, #100]
 1604 0124 23B1     		cbz	r3, .L142
 710:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 1605              		.loc 1 710 0
 1606 0126 08EB0602 		add	r2, r8, r6
 1607 012a 5946     		mov	r1, fp
 1608              	.LVL210:
 1609 012c E06D     		ldr	r0, [r4, #92]
 1610              	.LVL211:
 1611 012e 9847     		blx	r3
 1612              	.LVL212:
 1613              	.L142:
 713:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 1614              		.loc 1 713 0
 1615 0130 019B     		ldr	r3, [sp, #4]
 1616 0132 0BF80A30 		strb	r3, [fp, r10]
 1617 0136 06E0     		b	.L138
 1618              	.LVL213:
 1619              	.L153:
 687:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_message_received: Receive buffer can not fit topic + pkt
 1620              		.loc 1 687 0
 1621 0138 0122     		movs	r2, #1
 1622 013a D8E7     		b	.L139
 1623              	.L140:
 697:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 1624              		.loc 1 697 0
 1625 013c 0023     		movs	r3, #0
 1626 013e 2381     		strh	r3, [r4, #8]	@ movhi
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 49


 1627 0140 E5E7     		b	.L141
 1628              	.LVL214:
 1629              	.L152:
 1630              	.LBE6:
 672:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     u16_t payload_length = length;
 1631              		.loc 1 672 0
 1632 0142 4FF00009 		mov	r9, #0
 1633              	.LVL215:
 1634              	.L138:
 715:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       client->data_cb(client->inpub_arg, var_hdr_payload + payload_offset, payload_length, remainin
 1635              		.loc 1 715 0
 1636 0146 B6FA86F6 		clz	r6, r6
 1637              	.LVL216:
 1638 014a 7609     		lsrs	r6, r6, #5
 1639 014c B8F1000F 		cmp	r8, #0
 1640 0150 0CBF     		ite	eq
 1641 0152 3346     		moveq	r3, r6
 1642 0154 0123     		movne	r3, #1
 1643 0156 83B3     		cbz	r3, .L155
 716:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Reply if QoS > 0 */
 1644              		.loc 1 716 0
 1645 0158 3346     		mov	r3, r6
 1646 015a 4246     		mov	r2, r8
 1647 015c 07EB0901 		add	r1, r7, r9
 1648 0160 E06D     		ldr	r0, [r4, #92]
 1649 0162 276E     		ldr	r7, [r4, #96]
 1650              	.LVL217:
 1651 0164 B847     		blx	r7
 1652              	.LVL218:
 718:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         /* Send PUBACK for QoS 1 or PUBREC for QoS 2 */
 1653              		.loc 1 718 0
 1654 0166 002D     		cmp	r5, #0
 1655 0168 08BF     		it	eq
 1656 016a 0026     		moveq	r6, #0
 1657 016c 3EB3     		cbz	r6, .L156
 1658              	.LBB7:
 720:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_incomming_publish: Sending publish response: %s with pk
 1659              		.loc 1 720 0
 1660 016e 012D     		cmp	r5, #1
 1661 0170 07D0     		beq	.L169
 1662 0172 0521     		movs	r1, #5
 1663              	.L143:
 1664              	.LVL219:
 723:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 1665              		.loc 1 723 0 discriminator 4
 1666 0174 0023     		movs	r3, #0
 1667 0176 2289     		ldrh	r2, [r4, #8]
 1668 0178 2046     		mov	r0, r4
 1669 017a FFF7FEFF 		bl	pub_ack_rec_rel_response
 1670              	.LVL220:
 1671              	.LBE7:
 1672              	.LBE5:
 643:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1673              		.loc 1 643 0 discriminator 4
 1674 017e 0025     		movs	r5, #0
 1675              	.LVL221:
 1676 0180 8EE7     		b	.L136
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 50


 1677              	.LVL222:
 1678              	.L169:
 1679              	.LBB9:
 1680              	.LBB8:
 720:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_incomming_publish: Sending publish response: %s with pk
 1681              		.loc 1 720 0
 1682 0182 0421     		movs	r1, #4
 1683 0184 F6E7     		b	.L143
 1684              	.LVL223:
 1685              	.L165:
 1686              	.LBE8:
 1687              	.LBE9:
 736:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1688              		.loc 1 736 0
 1689 0186 0123     		movs	r3, #1
 1690 0188 0A46     		mov	r2, r1
 1691 018a 0621     		movs	r1, #6
 1692              	.LVL224:
 1693 018c FFF7FEFF 		bl	pub_ack_rec_rel_response
 1694              	.LVL225:
 643:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1695              		.loc 1 643 0
 1696 0190 0025     		movs	r5, #0
 1697 0192 85E7     		b	.L136
 1698              	.LVL226:
 1699              	.L166:
 740:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1700              		.loc 1 740 0
 1701 0194 0023     		movs	r3, #0
 1702 0196 0A46     		mov	r2, r1
 1703 0198 0721     		movs	r1, #7
 1704              	.LVL227:
 1705 019a FFF7FEFF 		bl	pub_ack_rec_rel_response
 1706              	.LVL228:
 643:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1707              		.loc 1 643 0
 1708 019e 0025     		movs	r5, #0
 1709 01a0 7EE7     		b	.L136
 1710              	.LVL229:
 1711              	.L167:
 1712              	.LBB10:
 748:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_message_received: To small SUBACK packet\n"));
 1713              		.loc 1 748 0
 1714 01a2 B8F1020F 		cmp	r8, #2
 1715 01a6 14D9     		bls	.L161
 752:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           }
 1716              		.loc 1 752 0
 1717 01a8 B978     		ldrb	r1, [r7, #2]	@ zero_extendqisi2
 1718 01aa FFF7FEFF 		bl	mqtt_incomming_suback
 1719              	.LVL230:
 1720 01ae 6EE7     		b	.L149
 1721              	.LVL231:
 1722              	.L151:
 1723              	.LBE10:
 643:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1724              		.loc 1 643 0
 1725 01b0 0025     		movs	r5, #0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 51


 1726 01b2 75E7     		b	.L136
 1727              	.LVL232:
 1728              	.L154:
 768:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 1729              		.loc 1 768 0
 1730 01b4 4FF48075 		mov	r5, #256
 1731              	.LVL233:
 1732 01b8 72E7     		b	.L136
 1733              	.LVL234:
 1734              	.L155:
 643:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1735              		.loc 1 643 0
 1736 01ba 0025     		movs	r5, #0
 1737              	.LVL235:
 1738 01bc 70E7     		b	.L136
 1739              	.LVL236:
 1740              	.L156:
 1741 01be 0025     		movs	r5, #0
 1742              	.LVL237:
 1743 01c0 6EE7     		b	.L136
 1744              	.LVL238:
 1745              	.L158:
 768:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 1746              		.loc 1 768 0
 1747 01c2 4FF48075 		mov	r5, #256
 1748 01c6 6BE7     		b	.L136
 1749              	.L159:
 1750 01c8 4FF48075 		mov	r5, #256
 1751 01cc 68E7     		b	.L136
 1752              	.LVL239:
 1753              	.L160:
 643:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1754              		.loc 1 643 0
 1755 01ce 0025     		movs	r5, #0
 1756 01d0 66E7     		b	.L136
 1757              	.L161:
 768:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 1758              		.loc 1 768 0
 1759 01d2 4FF48075 		mov	r5, #256
 1760 01d6 63E7     		b	.L136
 1761              		.cfi_endproc
 1762              	.LFE178:
 1764              		.section	.text.mqtt_close,"ax",%progbits
 1765              		.align	1
 1766              		.syntax unified
 1767              		.thumb
 1768              		.thumb_func
 1769              		.fpu fpv5-sp-d16
 1771              	mqtt_close:
 1772              	.LFB174:
 507:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_close: client != NULL", client != NULL);
 1773              		.loc 1 507 0
 1774              		.cfi_startproc
 1775              		@ args = 0, pretend = 0, frame = 0
 1776              		@ frame_needed = 0, uses_anonymous_args = 0
 1777              	.LVL240:
 1778 0000 38B5     		push	{r3, r4, r5, lr}
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 52


 1779              	.LCFI26:
 1780              		.cfi_def_cfa_offset 16
 1781              		.cfi_offset 3, -16
 1782              		.cfi_offset 4, -12
 1783              		.cfi_offset 5, -8
 1784              		.cfi_offset 14, -4
 1785 0002 0D46     		mov	r5, r1
 508:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1786              		.loc 1 508 0
 1787 0004 0446     		mov	r4, r0
 1788 0006 28B3     		cbz	r0, .L176
 1789              	.LVL241:
 1790              	.L171:
 511:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     err_t res;
 1791              		.loc 1 511 0
 1792 0008 E068     		ldr	r0, [r4, #12]
 1793 000a 80B1     		cbz	r0, .L172
 1794              	.LBB11:
 513:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     tcp_err(client->conn,  NULL);
 1795              		.loc 1 513 0
 1796 000c 0021     		movs	r1, #0
 1797 000e FFF7FEFF 		bl	tcp_recv
 1798              	.LVL242:
 514:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     tcp_sent(client->conn, NULL);
 1799              		.loc 1 514 0
 1800 0012 0021     		movs	r1, #0
 1801 0014 E068     		ldr	r0, [r4, #12]
 1802 0016 FFF7FEFF 		bl	tcp_err
 1803              	.LVL243:
 515:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     res = tcp_close(client->conn);
 1804              		.loc 1 515 0
 1805 001a 0021     		movs	r1, #0
 1806 001c E068     		ldr	r0, [r4, #12]
 1807 001e FFF7FEFF 		bl	tcp_sent
 1808              	.LVL244:
 516:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (res != ERR_OK) {
 1809              		.loc 1 516 0
 1810 0022 E068     		ldr	r0, [r4, #12]
 1811 0024 FFF7FEFF 		bl	tcp_close
 1812              	.LVL245:
 517:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       tcp_abort(client->conn);
 1813              		.loc 1 517 0
 1814 0028 E0B9     		cbnz	r0, .L177
 1815              	.LVL246:
 1816              	.L173:
 521:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 1817              		.loc 1 521 0
 1818 002a 0023     		movs	r3, #0
 1819 002c E360     		str	r3, [r4, #12]
 1820              	.L172:
 1821              	.LBE11:
 525:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Stop cyclic timer */
 1822              		.loc 1 525 0
 1823 002e 04F11800 		add	r0, r4, #24
 1824 0032 FFF7FEFF 		bl	mqtt_clear_requests
 1825              	.LVL247:
 527:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 53


 1826              		.loc 1 527 0
 1827 0036 2146     		mov	r1, r4
 1828 0038 0C48     		ldr	r0, .L178
 1829 003a FFF7FEFF 		bl	sys_untimeout
 1830              	.LVL248:
 530:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1831              		.loc 1 530 0
 1832 003e A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 1833 0040 3BB1     		cbz	r3, .L170
 532:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (client->connect_cb != NULL) {
 1834              		.loc 1 532 0
 1835 0042 0023     		movs	r3, #0
 1836 0044 A372     		strb	r3, [r4, #10]
 533:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       client->connect_cb(client, client->connect_arg, reason);
 1837              		.loc 1 533 0
 1838 0046 6369     		ldr	r3, [r4, #20]
 1839 0048 1BB1     		cbz	r3, .L170
 534:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 1840              		.loc 1 534 0
 1841 004a 2A46     		mov	r2, r5
 1842 004c 2169     		ldr	r1, [r4, #16]
 1843 004e 2046     		mov	r0, r4
 1844 0050 9847     		blx	r3
 1845              	.LVL249:
 1846              	.L170:
 537:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1847              		.loc 1 537 0
 1848 0052 38BD     		pop	{r3, r4, r5, pc}
 1849              	.LVL250:
 1850              	.L176:
 508:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1851              		.loc 1 508 0 discriminator 1
 1852 0054 064B     		ldr	r3, .L178+4
 1853 0056 4FF4FE72 		mov	r2, #508
 1854 005a 0649     		ldr	r1, .L178+8
 1855              	.LVL251:
 1856 005c 0648     		ldr	r0, .L178+12
 1857              	.LVL252:
 1858 005e FFF7FEFF 		bl	printf
 1859              	.LVL253:
 1860 0062 D1E7     		b	.L171
 1861              	.LVL254:
 1862              	.L177:
 1863              	.LBB12:
 518:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_close: Close err=%s\n", lwip_strerr(res)));
 1864              		.loc 1 518 0
 1865 0064 E068     		ldr	r0, [r4, #12]
 1866              	.LVL255:
 1867 0066 FFF7FEFF 		bl	tcp_abort
 1868              	.LVL256:
 1869 006a DEE7     		b	.L173
 1870              	.L179:
 1871              		.align	2
 1872              	.L178:
 1873 006c 00000000 		.word	mqtt_cyclic_timer
 1874 0070 00000000 		.word	.LC0
 1875 0074 00000000 		.word	.LC11
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 54


 1876 0078 58000000 		.word	.LC2
 1877              	.LBE12:
 1878              		.cfi_endproc
 1879              	.LFE174:
 1881              		.section	.text.mqtt_tcp_err_cb,"ax",%progbits
 1882              		.align	1
 1883              		.syntax unified
 1884              		.thumb
 1885              		.thumb_func
 1886              		.fpu fpv5-sp-d16
 1888              	mqtt_tcp_err_cb:
 1889              	.LFB182:
 938:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_client_t *client = (mqtt_client_t *)arg;
 1890              		.loc 1 938 0
 1891              		.cfi_startproc
 1892              		@ args = 0, pretend = 0, frame = 0
 1893              		@ frame_needed = 0, uses_anonymous_args = 0
 1894              	.LVL257:
 1895 0000 10B5     		push	{r4, lr}
 1896              	.LCFI27:
 1897              		.cfi_def_cfa_offset 8
 1898              		.cfi_offset 4, -8
 1899              		.cfi_offset 14, -4
 1900              	.LVL258:
 942:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Set conn to null before calling close as pcb is already deallocated*/
 1901              		.loc 1 942 0
 1902 0002 0446     		mov	r4, r0
 1903 0004 38B1     		cbz	r0, .L183
 1904              	.LVL259:
 1905              	.L181:
 944:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_close(client, MQTT_CONNECT_DISCONNECTED);
 1906              		.loc 1 944 0
 1907 0006 0023     		movs	r3, #0
 1908 0008 E360     		str	r3, [r4, #12]
 945:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 1909              		.loc 1 945 0
 1910 000a 4FF48071 		mov	r1, #256
 1911 000e 2046     		mov	r0, r4
 1912 0010 FFF7FEFF 		bl	mqtt_close
 1913              	.LVL260:
 946:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1914              		.loc 1 946 0
 1915 0014 10BD     		pop	{r4, pc}
 1916              	.LVL261:
 1917              	.L183:
 942:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Set conn to null before calling close as pcb is already deallocated*/
 1918              		.loc 1 942 0 discriminator 1
 1919 0016 044B     		ldr	r3, .L184
 1920 0018 40F2AE32 		movw	r2, #942
 1921 001c 0349     		ldr	r1, .L184+4
 1922              	.LVL262:
 1923 001e 0448     		ldr	r0, .L184+8
 1924              	.LVL263:
 1925 0020 FFF7FEFF 		bl	printf
 1926              	.LVL264:
 1927 0024 EFE7     		b	.L181
 1928              	.L185:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 55


 1929 0026 00BF     		.align	2
 1930              	.L184:
 1931 0028 00000000 		.word	.LC0
 1932 002c 00000000 		.word	.LC12
 1933 0030 58000000 		.word	.LC2
 1934              		.cfi_endproc
 1935              	.LFE182:
 1937              		.section	.text.mqtt_cyclic_timer,"ax",%progbits
 1938              		.align	1
 1939              		.syntax unified
 1940              		.thumb
 1941              		.thumb_func
 1942              		.fpu fpv5-sp-d16
 1944              	mqtt_cyclic_timer:
 1945              	.LFB175:
 546:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t restart_timer = 1;
 1946              		.loc 1 546 0
 1947              		.cfi_startproc
 1948              		@ args = 0, pretend = 0, frame = 0
 1949              		@ frame_needed = 0, uses_anonymous_args = 0
 1950              	.LVL265:
 1951 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1952              	.LCFI28:
 1953              		.cfi_def_cfa_offset 20
 1954              		.cfi_offset 4, -20
 1955              		.cfi_offset 5, -16
 1956              		.cfi_offset 6, -12
 1957              		.cfi_offset 7, -8
 1958              		.cfi_offset 14, -4
 1959 0002 83B0     		sub	sp, sp, #12
 1960              	.LCFI29:
 1961              		.cfi_def_cfa_offset 32
 1962              	.LVL266:
 549:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1963              		.loc 1 549 0
 1964 0004 0446     		mov	r4, r0
 1965 0006 30B1     		cbz	r0, .L196
 1966              	.LVL267:
 1967              	.L187:
 551:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     client->cyclic_tick++;
 1968              		.loc 1 551 0
 1969 0008 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 1970 000a 022B     		cmp	r3, #2
 1971 000c 0BD0     		beq	.L197
 559:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Handle timeout for pending requests */
 1972              		.loc 1 559 0
 1973 000e 032B     		cmp	r3, #3
 1974 0010 1ED0     		beq	.L198
 1975              	.LVL268:
 1976              	.L186:
 592:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1977              		.loc 1 592 0
 1978 0012 03B0     		add	sp, sp, #12
 1979              	.LCFI30:
 1980              		.cfi_remember_state
 1981              		.cfi_def_cfa_offset 20
 1982              		@ sp needed
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 56


 1983 0014 F0BD     		pop	{r4, r5, r6, r7, pc}
 1984              	.LVL269:
 1985              	.L196:
 1986              	.LCFI31:
 1987              		.cfi_restore_state
 549:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 1988              		.loc 1 549 0 discriminator 1
 1989 0016 2A4B     		ldr	r3, .L202
 1990 0018 40F22522 		movw	r2, #549
 1991 001c 2949     		ldr	r1, .L202+4
 1992 001e 2A48     		ldr	r0, .L202+8
 1993              	.LVL270:
 1994 0020 FFF7FEFF 		bl	printf
 1995              	.LVL271:
 1996 0024 F0E7     		b	.L187
 1997              	.L197:
 552:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if ((client->cyclic_tick * MQTT_CYCLIC_TIMER_INTERVAL) >= MQTT_CONNECT_TIMOUT) {
 1998              		.loc 1 552 0
 1999 0026 2388     		ldrh	r3, [r4]
 2000 0028 0133     		adds	r3, r3, #1
 2001 002a 9BB2     		uxth	r3, r3
 2002 002c 2380     		strh	r3, [r4]	@ movhi
 553:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_cyclic_timer: CONNECT attempt to server timed out\n"));
 2003              		.loc 1 553 0
 2004 002e 03EB8303 		add	r3, r3, r3, lsl #2
 2005 0032 632B     		cmp	r3, #99
 2006 0034 06DC     		bgt	.L199
 2007              	.LVL272:
 2008              	.L189:
 590:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 2009              		.loc 1 590 0
 2010 0036 2246     		mov	r2, r4
 2011 0038 2449     		ldr	r1, .L202+12
 2012 003a 41F28830 		movw	r0, #5000
 2013 003e FFF7FEFF 		bl	sys_timeout
 2014              	.LVL273:
 592:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2015              		.loc 1 592 0
 2016 0042 E6E7     		b	.L186
 2017              	.LVL274:
 2018              	.L199:
 556:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       restart_timer = 0;
 2019              		.loc 1 556 0
 2020 0044 40F20111 		movw	r1, #257
 2021 0048 2046     		mov	r0, r4
 2022 004a FFF7FEFF 		bl	mqtt_close
 2023              	.LVL275:
 2024 004e E0E7     		b	.L186
 2025              	.LVL276:
 2026              	.L198:
 561:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2027              		.loc 1 561 0
 2028 0050 0521     		movs	r1, #5
 2029 0052 04F11800 		add	r0, r4, #24
 2030 0056 FFF7FEFF 		bl	mqtt_request_time_elapsed
 2031              	.LVL277:
 564:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 57


 2032              		.loc 1 564 0
 2033 005a 6288     		ldrh	r2, [r4, #2]
 2034 005c 002A     		cmp	r2, #0
 2035 005e EAD0     		beq	.L189
 566:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* If reception from server has been idle for 1.5*keep_alive time, server is considered unres
 2036              		.loc 1 566 0
 2037 0060 A388     		ldrh	r3, [r4, #4]
 2038 0062 0133     		adds	r3, r3, #1
 2039 0064 9BB2     		uxth	r3, r3
 2040 0066 A380     		strh	r3, [r4, #4]	@ movhi
 568:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_cyclic_timer: Server incoming keep-alive timeout\n"));
 2041              		.loc 1 568 0
 2042 0068 03EB8303 		add	r3, r3, r3, lsl #2
 2043 006c 02EB5202 		add	r2, r2, r2, lsr #1
 2044 0070 9342     		cmp	r3, r2
 2045 0072 0BDC     		bgt	.L200
 547:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_client_t *client = (mqtt_client_t *)arg;
 2046              		.loc 1 547 0
 2047 0074 0125     		movs	r5, #1
 2048              	.LVL278:
 2049              	.L191:
 575:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_cyclic_timer: Sending keep-alive message to server\n"))
 2050              		.loc 1 575 0
 2051 0076 2388     		ldrh	r3, [r4]
 2052 0078 03EB8301 		add	r1, r3, r3, lsl #2
 2053 007c 6288     		ldrh	r2, [r4, #2]
 2054 007e 9142     		cmp	r1, r2
 2055 0080 0BDA     		bge	.L201
 582:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 2056              		.loc 1 582 0
 2057 0082 0133     		adds	r3, r3, #1
 2058 0084 2380     		strh	r3, [r4]	@ movhi
 2059              	.L193:
 589:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     sys_timeout(MQTT_CYCLIC_TIMER_INTERVAL*1000, mqtt_cyclic_timer, arg);
 2060              		.loc 1 589 0
 2061 0086 002D     		cmp	r5, #0
 2062 0088 D5D1     		bne	.L189
 2063 008a C2E7     		b	.L186
 2064              	.LVL279:
 2065              	.L200:
 570:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         restart_timer = 0;
 2066              		.loc 1 570 0
 2067 008c 40F20111 		movw	r1, #257
 2068 0090 2046     		mov	r0, r4
 2069 0092 FFF7FEFF 		bl	mqtt_close
 2070              	.LVL280:
 571:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 2071              		.loc 1 571 0
 2072 0096 0025     		movs	r5, #0
 2073 0098 EDE7     		b	.L191
 2074              	.LVL281:
 2075              	.L201:
 577:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           mqtt_output_append_fixed_header(&client->output, MQTT_MSG_TYPE_PINGREQ, 0, 0, 0, 0);
 2076              		.loc 1 577 0
 2077 009a 04F1EC06 		add	r6, r4, #236
 2078 009e 0021     		movs	r1, #0
 2079 00a0 3046     		mov	r0, r6
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 58


 2080 00a2 FFF7FEFF 		bl	mqtt_output_check_space
 2081              	.LVL282:
 2082 00a6 0028     		cmp	r0, #0
 2083 00a8 EDD0     		beq	.L193
 578:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           client->cyclic_tick = 0;
 2084              		.loc 1 578 0
 2085 00aa 0027     		movs	r7, #0
 2086 00ac 0197     		str	r7, [sp, #4]
 2087 00ae 0097     		str	r7, [sp]
 2088 00b0 3B46     		mov	r3, r7
 2089 00b2 3A46     		mov	r2, r7
 2090 00b4 0C21     		movs	r1, #12
 2091 00b6 3046     		mov	r0, r6
 2092 00b8 FFF7FEFF 		bl	mqtt_output_append_fixed_header
 2093              	.LVL283:
 579:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         }
 2094              		.loc 1 579 0
 2095 00bc 2780     		strh	r7, [r4]	@ movhi
 2096 00be E2E7     		b	.L193
 2097              	.L203:
 2098              		.align	2
 2099              	.L202:
 2100 00c0 00000000 		.word	.LC0
 2101 00c4 00000000 		.word	.LC13
 2102 00c8 58000000 		.word	.LC2
 2103 00cc 00000000 		.word	mqtt_cyclic_timer
 2104              		.cfi_endproc
 2105              	.LFE175:
 2107              		.section	.text.mqtt_tcp_connect_cb,"ax",%progbits
 2108              		.align	1
 2109              		.syntax unified
 2110              		.thumb
 2111              		.thumb_func
 2112              		.fpu fpv5-sp-d16
 2114              	mqtt_tcp_connect_cb:
 2115              	.LFB184:
 964:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 965:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
 966:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * TCP connect callback function. @see tcp_connected_fn
 967:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param arg MQTT client
 968:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param err Always ERR_OK, mqtt_tcp_err_cb is called in case of error
 969:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return ERR_OK
 970:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
 971:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** static err_t
 972:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_tcp_connect_cb(void *arg, struct tcp_pcb *tpcb, err_t err)
 973:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 2116              		.loc 1 973 0
 2117              		.cfi_startproc
 2118              		@ args = 0, pretend = 0, frame = 0
 2119              		@ frame_needed = 0, uses_anonymous_args = 0
 2120              	.LVL284:
 2121 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2122              	.LCFI32:
 2123              		.cfi_def_cfa_offset 24
 2124              		.cfi_offset 3, -24
 2125              		.cfi_offset 4, -20
 2126              		.cfi_offset 5, -16
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 59


 2127              		.cfi_offset 6, -12
 2128              		.cfi_offset 7, -8
 2129              		.cfi_offset 14, -4
 2130              	.LVL285:
 974:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_client_t* client = (mqtt_client_t *)arg;
 975:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 976:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (err != ERR_OK) {
 2131              		.loc 1 976 0
 2132 0002 1646     		mov	r6, r2
 2133 0004 0AB1     		cbz	r2, .L207
 2134              	.LVL286:
 2135              	.L205:
 977:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_tcp_connect_cb: TCP connect error %d\n", err));
 978:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return err;
 979:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 980:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 981:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Initiate receiver state */
 982:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->msg_idx = 0;
 983:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 984:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Setup TCP callbacks */
 985:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   tcp_recv(tpcb, mqtt_tcp_recv_cb);
 986:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   tcp_sent(tpcb, mqtt_tcp_sent_cb);
 987:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   tcp_poll(tpcb, mqtt_tcp_poll_cb, 2);
 988:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 989:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_tcp_connect_cb: TCP connection established to server\n"));
 990:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Enter MQTT connect state */
 991:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->conn_state = MQTT_CONNECTING;
 992:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 993:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Start cyclic timer */
 994:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   sys_timeout(MQTT_CYCLIC_TIMER_INTERVAL*1000, mqtt_cyclic_timer, client);
 995:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->cyclic_tick = 0;
 996:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 997:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Start transmission from output queue, connect message is the first one out*/
 998:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_send(&client->output, client->conn);
 999:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1000:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return ERR_OK;
1001:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 2136              		.loc 1 1001 0
 2137 0006 3046     		mov	r0, r6
 2138 0008 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2139              	.LVL287:
 2140              	.L207:
 2141 000a 0446     		mov	r4, r0
 2142 000c 0D46     		mov	r5, r1
 982:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2143              		.loc 1 982 0
 2144 000e 0027     		movs	r7, #0
 2145 0010 8766     		str	r7, [r0, #104]
 985:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   tcp_sent(tpcb, mqtt_tcp_sent_cb);
 2146              		.loc 1 985 0
 2147 0012 0E49     		ldr	r1, .L208
 2148              	.LVL288:
 2149 0014 2846     		mov	r0, r5
 2150              	.LVL289:
 2151 0016 FFF7FEFF 		bl	tcp_recv
 2152              	.LVL290:
 986:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   tcp_poll(tpcb, mqtt_tcp_poll_cb, 2);
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 60


 2153              		.loc 1 986 0
 2154 001a 0D49     		ldr	r1, .L208+4
 2155 001c 2846     		mov	r0, r5
 2156 001e FFF7FEFF 		bl	tcp_sent
 2157              	.LVL291:
 987:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2158              		.loc 1 987 0
 2159 0022 0222     		movs	r2, #2
 2160 0024 0B49     		ldr	r1, .L208+8
 2161 0026 2846     		mov	r0, r5
 2162 0028 FFF7FEFF 		bl	tcp_poll
 2163              	.LVL292:
 991:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2164              		.loc 1 991 0
 2165 002c 0223     		movs	r3, #2
 2166 002e A372     		strb	r3, [r4, #10]
 994:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->cyclic_tick = 0;
 2167              		.loc 1 994 0
 2168 0030 2246     		mov	r2, r4
 2169 0032 0949     		ldr	r1, .L208+12
 2170 0034 41F28830 		movw	r0, #5000
 2171 0038 FFF7FEFF 		bl	sys_timeout
 2172              	.LVL293:
 995:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2173              		.loc 1 995 0
 2174 003c 2780     		strh	r7, [r4]	@ movhi
 998:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2175              		.loc 1 998 0
 2176 003e E168     		ldr	r1, [r4, #12]
 2177 0040 04F1EC00 		add	r0, r4, #236
 2178 0044 FFF7FEFF 		bl	mqtt_output_send
 2179              	.LVL294:
1000:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 2180              		.loc 1 1000 0
 2181 0048 DDE7     		b	.L205
 2182              	.L209:
 2183 004a 00BF     		.align	2
 2184              	.L208:
 2185 004c 00000000 		.word	mqtt_tcp_recv_cb
 2186 0050 00000000 		.word	mqtt_tcp_sent_cb
 2187 0054 00000000 		.word	mqtt_tcp_poll_cb
 2188 0058 00000000 		.word	mqtt_cyclic_timer
 2189              		.cfi_endproc
 2190              	.LFE184:
 2192              		.section	.text.mqtt_parse_incoming,"ax",%progbits
 2193              		.align	1
 2194              		.syntax unified
 2195              		.thumb
 2196              		.thumb_func
 2197              		.fpu fpv5-sp-d16
 2199              	mqtt_parse_incoming:
 2200              	.LFB179:
 780:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t in_offset = 0;
 2201              		.loc 1 780 0
 2202              		.cfi_startproc
 2203              		@ args = 0, pretend = 0, frame = 8
 2204              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 61


 2205              	.LVL295:
 2206 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2207              	.LCFI33:
 2208              		.cfi_def_cfa_offset 36
 2209              		.cfi_offset 4, -36
 2210              		.cfi_offset 5, -32
 2211              		.cfi_offset 6, -28
 2212              		.cfi_offset 7, -24
 2213              		.cfi_offset 8, -20
 2214              		.cfi_offset 9, -16
 2215              		.cfi_offset 10, -12
 2216              		.cfi_offset 11, -8
 2217              		.cfi_offset 14, -4
 2218 0004 83B0     		sub	sp, sp, #12
 2219              	.LCFI34:
 2220              		.cfi_def_cfa_offset 48
 2221 0006 8346     		mov	fp, r0
 2222 0008 0091     		str	r1, [sp]
 2223              	.LVL296:
 784:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2224              		.loc 1 784 0
 2225 000a 0026     		movs	r6, #0
 783:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t b = 0;
 2226              		.loc 1 783 0
 2227 000c 3746     		mov	r7, r6
 782:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t fixed_hdr_idx = 0;
 2228              		.loc 1 782 0
 2229 000e B246     		mov	r10, r6
 781:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u32_t msg_rem_len = 0;
 2230              		.loc 1 781 0
 2231 0010 B146     		mov	r9, r6
 786:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if ((fixed_hdr_idx < 2) || ((b & 0x80) != 0)) {
 2232              		.loc 1 786 0
 2233 0012 51E0     		b	.L211
 2234              	.LVL297:
 2235              	.L213:
 792:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         client->rx_buffer[client->msg_idx++] = b;
 2236              		.loc 1 792 0
 2237 0014 09F10104 		add	r4, r9, #1
 2238 0018 A4B2     		uxth	r4, r4
 2239              	.LVL298:
 2240 001a 4946     		mov	r1, r9
 2241 001c 0098     		ldr	r0, [sp]
 2242 001e FFF7FEFF 		bl	pbuf_get_at
 2243              	.LVL299:
 2244 0022 0646     		mov	r6, r0
 2245              	.LVL300:
 793:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 2246              		.loc 1 793 0
 2247 0024 DBF86830 		ldr	r3, [fp, #104]
 2248 0028 5A1C     		adds	r2, r3, #1
 2249 002a CBF86820 		str	r2, [fp, #104]
 2250 002e 5B44     		add	r3, r3, fp
 2251 0030 83F86C00 		strb	r0, [r3, #108]
 792:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         client->rx_buffer[client->msg_idx++] = b;
 2252              		.loc 1 792 0
 2253 0034 A146     		mov	r9, r4
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 62


 2254 0036 53E0     		b	.L214
 2255              	.LVL301:
 2256              	.L226:
 803:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             client->msg_idx = 0;
 2257              		.loc 1 803 0
 2258 0038 0023     		movs	r3, #0
 2259 003a 1A46     		mov	r2, r3
 2260 003c 3946     		mov	r1, r7
 2261 003e 5846     		mov	r0, fp
 2262 0040 FFF7FEFF 		bl	mqtt_message_received
 2263              	.LVL302:
 804:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             fixed_hdr_idx = 0;
 2264              		.loc 1 804 0
 2265 0044 0027     		movs	r7, #0
 2266              	.LVL303:
 2267 0046 CBF86870 		str	r7, [fp, #104]
 2268              	.LVL304:
 2269 004a 35E0     		b	.L211
 2270              	.LVL305:
 2271              	.L212:
 2272              	.LBB13:
 815:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2273              		.loc 1 815 0
 2274 004c DBF86850 		ldr	r5, [fp, #104]
 2275 0050 EC1B     		subs	r4, r5, r7
 2276 0052 C7F18003 		rsb	r3, r7, #128
 2277 0056 B4FBF3F5 		udiv	r5, r4, r3
 2278 005a 03FB1545 		mls	r5, r3, r5, r4
 2279 005e BBB2     		uxth	r3, r7
 2280 0060 0193     		str	r3, [sp, #4]
 2281 0062 13FA85F5 		uxtah	r5, r3, r5
 2282 0066 ADB2     		uxth	r5, r5
 2283              	.LVL306:
 818:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2284              		.loc 1 818 0
 2285 0068 A2EB0904 		sub	r4, r2, r9
 2286 006c A4B2     		uxth	r4, r4
 2287 006e 5445     		cmp	r4, r10
 2288 0070 01D3     		bcc	.L217
 818:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2289              		.loc 1 818 0 is_stmt 0 discriminator 2
 2290 0072 1FFA8AF4 		uxth	r4, r10
 2291              	.L217:
 2292              	.LVL307:
 821:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       if (cpy_len > buffer_space) {
 2293              		.loc 1 821 0 is_stmt 1 discriminator 4
 2294 0076 C5F18008 		rsb	r8, r5, #128
 2295 007a 1FFA88F8 		uxth	r8, r8
 2296              	.LVL308:
 822:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         cpy_len = buffer_space;
 2297              		.loc 1 822 0 discriminator 4
 2298 007e 4445     		cmp	r4, r8
 2299 0080 00D9     		bls	.L218
 823:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       }
 2300              		.loc 1 823 0
 2301 0082 4446     		mov	r4, r8
 2302              	.LVL309:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 63


 2303              	.L218:
 825:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2304              		.loc 1 825 0
 2305 0084 0BF16C01 		add	r1, fp, #108
 2306 0088 4B46     		mov	r3, r9
 2307 008a 2246     		mov	r2, r4
 2308 008c 2944     		add	r1, r1, r5
 2309 008e 0098     		ldr	r0, [sp]
 2310 0090 FFF7FEFF 		bl	pbuf_copy_partial
 2311              	.LVL310:
 828:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       in_offset += cpy_len;
 2312              		.loc 1 828 0
 2313 0094 DBF86830 		ldr	r3, [fp, #104]
 2314 0098 2344     		add	r3, r3, r4
 2315 009a CBF86830 		str	r3, [fp, #104]
 829:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       msg_rem_len -= cpy_len;
 2316              		.loc 1 829 0
 2317 009e A144     		add	r9, r9, r4
 2318              	.LVL311:
 2319 00a0 1FFA89F9 		uxth	r9, r9
 2320              	.LVL312:
 833:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         /* Whole message received or buffer is full */
 2321              		.loc 1 833 0
 2322 00a4 BAEB040A 		subs	r10, r10, r4
 2323              	.LVL313:
 2324 00a8 0CBF     		ite	eq
 2325 00aa 0123     		moveq	r3, #1
 2326 00ac 0023     		movne	r3, #0
 2327 00ae 4445     		cmp	r4, r8
 2328 00b0 08BF     		it	eq
 2329 00b2 43F00103 		orreq	r3, r3, #1
 2330 00b6 5BBB     		cbnz	r3, .L224
 2331              	.LVL314:
 2332              	.L211:
 2333              	.LBE13:
 786:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if ((fixed_hdr_idx < 2) || ((b & 0x80) != 0)) {
 2334              		.loc 1 786 0
 2335 00b8 009B     		ldr	r3, [sp]
 2336 00ba 1A89     		ldrh	r2, [r3, #8]
 2337 00bc 4A45     		cmp	r2, r9
 2338 00be 3AD9     		bls	.L225
 787:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2339              		.loc 1 787 0
 2340 00c0 C6F3C013 		ubfx	r3, r6, #7, #1
 2341 00c4 012F     		cmp	r7, #1
 2342 00c6 98BF     		it	ls
 2343 00c8 43F00103 		orrls	r3, r3, #1
 2344 00cc 002B     		cmp	r3, #0
 2345 00ce BDD0     		beq	.L212
 789:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         b = client->rx_buffer[fixed_hdr_idx];
 2346              		.loc 1 789 0
 2347 00d0 DBF86830 		ldr	r3, [fp, #104]
 2348 00d4 9F42     		cmp	r7, r3
 2349 00d6 9DD2     		bcs	.L213
 790:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       } else {
 2350              		.loc 1 790 0
 2351 00d8 0BEB0703 		add	r3, fp, r7
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 64


 2352 00dc 93F86C60 		ldrb	r6, [r3, #108]	@ zero_extendqisi2
 2353              	.LVL315:
 2354              	.L214:
 795:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2355              		.loc 1 795 0
 2356 00e0 0137     		adds	r7, r7, #1
 2357              	.LVL316:
 2358 00e2 FFB2     		uxtb	r7, r7
 2359              	.LVL317:
 797:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         msg_rem_len |= (u32_t)(b & 0x7f) << ((fixed_hdr_idx - 2) * 7);
 2360              		.loc 1 797 0
 2361 00e4 012F     		cmp	r7, #1
 2362 00e6 E7D9     		bls	.L211
 798:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         if ((b & 0x80) == 0) {
 2363              		.loc 1 798 0
 2364 00e8 06F07F03 		and	r3, r6, #127
 2365 00ec BA1E     		subs	r2, r7, #2
 2366 00ee C2EBC202 		rsb	r2, r2, r2, lsl #3
 2367 00f2 9340     		lsls	r3, r3, r2
 2368 00f4 4AEA030A 		orr	r10, r10, r3
 2369              	.LVL318:
 799:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_parse_incoming: Remaining length after fixed header: 
 2370              		.loc 1 799 0
 2371 00f8 16F0800F 		tst	r6, #128
 2372 00fc DCD1     		bne	.L211
 801:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****             /* Complete message with no extra headers of payload received */
 2373              		.loc 1 801 0
 2374 00fe BAF1000F 		cmp	r10, #0
 2375 0102 99D0     		beq	.L226
 808:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           }
 2376              		.loc 1 808 0
 2377 0104 BA44     		add	r10, r10, r7
 2378              	.LVL319:
 2379 0106 DBF86830 		ldr	r3, [fp, #104]
 2380 010a AAEB030A 		sub	r10, r10, r3
 2381              	.LVL320:
 2382 010e D3E7     		b	.L211
 2383              	.LVL321:
 2384              	.L224:
 2385              	.LBB15:
 2386              	.LBB14:
 835:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****         if (res != MQTT_CONNECT_ACCEPTED) {
 2387              		.loc 1 835 0
 2388 0110 6219     		adds	r2, r4, r5
 2389 0112 92B2     		uxth	r2, r2
 2390 0114 019B     		ldr	r3, [sp, #4]
 2391 0116 D21A     		subs	r2, r2, r3
 2392 0118 5346     		mov	r3, r10
 2393 011a 92B2     		uxth	r2, r2
 2394 011c 3946     		mov	r1, r7
 2395 011e 5846     		mov	r0, fp
 2396 0120 FFF7FEFF 		bl	mqtt_message_received
 2397              	.LVL322:
 836:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           return res;
 2398              		.loc 1 836 0
 2399 0124 0346     		mov	r3, r0
 2400 0126 38B9     		cbnz	r0, .L219
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 65


 839:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           /* Reset parser state */
 2401              		.loc 1 839 0
 2402 0128 BAF1000F 		cmp	r10, #0
 2403 012c C4D1     		bne	.L211
 841:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****           /* msg_tot_len = 0; */
 2404              		.loc 1 841 0
 2405 012e 0027     		movs	r7, #0
 2406              	.LVL323:
 2407 0130 CBF86870 		str	r7, [fp, #104]
 2408              	.LVL324:
 2409 0134 C0E7     		b	.L211
 2410              	.LVL325:
 2411              	.L225:
 2412              	.LBE14:
 2413              	.LBE15:
 848:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 2414              		.loc 1 848 0
 2415 0136 0023     		movs	r3, #0
 2416              	.LVL326:
 2417              	.L219:
 849:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2418              		.loc 1 849 0
 2419 0138 1846     		mov	r0, r3
 2420 013a 03B0     		add	sp, sp, #12
 2421              	.LCFI35:
 2422              		.cfi_def_cfa_offset 36
 2423              	.LVL327:
 2424              		@ sp needed
 2425 013c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2426              		.cfi_endproc
 2427              	.LFE179:
 2429              		.section	.text.mqtt_tcp_recv_cb,"ax",%progbits
 2430              		.align	1
 2431              		.syntax unified
 2432              		.thumb
 2433              		.thumb_func
 2434              		.fpu fpv5-sp-d16
 2436              	mqtt_tcp_recv_cb:
 2437              	.LFB180:
 861:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_client_t *client = (mqtt_client_t *)arg;
 2438              		.loc 1 861 0
 2439              		.cfi_startproc
 2440              		@ args = 0, pretend = 0, frame = 0
 2441              		@ frame_needed = 0, uses_anonymous_args = 0
 2442              	.LVL328:
 2443 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2444              	.LCFI36:
 2445              		.cfi_def_cfa_offset 24
 2446              		.cfi_offset 3, -24
 2447              		.cfi_offset 4, -20
 2448              		.cfi_offset 5, -16
 2449              		.cfi_offset 6, -12
 2450              		.cfi_offset 7, -8
 2451              		.cfi_offset 14, -4
 2452 0002 0F46     		mov	r7, r1
 2453 0004 1446     		mov	r4, r2
 2454 0006 1E46     		mov	r6, r3
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 66


 2455              	.LVL329:
 863:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_tcp_recv_cb: client->conn == pcb", client->conn == pcb);
 2456              		.loc 1 863 0
 2457 0008 0546     		mov	r5, r0
 2458 000a E8B1     		cbz	r0, .L235
 2459              	.LVL330:
 2460              	.L228:
 864:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2461              		.loc 1 864 0
 2462 000c EB68     		ldr	r3, [r5, #12]
 2463 000e BB42     		cmp	r3, r7
 2464 0010 06D0     		beq	.L229
 864:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2465              		.loc 1 864 0 is_stmt 0 discriminator 1
 2466 0012 1A4B     		ldr	r3, .L239
 2467 0014 4FF45872 		mov	r2, #864
 2468 0018 1949     		ldr	r1, .L239+4
 2469 001a 1A48     		ldr	r0, .L239+8
 2470 001c FFF7FEFF 		bl	printf
 2471              	.LVL331:
 2472              	.L229:
 866:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_tcp_recv_cb: Recv pbuf=NULL, remote has closed connection\n
 2473              		.loc 1 866 0 is_stmt 1
 2474 0020 D4B1     		cbz	r4, .L236
 2475              	.LBB16:
 871:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_tcp_recv_cb: Recv err=%d\n", err));
 2476              		.loc 1 871 0
 2477 0022 06BB     		cbnz	r6, .L237
 878:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     res = mqtt_parse_incoming(client, p);
 2478              		.loc 1 878 0
 2479 0024 2189     		ldrh	r1, [r4, #8]
 2480 0026 3846     		mov	r0, r7
 2481 0028 FFF7FEFF 		bl	tcp_recved
 2482              	.LVL332:
 879:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     pbuf_free(p);
 2483              		.loc 1 879 0
 2484 002c 2146     		mov	r1, r4
 2485 002e 2846     		mov	r0, r5
 2486 0030 FFF7FEFF 		bl	mqtt_parse_incoming
 2487              	.LVL333:
 2488 0034 0746     		mov	r7, r0
 2489              	.LVL334:
 880:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2490              		.loc 1 880 0
 2491 0036 2046     		mov	r0, r4
 2492 0038 FFF7FEFF 		bl	pbuf_free
 2493              	.LVL335:
 882:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       mqtt_close(client, res);
 2494              		.loc 1 882 0
 2495 003c C7B9     		cbnz	r7, .L238
 2496              	.L233:
 886:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       /* Reset server alive watchdog */
 2497              		.loc 1 886 0
 2498 003e 6B88     		ldrh	r3, [r5, #2]
 2499 0040 A3B1     		cbz	r3, .L231
 888:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 2500              		.loc 1 888 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 67


 2501 0042 0023     		movs	r3, #0
 2502 0044 AB80     		strh	r3, [r5, #4]	@ movhi
 2503 0046 11E0     		b	.L231
 2504              	.LVL336:
 2505              	.L235:
 2506              	.LBE16:
 863:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_tcp_recv_cb: client->conn == pcb", client->conn == pcb);
 2507              		.loc 1 863 0 discriminator 1
 2508 0048 0C4B     		ldr	r3, .L239
 2509              	.LVL337:
 2510 004a 40F25F32 		movw	r2, #863
 2511              	.LVL338:
 2512 004e 0E49     		ldr	r1, .L239+12
 2513              	.LVL339:
 2514 0050 0C48     		ldr	r0, .L239+8
 2515              	.LVL340:
 2516 0052 FFF7FEFF 		bl	printf
 2517              	.LVL341:
 2518 0056 D9E7     		b	.L228
 2519              	.L236:
 868:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else {
 2520              		.loc 1 868 0
 2521 0058 4FF48071 		mov	r1, #256
 2522 005c 2846     		mov	r0, r5
 2523 005e FFF7FEFF 		bl	mqtt_close
 2524              	.LVL342:
 892:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 2525              		.loc 1 892 0
 2526 0062 0026     		movs	r6, #0
 2527 0064 02E0     		b	.L231
 2528              	.L237:
 2529              	.LBB17:
 873:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       return err;
 2530              		.loc 1 873 0
 2531 0066 2046     		mov	r0, r4
 2532 0068 FFF7FEFF 		bl	pbuf_free
 2533              	.LVL343:
 2534              	.L231:
 2535              	.LBE17:
 893:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2536              		.loc 1 893 0
 2537 006c 3046     		mov	r0, r6
 2538 006e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2539              	.LVL344:
 2540              	.L238:
 2541              	.LBB18:
 883:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
 2542              		.loc 1 883 0
 2543 0070 3946     		mov	r1, r7
 2544 0072 2846     		mov	r0, r5
 2545 0074 FFF7FEFF 		bl	mqtt_close
 2546              	.LVL345:
 2547 0078 E1E7     		b	.L233
 2548              	.L240:
 2549 007a 00BF     		.align	2
 2550              	.L239:
 2551 007c 00000000 		.word	.LC0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 68


 2552 0080 24000000 		.word	.LC15
 2553 0084 58000000 		.word	.LC2
 2554 0088 00000000 		.word	.LC14
 2555              	.LBE18:
 2556              		.cfi_endproc
 2557              	.LFE180:
 2559              		.section	.text.mqtt_publish,"ax",%progbits
 2560              		.align	1
 2561              		.global	mqtt_publish
 2562              		.syntax unified
 2563              		.thumb
 2564              		.thumb_func
 2565              		.fpu fpv5-sp-d16
 2567              	mqtt_publish:
 2568              	.LFB185:
1002:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1003:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1004:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1005:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /*-------------------------------------------------------------------------------------------------
1006:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /* Public API */
1007:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1008:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1009:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
1010:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @ingroup mqtt
1011:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * MQTT publish function.
1012:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param client MQTT client
1013:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param topic Publish topic string
1014:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param payload Data to publish (NULL is allowed)
1015:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param payload_length: Length of payload (0 is allowed)
1016:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param qos Quality of service, 0 1 or 2
1017:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param retain MQTT retain flag
1018:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param cb Callback to call when publish is complete or has timed out
1019:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param arg User supplied argument to publish callback
1020:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return ERR_OK if successful
1021:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *         ERR_CONN if client is disconnected
1022:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  *         ERR_MEM if short on memory
1023:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
1024:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** err_t
1025:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_publish(mqtt_client_t *client, const char *topic, const void *payload, u16_t payload_length, u
1026:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****              mqtt_request_cb_t cb, void *arg)
1027:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 2569              		.loc 1 1027 0
 2570              		.cfi_startproc
 2571              		@ args = 16, pretend = 0, frame = 8
 2572              		@ frame_needed = 0, uses_anonymous_args = 0
 2573              	.LVL346:
 2574 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2575              	.LCFI37:
 2576              		.cfi_def_cfa_offset 36
 2577              		.cfi_offset 4, -36
 2578              		.cfi_offset 5, -32
 2579              		.cfi_offset 6, -28
 2580              		.cfi_offset 7, -24
 2581              		.cfi_offset 8, -20
 2582              		.cfi_offset 9, -16
 2583              		.cfi_offset 10, -12
 2584              		.cfi_offset 11, -8
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 69


 2585              		.cfi_offset 14, -4
 2586 0004 85B0     		sub	sp, sp, #20
 2587              	.LCFI38:
 2588              		.cfi_def_cfa_offset 56
 2589 0006 8846     		mov	r8, r1
 2590 0008 9346     		mov	fp, r2
 2591 000a 9A46     		mov	r10, r3
 2592 000c 9DF83890 		ldrb	r9, [sp, #56]	@ zero_extendqisi2
1028:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *r;
1029:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t pkt_id;
1030:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   size_t topic_strlen;
1031:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   size_t total_len;
1032:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t topic_len;
1033:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t remaining_length;
1034:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1035:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_publish: client != NULL", client);
 2593              		.loc 1 1035 0
 2594 0010 0546     		mov	r5, r0
 2595 0012 0028     		cmp	r0, #0
 2596 0014 53D0     		beq	.L255
 2597              	.LVL347:
 2598              	.L242:
1036:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_publish: topic != NULL", topic);
 2599              		.loc 1 1036 0
 2600 0016 B8F1000F 		cmp	r8, #0
 2601 001a 58D0     		beq	.L256
 2602              	.L243:
1037:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ERROR("mqtt_publish: TCP disconnected", (client->conn_state != TCP_DISCONNECTED), return ERR
 2603              		.loc 1 1037 0
 2604 001c AB7A     		ldrb	r3, [r5, #10]	@ zero_extendqisi2
 2605 001e 002B     		cmp	r3, #0
 2606 0020 5DD0     		beq	.L257
1038:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1039:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   topic_strlen = strlen(topic);
 2607              		.loc 1 1039 0
 2608 0022 4046     		mov	r0, r8
 2609 0024 FFF7FEFF 		bl	strlen
 2610              	.LVL348:
1040:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ERROR("mqtt_publish: topic length overflow", (topic_strlen <= (0xFFFF - 2)), return ERR_ARG)
 2611              		.loc 1 1040 0
 2612 0028 4FF6FD73 		movw	r3, #65533
 2613 002c 9842     		cmp	r0, r3
 2614 002e 60D8     		bhi	.L258
1041:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   topic_len = (u16_t)topic_strlen;
 2615              		.loc 1 1041 0
 2616 0030 86B2     		uxth	r6, r0
 2617              	.LVL349:
1042:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   total_len = 2 + topic_len + payload_length;
 2618              		.loc 1 1042 0
 2619 0032 B41C     		adds	r4, r6, #2
 2620 0034 5444     		add	r4, r4, r10
 2621              	.LVL350:
1043:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ERROR("mqtt_publish: total length overflow", (total_len <= 0xFFFF), return ERR_ARG);
 2622              		.loc 1 1043 0
 2623 0036 B4F5803F 		cmp	r4, #65536
 2624 003a 64D2     		bcs	.L259
1044:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   remaining_length = (u16_t)total_len;
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 70


 2625              		.loc 1 1044 0
 2626 003c A4B2     		uxth	r4, r4
 2627              	.LVL351:
1045:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1046:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_publish: Publish with payload length %d to topic \"%s\"\n", p
1047:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1048:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (qos > 0) {
 2628              		.loc 1 1048 0
 2629 003e B9F1000F 		cmp	r9, #0
 2630 0042 6AD1     		bne	.L260
1049:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     remaining_length += 2;
1050:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Generate pkt_id id for QoS1 and 2 */
1051:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     pkt_id = msg_generate_packet_id(client);
1052:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else {
1053:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Use reserved value pkt_id 0 for QoS 0 in request handle */
1054:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     pkt_id = 0;
 2631              		.loc 1 1054 0
 2632 0044 0023     		movs	r3, #0
 2633 0046 0293     		str	r3, [sp, #8]
 2634              	.LVL352:
 2635              	.L248:
1055:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1056:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1057:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   r = mqtt_create_request(client->req_list, pkt_id, cb, arg);
 2636              		.loc 1 1057 0
 2637 0048 119B     		ldr	r3, [sp, #68]
 2638 004a 109A     		ldr	r2, [sp, #64]
 2639 004c 0299     		ldr	r1, [sp, #8]
 2640 004e 05F11C00 		add	r0, r5, #28
 2641 0052 FFF7FEFF 		bl	mqtt_create_request
 2642              	.LVL353:
1058:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (r == NULL) {
 2643              		.loc 1 1058 0
 2644 0056 0390     		str	r0, [sp, #12]
 2645 0058 0028     		cmp	r0, #0
 2646 005a 76D0     		beq	.L253
1059:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return ERR_MEM;
1060:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1061:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1062:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (mqtt_output_check_space(&client->output, remaining_length) == 0) {
 2647              		.loc 1 1062 0
 2648 005c 05F1EC07 		add	r7, r5, #236
 2649 0060 2146     		mov	r1, r4
 2650 0062 3846     		mov	r0, r7
 2651              	.LVL354:
 2652 0064 FFF7FEFF 		bl	mqtt_output_check_space
 2653              	.LVL355:
 2654 0068 0028     		cmp	r0, #0
 2655 006a 5DD0     		beq	.L261
1063:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_delete_request(r);
1064:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return ERR_MEM;
1065:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1066:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append fixed header */
1067:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_append_fixed_header(&client->output, MQTT_MSG_TYPE_PUBLISH, 0, qos, retain, remaining
 2656              		.loc 1 1067 0
 2657 006c 0194     		str	r4, [sp, #4]
 2658 006e 9DF83C30 		ldrb	r3, [sp, #60]	@ zero_extendqisi2
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 71


 2659 0072 0093     		str	r3, [sp]
 2660 0074 4B46     		mov	r3, r9
 2661 0076 0022     		movs	r2, #0
 2662 0078 0321     		movs	r1, #3
 2663 007a 3846     		mov	r0, r7
 2664 007c FFF7FEFF 		bl	mqtt_output_append_fixed_header
 2665              	.LVL356:
1068:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1069:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append Topic */
1070:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_append_string(&client->output, topic, topic_len);
 2666              		.loc 1 1070 0
 2667 0080 3246     		mov	r2, r6
 2668 0082 4146     		mov	r1, r8
 2669 0084 3846     		mov	r0, r7
 2670 0086 FFF7FEFF 		bl	mqtt_output_append_string
 2671              	.LVL357:
1071:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1072:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append packet if for QoS 1 and 2*/
1073:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (qos > 0) {
 2672              		.loc 1 1073 0
 2673 008a B9F1000F 		cmp	r9, #0
 2674 008e 51D1     		bne	.L262
 2675              	.L250:
1074:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_append_u16(&client->output, pkt_id);
1075:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1076:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1077:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append optional publish payload */
1078:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if ((payload != NULL) && (payload_length > 0)) {
 2676              		.loc 1 1078 0
 2677 0090 1AF10003 		adds	r3, r10, #0
 2678 0094 18BF     		it	ne
 2679 0096 0123     		movne	r3, #1
 2680 0098 BBF1000F 		cmp	fp, #0
 2681 009c 08BF     		it	eq
 2682 009e 0023     		moveq	r3, #0
 2683 00a0 002B     		cmp	r3, #0
 2684 00a2 4CD1     		bne	.L263
 2685              	.L251:
1079:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_append_buf(&client->output, payload, payload_length);
1080:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1081:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1082:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_append_request(&client->pend_req_queue, r);
 2686              		.loc 1 1082 0
 2687 00a4 0399     		ldr	r1, [sp, #12]
 2688 00a6 05F11800 		add	r0, r5, #24
 2689 00aa FFF7FEFF 		bl	mqtt_append_request
 2690              	.LVL358:
1083:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_send(&client->output, client->conn);
 2691              		.loc 1 1083 0
 2692 00ae E968     		ldr	r1, [r5, #12]
 2693 00b0 3846     		mov	r0, r7
 2694 00b2 FFF7FEFF 		bl	mqtt_output_send
 2695              	.LVL359:
1084:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return ERR_OK;
 2696              		.loc 1 1084 0
 2697 00b6 0020     		movs	r0, #0
 2698              	.LVL360:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 72


 2699              	.L245:
1085:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 2700              		.loc 1 1085 0
 2701 00b8 05B0     		add	sp, sp, #20
 2702              	.LCFI39:
 2703              		.cfi_remember_state
 2704              		.cfi_def_cfa_offset 36
 2705              		@ sp needed
 2706 00ba BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2707              	.LVL361:
 2708              	.L255:
 2709              	.LCFI40:
 2710              		.cfi_restore_state
1035:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_publish: topic != NULL", topic);
 2711              		.loc 1 1035 0 discriminator 1
 2712 00be 244B     		ldr	r3, .L264
 2713              	.LVL362:
 2714 00c0 40F20B42 		movw	r2, #1035
 2715              	.LVL363:
 2716 00c4 2349     		ldr	r1, .L264+4
 2717              	.LVL364:
 2718 00c6 2448     		ldr	r0, .L264+8
 2719              	.LVL365:
 2720 00c8 FFF7FEFF 		bl	printf
 2721              	.LVL366:
 2722 00cc A3E7     		b	.L242
 2723              	.L256:
1036:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ERROR("mqtt_publish: TCP disconnected", (client->conn_state != TCP_DISCONNECTED), return ERR
 2724              		.loc 1 1036 0 discriminator 1
 2725 00ce 204B     		ldr	r3, .L264
 2726 00d0 40F20C42 		movw	r2, #1036
 2727 00d4 2149     		ldr	r1, .L264+12
 2728 00d6 2048     		ldr	r0, .L264+8
 2729 00d8 FFF7FEFF 		bl	printf
 2730              	.LVL367:
 2731 00dc 9EE7     		b	.L243
 2732              	.L257:
1037:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2733              		.loc 1 1037 0 discriminator 1
 2734 00de 1C4B     		ldr	r3, .L264
 2735 00e0 40F20D42 		movw	r2, #1037
 2736 00e4 1E49     		ldr	r1, .L264+16
 2737 00e6 1C48     		ldr	r0, .L264+8
 2738 00e8 FFF7FEFF 		bl	printf
 2739              	.LVL368:
 2740 00ec 6FF00A00 		mvn	r0, #10
 2741 00f0 E2E7     		b	.L245
 2742              	.LVL369:
 2743              	.L258:
1040:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   topic_len = (u16_t)topic_strlen;
 2744              		.loc 1 1040 0 discriminator 1
 2745 00f2 174B     		ldr	r3, .L264
 2746 00f4 4FF48262 		mov	r2, #1040
 2747 00f8 1A49     		ldr	r1, .L264+20
 2748 00fa 1748     		ldr	r0, .L264+8
 2749              	.LVL370:
 2750 00fc FFF7FEFF 		bl	printf
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 73


 2751              	.LVL371:
 2752 0100 6FF00F00 		mvn	r0, #15
 2753 0104 D8E7     		b	.L245
 2754              	.LVL372:
 2755              	.L259:
1043:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   remaining_length = (u16_t)total_len;
 2756              		.loc 1 1043 0 discriminator 1
 2757 0106 124B     		ldr	r3, .L264
 2758 0108 40F21342 		movw	r2, #1043
 2759 010c 1649     		ldr	r1, .L264+24
 2760 010e 1248     		ldr	r0, .L264+8
 2761              	.LVL373:
 2762 0110 FFF7FEFF 		bl	printf
 2763              	.LVL374:
 2764 0114 6FF00F00 		mvn	r0, #15
 2765 0118 CEE7     		b	.L245
 2766              	.LVL375:
 2767              	.L260:
1049:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Generate pkt_id id for QoS1 and 2 */
 2768              		.loc 1 1049 0
 2769 011a 0234     		adds	r4, r4, #2
 2770              	.LVL376:
 2771 011c A4B2     		uxth	r4, r4
 2772              	.LVL377:
1051:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   } else {
 2773              		.loc 1 1051 0
 2774 011e 2846     		mov	r0, r5
 2775              	.LVL378:
 2776 0120 FFF7FEFF 		bl	msg_generate_packet_id
 2777              	.LVL379:
 2778 0124 0290     		str	r0, [sp, #8]
 2779              	.LVL380:
 2780 0126 8FE7     		b	.L248
 2781              	.LVL381:
 2782              	.L261:
1063:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return ERR_MEM;
 2783              		.loc 1 1063 0
 2784 0128 0398     		ldr	r0, [sp, #12]
 2785 012a FFF7FEFF 		bl	mqtt_delete_request
 2786              	.LVL382:
1064:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 2787              		.loc 1 1064 0
 2788 012e 4FF0FF30 		mov	r0, #-1
 2789 0132 C1E7     		b	.L245
 2790              	.L262:
1074:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 2791              		.loc 1 1074 0
 2792 0134 0299     		ldr	r1, [sp, #8]
 2793 0136 3846     		mov	r0, r7
 2794 0138 FFF7FEFF 		bl	mqtt_output_append_u16
 2795              	.LVL383:
 2796 013c A8E7     		b	.L250
 2797              	.L263:
1079:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 2798              		.loc 1 1079 0
 2799 013e 5246     		mov	r2, r10
 2800 0140 5946     		mov	r1, fp
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 74


 2801 0142 3846     		mov	r0, r7
 2802 0144 FFF7FEFF 		bl	mqtt_output_append_buf
 2803              	.LVL384:
 2804 0148 ACE7     		b	.L251
 2805              	.LVL385:
 2806              	.L253:
1059:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 2807              		.loc 1 1059 0
 2808 014a 4FF0FF30 		mov	r0, #-1
 2809              	.LVL386:
 2810 014e B3E7     		b	.L245
 2811              	.L265:
 2812              		.align	2
 2813              	.L264:
 2814 0150 00000000 		.word	.LC0
 2815 0154 00000000 		.word	.LC16
 2816 0158 58000000 		.word	.LC2
 2817 015c 20000000 		.word	.LC17
 2818 0160 3C000000 		.word	.LC18
 2819 0164 5C000000 		.word	.LC19
 2820 0168 80000000 		.word	.LC20
 2821              		.cfi_endproc
 2822              	.LFE185:
 2824              		.section	.text.mqtt_sub_unsub,"ax",%progbits
 2825              		.align	1
 2826              		.global	mqtt_sub_unsub
 2827              		.syntax unified
 2828              		.thumb
 2829              		.thumb_func
 2830              		.fpu fpv5-sp-d16
 2832              	mqtt_sub_unsub:
 2833              	.LFB186:
1086:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1087:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1088:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
1089:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @ingroup mqtt
1090:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * MQTT subscribe/unsubscribe function.
1091:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param client MQTT client
1092:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param topic topic to subscribe to
1093:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param qos Quality of service, 0 1 or 2 (only used for subscribe)
1094:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param cb Callback to call when subscribe/unsubscribe reponse is received
1095:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param arg User supplied argument to publish callback
1096:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param sub 1 for subscribe, 0 for unsubscribe
1097:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return ERR_OK if successful, @see err_t enum for other results
1098:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
1099:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** err_t
1100:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_sub_unsub(mqtt_client_t *client, const char *topic, u8_t qos, mqtt_request_cb_t cb, void *arg,
1101:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 2834              		.loc 1 1101 0
 2835              		.cfi_startproc
 2836              		@ args = 8, pretend = 0, frame = 8
 2837              		@ frame_needed = 0, uses_anonymous_args = 0
 2838              	.LVL387:
 2839 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2840              	.LCFI41:
 2841              		.cfi_def_cfa_offset 36
 2842              		.cfi_offset 4, -36
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 75


 2843              		.cfi_offset 5, -32
 2844              		.cfi_offset 6, -28
 2845              		.cfi_offset 7, -24
 2846              		.cfi_offset 8, -20
 2847              		.cfi_offset 9, -16
 2848              		.cfi_offset 10, -12
 2849              		.cfi_offset 11, -8
 2850              		.cfi_offset 14, -4
 2851 0004 85B0     		sub	sp, sp, #20
 2852              	.LCFI42:
 2853              		.cfi_def_cfa_offset 56
 2854 0006 8846     		mov	r8, r1
 2855 0008 9346     		mov	fp, r2
 2856 000a 1F46     		mov	r7, r3
 2857 000c 9DF83C90 		ldrb	r9, [sp, #60]	@ zero_extendqisi2
1102:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   size_t topic_strlen;
1103:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   size_t total_len;
1104:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t topic_len;
1105:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t remaining_length;
1106:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t pkt_id;
1107:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   struct mqtt_request_t *r;
1108:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1109:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_sub_unsub: client != NULL", client);
 2858              		.loc 1 1109 0
 2859 0010 0546     		mov	r5, r0
 2860 0012 0028     		cmp	r0, #0
 2861 0014 53D0     		beq	.L280
 2862              	.LVL388:
 2863              	.L267:
1110:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_sub_unsub: topic != NULL", topic);
 2864              		.loc 1 1110 0
 2865 0016 B8F1000F 		cmp	r8, #0
 2866 001a 58D0     		beq	.L281
 2867              	.L268:
1111:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1112:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   topic_strlen = strlen(topic);
 2868              		.loc 1 1112 0
 2869 001c 4046     		mov	r0, r8
 2870 001e FFF7FEFF 		bl	strlen
 2871              	.LVL389:
1113:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ERROR("mqtt_sub_unsub: topic length overflow", (topic_strlen <= (0xFFFF - 2)), return ERR_AR
 2872              		.loc 1 1113 0
 2873 0022 4FF6FD73 		movw	r3, #65533
 2874 0026 9842     		cmp	r0, r3
 2875 0028 59D8     		bhi	.L282
1114:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   topic_len = (u16_t)topic_strlen;
 2876              		.loc 1 1114 0
 2877 002a 86B2     		uxth	r6, r0
 2878              	.LVL390:
1115:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Topic string, pkt_id, qos for subscribe */
1116:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   total_len =  topic_len + 2 + 2 + (sub != 0);
 2879              		.loc 1 1116 0
 2880 002c 341D     		adds	r4, r6, #4
 2881 002e B9F1000F 		cmp	r9, #0
 2882 0032 18BF     		it	ne
 2883 0034 0134     		addne	r4, r4, #1
 2884              	.LVL391:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 76


1117:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ERROR("mqtt_sub_unsub: total length overflow", (total_len <= 0xFFFF), return ERR_ARG);
 2885              		.loc 1 1117 0
 2886 0036 B4F5803F 		cmp	r4, #65536
 2887 003a 5AD2     		bcs	.L283
1118:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   remaining_length = (u16_t)total_len;
 2888              		.loc 1 1118 0
 2889 003c A4B2     		uxth	r4, r4
 2890              	.LVL392:
1119:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1120:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_sub_unsub: qos < 3", qos < 3);
 2891              		.loc 1 1120 0
 2892 003e BBF1020F 		cmp	fp, #2
 2893 0042 60D8     		bhi	.L284
 2894              	.LVL393:
 2895              	.L272:
1121:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client->conn_state == TCP_DISCONNECTED) {
 2896              		.loc 1 1121 0
 2897 0044 AB7A     		ldrb	r3, [r5, #10]	@ zero_extendqisi2
 2898 0046 002B     		cmp	r3, #0
 2899 0048 75D0     		beq	.L276
1122:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_sub_unsub: Can not (un)subscribe in disconnected state\n"));
1123:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return ERR_CONN;
1124:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1125:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1126:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   pkt_id = msg_generate_packet_id(client);
 2900              		.loc 1 1126 0
 2901 004a 2846     		mov	r0, r5
 2902 004c FFF7FEFF 		bl	msg_generate_packet_id
 2903              	.LVL394:
 2904 0050 8246     		mov	r10, r0
 2905              	.LVL395:
1127:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   r = mqtt_create_request(client->req_list, pkt_id, cb, arg);
 2906              		.loc 1 1127 0
 2907 0052 0E9B     		ldr	r3, [sp, #56]
 2908 0054 3A46     		mov	r2, r7
 2909 0056 0146     		mov	r1, r0
 2910 0058 05F11C00 		add	r0, r5, #28
 2911              	.LVL396:
 2912 005c FFF7FEFF 		bl	mqtt_create_request
 2913              	.LVL397:
1128:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (r == NULL) {
 2914              		.loc 1 1128 0
 2915 0060 0390     		str	r0, [sp, #12]
 2916 0062 0028     		cmp	r0, #0
 2917 0064 6AD0     		beq	.L277
1129:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return ERR_MEM;
1130:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1131:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1132:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (mqtt_output_check_space(&client->output, remaining_length) == 0) {
 2918              		.loc 1 1132 0
 2919 0066 05F1EC07 		add	r7, r5, #236
 2920              	.LVL398:
 2921 006a 2146     		mov	r1, r4
 2922 006c 3846     		mov	r0, r7
 2923              	.LVL399:
 2924 006e FFF7FEFF 		bl	mqtt_output_check_space
 2925              	.LVL400:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 77


 2926 0072 0028     		cmp	r0, #0
 2927 0074 4FD0     		beq	.L285
1133:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_delete_request(r);
1134:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return ERR_MEM;
1135:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1136:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1137:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_sub_unsub: Client (un)subscribe to topic \"%s\", id: %d\n", t
1138:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1139:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_append_fixed_header(&client->output, sub ? MQTT_MSG_TYPE_SUBSCRIBE : MQTT_MSG_TYPE_UN
 2928              		.loc 1 1139 0
 2929 0076 B9F1000F 		cmp	r9, #0
 2930 007a 52D0     		beq	.L278
 2931 007c 0821     		movs	r1, #8
 2932              	.L274:
 2933              		.loc 1 1139 0 is_stmt 0 discriminator 4
 2934 007e 0194     		str	r4, [sp, #4]
 2935 0080 0022     		movs	r2, #0
 2936 0082 0092     		str	r2, [sp]
 2937 0084 0123     		movs	r3, #1
 2938 0086 3846     		mov	r0, r7
 2939 0088 FFF7FEFF 		bl	mqtt_output_append_fixed_header
 2940              	.LVL401:
1140:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Packet id */
1141:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_append_u16(&client->output, pkt_id);
 2941              		.loc 1 1141 0 is_stmt 1 discriminator 4
 2942 008c 5146     		mov	r1, r10
 2943 008e 3846     		mov	r0, r7
 2944 0090 FFF7FEFF 		bl	mqtt_output_append_u16
 2945              	.LVL402:
1142:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Topic */
1143:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_append_string(&client->output, topic, topic_len);
 2946              		.loc 1 1143 0 discriminator 4
 2947 0094 3246     		mov	r2, r6
 2948 0096 4146     		mov	r1, r8
 2949 0098 3846     		mov	r0, r7
 2950 009a FFF7FEFF 		bl	mqtt_output_append_string
 2951              	.LVL403:
1144:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* QoS */
1145:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (sub != 0) {
 2952              		.loc 1 1145 0 discriminator 4
 2953 009e B9F1000F 		cmp	r9, #0
 2954 00a2 40D1     		bne	.L286
 2955              	.L275:
1146:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_append_u8(&client->output, LWIP_MIN(qos, 2));
1147:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1148:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1149:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_append_request(&client->pend_req_queue, r);
 2956              		.loc 1 1149 0
 2957 00a4 0399     		ldr	r1, [sp, #12]
 2958 00a6 05F11800 		add	r0, r5, #24
 2959 00aa FFF7FEFF 		bl	mqtt_append_request
 2960              	.LVL404:
1150:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_send(&client->output, client->conn);
 2961              		.loc 1 1150 0
 2962 00ae E968     		ldr	r1, [r5, #12]
 2963 00b0 3846     		mov	r0, r7
 2964 00b2 FFF7FEFF 		bl	mqtt_output_send
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 78


 2965              	.LVL405:
1151:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return ERR_OK;
 2966              		.loc 1 1151 0
 2967 00b6 0020     		movs	r0, #0
 2968              	.LVL406:
 2969              	.L270:
1152:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 2970              		.loc 1 1152 0
 2971 00b8 05B0     		add	sp, sp, #20
 2972              	.LCFI43:
 2973              		.cfi_remember_state
 2974              		.cfi_def_cfa_offset 36
 2975              		@ sp needed
 2976 00ba BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2977              	.LVL407:
 2978              	.L280:
 2979              	.LCFI44:
 2980              		.cfi_restore_state
1109:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_sub_unsub: topic != NULL", topic);
 2981              		.loc 1 1109 0 discriminator 1
 2982 00be 214B     		ldr	r3, .L287
 2983              	.LVL408:
 2984 00c0 40F25542 		movw	r2, #1109
 2985              	.LVL409:
 2986 00c4 2049     		ldr	r1, .L287+4
 2987              	.LVL410:
 2988 00c6 2148     		ldr	r0, .L287+8
 2989              	.LVL411:
 2990 00c8 FFF7FEFF 		bl	printf
 2991              	.LVL412:
 2992 00cc A3E7     		b	.L267
 2993              	.L281:
1110:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 2994              		.loc 1 1110 0 discriminator 1
 2995 00ce 1D4B     		ldr	r3, .L287
 2996 00d0 40F25642 		movw	r2, #1110
 2997 00d4 1E49     		ldr	r1, .L287+12
 2998 00d6 1D48     		ldr	r0, .L287+8
 2999 00d8 FFF7FEFF 		bl	printf
 3000              	.LVL413:
 3001 00dc 9EE7     		b	.L268
 3002              	.LVL414:
 3003              	.L282:
1113:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   topic_len = (u16_t)topic_strlen;
 3004              		.loc 1 1113 0 discriminator 1
 3005 00de 194B     		ldr	r3, .L287
 3006 00e0 40F25942 		movw	r2, #1113
 3007 00e4 1B49     		ldr	r1, .L287+16
 3008 00e6 1948     		ldr	r0, .L287+8
 3009              	.LVL415:
 3010 00e8 FFF7FEFF 		bl	printf
 3011              	.LVL416:
 3012 00ec 6FF00F00 		mvn	r0, #15
 3013 00f0 E2E7     		b	.L270
 3014              	.LVL417:
 3015              	.L283:
1117:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   remaining_length = (u16_t)total_len;
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 79


 3016              		.loc 1 1117 0 discriminator 1
 3017 00f2 144B     		ldr	r3, .L287
 3018 00f4 40F25D42 		movw	r2, #1117
 3019 00f8 1749     		ldr	r1, .L287+20
 3020 00fa 1448     		ldr	r0, .L287+8
 3021              	.LVL418:
 3022 00fc FFF7FEFF 		bl	printf
 3023              	.LVL419:
 3024 0100 6FF00F00 		mvn	r0, #15
 3025 0104 D8E7     		b	.L270
 3026              	.LVL420:
 3027              	.L284:
1120:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client->conn_state == TCP_DISCONNECTED) {
 3028              		.loc 1 1120 0 discriminator 1
 3029 0106 0F4B     		ldr	r3, .L287
 3030 0108 4FF48C62 		mov	r2, #1120
 3031 010c 1349     		ldr	r1, .L287+24
 3032 010e 0F48     		ldr	r0, .L287+8
 3033              	.LVL421:
 3034 0110 FFF7FEFF 		bl	printf
 3035              	.LVL422:
 3036 0114 96E7     		b	.L272
 3037              	.LVL423:
 3038              	.L285:
1133:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return ERR_MEM;
 3039              		.loc 1 1133 0
 3040 0116 0398     		ldr	r0, [sp, #12]
 3041 0118 FFF7FEFF 		bl	mqtt_delete_request
 3042              	.LVL424:
1134:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 3043              		.loc 1 1134 0
 3044 011c 4FF0FF30 		mov	r0, #-1
 3045 0120 CAE7     		b	.L270
 3046              	.L278:
1139:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Packet id */
 3047              		.loc 1 1139 0
 3048 0122 0A21     		movs	r1, #10
 3049 0124 ABE7     		b	.L274
 3050              	.L286:
1146:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 3051              		.loc 1 1146 0
 3052 0126 5946     		mov	r1, fp
 3053 0128 0229     		cmp	r1, #2
 3054 012a 28BF     		it	cs
 3055 012c 0221     		movcs	r1, #2
 3056 012e 3846     		mov	r0, r7
 3057 0130 FFF7FEFF 		bl	mqtt_output_append_u8
 3058              	.LVL425:
 3059 0134 B6E7     		b	.L275
 3060              	.LVL426:
 3061              	.L276:
1123:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 3062              		.loc 1 1123 0
 3063 0136 6FF00A00 		mvn	r0, #10
 3064 013a BDE7     		b	.L270
 3065              	.LVL427:
 3066              	.L277:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 80


1129:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 3067              		.loc 1 1129 0
 3068 013c 4FF0FF30 		mov	r0, #-1
 3069              	.LVL428:
 3070 0140 BAE7     		b	.L270
 3071              	.L288:
 3072 0142 00BF     		.align	2
 3073              	.L287:
 3074 0144 00000000 		.word	.LC0
 3075 0148 00000000 		.word	.LC21
 3076 014c 58000000 		.word	.LC2
 3077 0150 20000000 		.word	.LC22
 3078 0154 40000000 		.word	.LC23
 3079 0158 68000000 		.word	.LC24
 3080 015c 90000000 		.word	.LC25
 3081              		.cfi_endproc
 3082              	.LFE186:
 3084              		.section	.text.mqtt_set_inpub_callback,"ax",%progbits
 3085              		.align	1
 3086              		.global	mqtt_set_inpub_callback
 3087              		.syntax unified
 3088              		.thumb
 3089              		.thumb_func
 3090              		.fpu fpv5-sp-d16
 3092              	mqtt_set_inpub_callback:
 3093              	.LFB187:
1153:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1154:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1155:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
1156:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @ingroup mqtt
1157:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Set callback to handle incoming publish requests from server
1158:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param client MQTT client
1159:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param pub_cb Callback invoked when publish starts, contain topic and total length of payload
1160:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param data_cb Callback for each fragment of payload that arrives
1161:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param arg User supplied argument to both callbacks
1162:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
1163:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** void
1164:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_set_inpub_callback(mqtt_client_t *client, mqtt_incoming_publish_cb_t pub_cb,
1165:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****                              mqtt_incoming_data_cb_t data_cb, void *arg)
1166:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 3094              		.loc 1 1166 0
 3095              		.cfi_startproc
 3096              		@ args = 0, pretend = 0, frame = 0
 3097              		@ frame_needed = 0, uses_anonymous_args = 0
 3098              	.LVL429:
 3099 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3100              	.LCFI45:
 3101              		.cfi_def_cfa_offset 24
 3102              		.cfi_offset 3, -24
 3103              		.cfi_offset 4, -20
 3104              		.cfi_offset 5, -16
 3105              		.cfi_offset 6, -12
 3106              		.cfi_offset 7, -8
 3107              		.cfi_offset 14, -4
 3108 0002 0E46     		mov	r6, r1
 3109 0004 1746     		mov	r7, r2
 3110 0006 1D46     		mov	r5, r3
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 81


1167:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_set_inpub_callback: client != NULL", client != NULL);
 3111              		.loc 1 1167 0
 3112 0008 0446     		mov	r4, r0
 3113 000a 18B1     		cbz	r0, .L292
 3114              	.LVL430:
 3115              	.L290:
1168:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->data_cb = data_cb;
 3116              		.loc 1 1168 0
 3117 000c 2766     		str	r7, [r4, #96]
1169:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->pub_cb = pub_cb;
 3118              		.loc 1 1169 0
 3119 000e 6666     		str	r6, [r4, #100]
1170:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->inpub_arg = arg;
 3120              		.loc 1 1170 0
 3121 0010 E565     		str	r5, [r4, #92]
1171:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 3122              		.loc 1 1171 0
 3123 0012 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3124              	.LVL431:
 3125              	.L292:
1167:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->data_cb = data_cb;
 3126              		.loc 1 1167 0 discriminator 1
 3127 0014 034B     		ldr	r3, .L293
 3128              	.LVL432:
 3129 0016 40F28F42 		movw	r2, #1167
 3130              	.LVL433:
 3131 001a 0349     		ldr	r1, .L293+4
 3132              	.LVL434:
 3133 001c 0348     		ldr	r0, .L293+8
 3134              	.LVL435:
 3135 001e FFF7FEFF 		bl	printf
 3136              	.LVL436:
 3137 0022 F3E7     		b	.L290
 3138              	.L294:
 3139              		.align	2
 3140              	.L293:
 3141 0024 00000000 		.word	.LC0
 3142 0028 00000000 		.word	.LC26
 3143 002c 58000000 		.word	.LC2
 3144              		.cfi_endproc
 3145              	.LFE187:
 3147              		.section	.text.mqtt_client_new,"ax",%progbits
 3148              		.align	1
 3149              		.global	mqtt_client_new
 3150              		.syntax unified
 3151              		.thumb
 3152              		.thumb_func
 3153              		.fpu fpv5-sp-d16
 3155              	mqtt_client_new:
 3156              	.LFB188:
1172:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1173:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
1174:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @ingroup mqtt
1175:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Create a new MQTT client instance
1176:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return Pointer to instance on success, NULL otherwise
1177:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
1178:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_client_t *
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 82


1179:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_client_new(void)
1180:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 3157              		.loc 1 1180 0
 3158              		.cfi_startproc
 3159              		@ args = 0, pretend = 0, frame = 0
 3160              		@ frame_needed = 0, uses_anonymous_args = 0
 3161 0000 10B5     		push	{r4, lr}
 3162              	.LCFI46:
 3163              		.cfi_def_cfa_offset 8
 3164              		.cfi_offset 4, -8
 3165              		.cfi_offset 14, -4
1181:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_client_t *client = (mqtt_client_t *)mem_malloc(sizeof(mqtt_client_t));
 3166              		.loc 1 1181 0
 3167 0002 4FF4F870 		mov	r0, #496
 3168 0006 FFF7FEFF 		bl	mem_malloc
 3169              	.LVL437:
1182:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client != NULL) {
 3170              		.loc 1 1182 0
 3171 000a 0446     		mov	r4, r0
 3172 000c 20B1     		cbz	r0, .L295
1183:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     memset(client, 0, sizeof(mqtt_client_t));
 3173              		.loc 1 1183 0
 3174 000e 4FF4F872 		mov	r2, #496
 3175 0012 0021     		movs	r1, #0
 3176 0014 FFF7FEFF 		bl	memset
 3177              	.LVL438:
 3178              	.L295:
1184:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1185:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return client;
1186:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 3179              		.loc 1 1186 0
 3180 0018 2046     		mov	r0, r4
 3181 001a 10BD     		pop	{r4, pc}
 3182              		.cfi_endproc
 3183              	.LFE188:
 3185              		.section	.text.mqtt_client_connect,"ax",%progbits
 3186              		.align	1
 3187              		.global	mqtt_client_connect
 3188              		.syntax unified
 3189              		.thumb
 3190              		.thumb_func
 3191              		.fpu fpv5-sp-d16
 3193              	mqtt_client_connect:
 3194              	.LFB189:
1187:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1188:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1189:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
1190:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @ingroup mqtt
1191:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Connect to MQTT server
1192:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param client MQTT client
1193:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param ip_addr Server IP
1194:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param port Server port
1195:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param cb Connection state change callback
1196:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param arg User supplied argument to connection callback
1197:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param client_info Client identification and connection options
1198:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return ERR_OK if successful, @see err_t enum for other results
1199:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 83


1200:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** err_t
1201:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_client_connect(mqtt_client_t *client, const ip_addr_t *ip_addr, u16_t port, mqtt_connection_cb
1202:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****                     const struct mqtt_connect_client_info_t *client_info)
1203:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 3195              		.loc 1 1203 0
 3196              		.cfi_startproc
 3197              		@ args = 8, pretend = 0, frame = 16
 3198              		@ frame_needed = 0, uses_anonymous_args = 0
 3199              	.LVL439:
 3200 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3201              	.LCFI47:
 3202              		.cfi_def_cfa_offset 36
 3203              		.cfi_offset 4, -36
 3204              		.cfi_offset 5, -32
 3205              		.cfi_offset 6, -28
 3206              		.cfi_offset 7, -24
 3207              		.cfi_offset 8, -20
 3208              		.cfi_offset 9, -16
 3209              		.cfi_offset 10, -12
 3210              		.cfi_offset 11, -8
 3211              		.cfi_offset 14, -4
 3212 0004 87B0     		sub	sp, sp, #28
 3213              	.LCFI48:
 3214              		.cfi_def_cfa_offset 64
 3215 0006 0291     		str	r1, [sp, #8]
 3216 0008 0492     		str	r2, [sp, #16]
 3217 000a 1C46     		mov	r4, r3
 3218 000c 119E     		ldr	r6, [sp, #68]
 3219              	.LVL440:
1204:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   err_t err;
1205:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   size_t len;
1206:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t client_id_length;
1207:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Length is the sum of 2+"MQTT", protocol level, flags and keep alive */
1208:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u16_t remaining_length = 2 + 4 + 1 + 1 + 2;
1209:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t flags = 0, will_topic_len = 0, will_msg_len = 0;
1210:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1211:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_client_connect: client != NULL", client != NULL);
 3220              		.loc 1 1211 0
 3221 000e 0546     		mov	r5, r0
 3222 0010 0028     		cmp	r0, #0
 3223 0012 00F08180 		beq	.L319
 3224              	.LVL441:
 3225              	.L299:
1212:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_client_connect: ip_addr != NULL", ip_addr != NULL);
 3226              		.loc 1 1212 0
 3227 0016 029B     		ldr	r3, [sp, #8]
 3228 0018 002B     		cmp	r3, #0
 3229 001a 00F08580 		beq	.L320
 3230              	.L300:
1213:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_client_connect: client_info != NULL", client_info != NULL);
 3231              		.loc 1 1213 0
 3232 001e 002E     		cmp	r6, #0
 3233 0020 00F08A80 		beq	.L321
 3234              	.L301:
1214:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_client_connect: client_info->client_id != NULL", client_info->client_id != NULL
 3235              		.loc 1 1214 0
 3236 0024 3368     		ldr	r3, [r6]
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 84


 3237 0026 002B     		cmp	r3, #0
 3238 0028 00F08E80 		beq	.L322
 3239              	.L302:
1215:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1216:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client->conn_state != TCP_DISCONNECTED) {
 3240              		.loc 1 1216 0
 3241 002c AF7A     		ldrb	r7, [r5, #10]	@ zero_extendqisi2
 3242 002e 002F     		cmp	r7, #0
 3243 0030 40F00581 		bne	.L313
1217:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_client_connect: Already connected\n"));
1218:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return ERR_ISCONN;
1219:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1220:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1221:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Wipe clean */
1222:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   memset(client, 0, sizeof(mqtt_client_t));
 3244              		.loc 1 1222 0
 3245 0034 4FF4F872 		mov	r2, #496
 3246 0038 0021     		movs	r1, #0
 3247 003a 2846     		mov	r0, r5
 3248 003c FFF7FEFF 		bl	memset
 3249              	.LVL442:
1223:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->connect_arg = arg;
 3250              		.loc 1 1223 0
 3251 0040 109B     		ldr	r3, [sp, #64]
 3252 0042 2B61     		str	r3, [r5, #16]
1224:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->connect_cb = cb;
 3253              		.loc 1 1224 0
 3254 0044 6C61     		str	r4, [r5, #20]
1225:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->keep_alive = client_info->keep_alive;
 3255              		.loc 1 1225 0
 3256 0046 B389     		ldrh	r3, [r6, #12]
 3257 0048 6B80     		strh	r3, [r5, #2]	@ movhi
1226:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_init_requests(client->req_list);
 3258              		.loc 1 1226 0
 3259 004a 05F11C00 		add	r0, r5, #28
 3260 004e FFF7FEFF 		bl	mqtt_init_requests
 3261              	.LVL443:
1227:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1228:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Build connect message */
1229:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client_info->will_topic != NULL && client_info->will_msg != NULL) {
 3262              		.loc 1 1229 0
 3263 0052 3069     		ldr	r0, [r6, #16]
 3264 0054 0028     		cmp	r0, #0
 3265 0056 00F0A080 		beq	.L314
 3266              		.loc 1 1229 0 is_stmt 0 discriminator 1
 3267 005a D6F81480 		ldr	r8, [r6, #20]
 3268 005e B8F1000F 		cmp	r8, #0
 3269 0062 00F09E80 		beq	.L315
 3270              	.LVL444:
1230:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     flags |= MQTT_CONNECT_FLAG_WILL;
1231:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     flags |= (client_info->will_qos & 3) << 3;
 3271              		.loc 1 1231 0 is_stmt 1
 3272 0066 377E     		ldrb	r7, [r6, #24]	@ zero_extendqisi2
 3273 0068 FF00     		lsls	r7, r7, #3
 3274 006a 07F01807 		and	r7, r7, #24
 3275 006e 47F00407 		orr	r7, r7, #4
 3276              	.LVL445:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 85


1232:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     if (client_info->will_retain) {
 3277              		.loc 1 1232 0
 3278 0072 737E     		ldrb	r3, [r6, #25]	@ zero_extendqisi2
 3279 0074 0BB1     		cbz	r3, .L305
1233:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****       flags |= MQTT_CONNECT_FLAG_WILL_RETAIN;
 3280              		.loc 1 1233 0
 3281 0076 47F02007 		orr	r7, r7, #32
 3282              	.LVL446:
 3283              	.L305:
1234:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     }
1235:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     len = strlen(client_info->will_topic);
 3284              		.loc 1 1235 0
 3285 007a FFF7FEFF 		bl	strlen
 3286              	.LVL447:
 3287 007e 0446     		mov	r4, r0
 3288              	.LVL448:
1236:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_ERROR("mqtt_client_connect: client_info->will_topic length overflow", len <= 0xFF, return 
 3289              		.loc 1 1236 0
 3290 0080 FF28     		cmp	r0, #255
 3291 0082 69D8     		bhi	.L323
1237:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_ERROR("mqtt_client_connect: client_info->will_topic length must be > 0", len > 0, return E
 3292              		.loc 1 1237 0
 3293 0084 0028     		cmp	r0, #0
 3294 0086 72D0     		beq	.L324
1238:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     will_topic_len = (u8_t)len;
 3295              		.loc 1 1238 0
 3296 0088 C3B2     		uxtb	r3, r0
 3297 008a 0593     		str	r3, [sp, #20]
 3298              	.LVL449:
1239:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     len = strlen(client_info->will_msg);
 3299              		.loc 1 1239 0
 3300 008c 4046     		mov	r0, r8
 3301              	.LVL450:
 3302 008e FFF7FEFF 		bl	strlen
 3303              	.LVL451:
1240:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_ERROR("mqtt_client_connect: client_info->will_msg length overflow", len <= 0xFF, return ER
 3304              		.loc 1 1240 0
 3305 0092 FF28     		cmp	r0, #255
 3306 0094 76D8     		bhi	.L325
1241:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     will_msg_len = (u8_t)len;
 3307              		.loc 1 1241 0
 3308 0096 5FFA80FB 		uxtb	fp, r0
 3309              	.LVL452:
1242:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     len = remaining_length + 2 + will_topic_len + 2 + will_msg_len;
 3310              		.loc 1 1242 0
 3311 009a E4B2     		uxtb	r4, r4
 3312 009c 0E34     		adds	r4, r4, #14
 3313 009e 5C44     		add	r4, r4, fp
 3314              	.LVL453:
1243:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_ERROR("mqtt_client_connect: remaining_length overflow", len <= 0xFFFF, return ERR_VAL);
1244:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     remaining_length = (u16_t)len;
 3315              		.loc 1 1244 0
 3316 00a0 A4B2     		uxth	r4, r4
 3317              	.LVL454:
 3318              	.L304:
1245:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1246:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 86


1247:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Don't complicate things, always connect using clean session */
1248:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   flags |= MQTT_CONNECT_FLAG_CLEAN_SESSION;
 3319              		.loc 1 1248 0
 3320 00a2 47F0020A 		orr	r10, r7, #2
 3321              	.LVL455:
1249:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1250:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   len = strlen(client_info->client_id);
 3322              		.loc 1 1250 0
 3323 00a6 3068     		ldr	r0, [r6]
 3324 00a8 FFF7FEFF 		bl	strlen
 3325              	.LVL456:
1251:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ERROR("mqtt_client_connect: client_info->client_id length overflow", len <= 0xFFFF, return E
 3326              		.loc 1 1251 0
 3327 00ac B0F5803F 		cmp	r0, #65536
 3328 00b0 7BD2     		bcs	.L326
1252:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client_id_length = (u16_t)len;
 3329              		.loc 1 1252 0
 3330 00b2 1FFA80F8 		uxth	r8, r0
 3331              	.LVL457:
1253:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   len = remaining_length + 2 + client_id_length;
 3332              		.loc 1 1253 0
 3333 00b6 0234     		adds	r4, r4, #2
 3334              	.LVL458:
 3335 00b8 4444     		add	r4, r4, r8
 3336              	.LVL459:
1254:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ERROR("mqtt_client_connect: remaining_length overflow", len <= 0xFFFF, return ERR_VAL);
 3337              		.loc 1 1254 0
 3338 00ba B4F5803F 		cmp	r4, #65536
 3339 00be 7FD2     		bcs	.L327
1255:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   remaining_length = (u16_t)len;
 3340              		.loc 1 1255 0
 3341 00c0 A4B2     		uxth	r4, r4
 3342              	.LVL460:
1256:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1257:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (mqtt_output_check_space(&client->output, remaining_length) == 0) {
 3343              		.loc 1 1257 0
 3344 00c2 05F1EC09 		add	r9, r5, #236
 3345 00c6 2146     		mov	r1, r4
 3346 00c8 4846     		mov	r0, r9
 3347 00ca FFF7FEFF 		bl	mqtt_output_check_space
 3348              	.LVL461:
 3349 00ce 0028     		cmp	r0, #0
 3350 00d0 00F0B980 		beq	.L316
1258:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return ERR_MEM;
1259:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1260:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1261:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->conn = tcp_new();
 3351              		.loc 1 1261 0
 3352 00d4 FFF7FEFF 		bl	tcp_new
 3353              	.LVL462:
 3354 00d8 E860     		str	r0, [r5, #12]
1262:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client->conn == NULL) {
 3355              		.loc 1 1262 0
 3356 00da 0028     		cmp	r0, #0
 3357 00dc 00F0B780 		beq	.L317
1263:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     return ERR_MEM;
1264:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 87


1265:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1266:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Set arg pointer for callbacks */
1267:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   tcp_arg(client->conn, client);
 3358              		.loc 1 1267 0
 3359 00e0 2946     		mov	r1, r5
 3360 00e2 FFF7FEFF 		bl	tcp_arg
 3361              	.LVL463:
1268:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Any local address, pick random local port number */
1269:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   err = tcp_bind(client->conn, IP_ADDR_ANY, 0);
 3362              		.loc 1 1269 0
 3363 00e6 0022     		movs	r2, #0
 3364 00e8 5B49     		ldr	r1, .L329
 3365 00ea E868     		ldr	r0, [r5, #12]
 3366 00ec FFF7FEFF 		bl	tcp_bind
 3367              	.LVL464:
1270:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (err != ERR_OK) {
 3368              		.loc 1 1270 0
 3369 00f0 0390     		str	r0, [sp, #12]
 3370 00f2 40B9     		cbnz	r0, .L312
1271:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_DEBUGF(MQTT_DEBUG_WARN,("mqtt_client_connect: Error binding to local ip/port, %d\n", err))
1272:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     goto tcp_fail;
1273:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1274:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_client_connect: Connecting to host: %s at port:%"U16_F"\n", i
1275:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1276:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Connect to server */
1277:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   err = tcp_connect(client->conn, ip_addr, port, mqtt_tcp_connect_cb);
 3371              		.loc 1 1277 0
 3372 00f4 594B     		ldr	r3, .L329+4
 3373 00f6 049A     		ldr	r2, [sp, #16]
 3374 00f8 0299     		ldr	r1, [sp, #8]
 3375 00fa E868     		ldr	r0, [r5, #12]
 3376              	.LVL465:
 3377 00fc FFF7FEFF 		bl	tcp_connect
 3378              	.LVL466:
1278:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (err != ERR_OK) {
 3379              		.loc 1 1278 0
 3380 0100 0390     		str	r0, [sp, #12]
 3381 0102 0028     		cmp	r0, #0
 3382 0104 67D0     		beq	.L328
 3383              	.L312:
 3384              	.LVL467:
1279:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_DEBUGF(MQTT_DEBUG_TRACE,("mqtt_client_connect: Error connecting to remote ip/port, %d\n", 
1280:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     goto tcp_fail;
1281:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1282:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Set error callback */
1283:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   tcp_err(client->conn, mqtt_tcp_err_cb);
1284:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->conn_state = TCP_CONNECTING;
1285:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1286:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append fixed header */
1287:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_append_fixed_header(&client->output, MQTT_MSG_TYPE_CONNECT, 0, 0, 0, remaining_length
1288:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append Protocol string */
1289:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_append_string(&client->output, "MQTT", 4);
1290:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append Protocol level */
1291:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_append_u8(&client->output, 4);
1292:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append connect flags */
1293:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_append_u8(&client->output, flags);
1294:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append keep-alive */
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 88


1295:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_append_u16(&client->output, client_info->keep_alive);
1296:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append client id */
1297:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   mqtt_output_append_string(&client->output, client_info->client_id, client_id_length);
1298:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append will message if used */
1299:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if ((flags & MQTT_CONNECT_FLAG_WILL) != 0) {
1300:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_append_string(&client->output, client_info->will_topic, will_topic_len);
1301:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_append_string(&client->output, client_info->will_msg, will_msg_len);
1302:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1303:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return ERR_OK;
1304:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1305:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** tcp_fail:
1306:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   tcp_abort(client->conn);
 3385              		.loc 1 1306 0
 3386 0106 E868     		ldr	r0, [r5, #12]
 3387 0108 FFF7FEFF 		bl	tcp_abort
 3388              	.LVL468:
1307:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->conn = NULL;
 3389              		.loc 1 1307 0
 3390 010c 0023     		movs	r3, #0
 3391 010e EB60     		str	r3, [r5, #12]
 3392              	.LVL469:
 3393              	.L303:
1308:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return err;
1309:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 3394              		.loc 1 1309 0
 3395 0110 0398     		ldr	r0, [sp, #12]
 3396 0112 07B0     		add	sp, sp, #28
 3397              	.LCFI49:
 3398              		.cfi_remember_state
 3399              		.cfi_def_cfa_offset 36
 3400              		@ sp needed
 3401 0114 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3402              	.LVL470:
 3403              	.L319:
 3404              	.LCFI50:
 3405              		.cfi_restore_state
1211:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_client_connect: ip_addr != NULL", ip_addr != NULL);
 3406              		.loc 1 1211 0 discriminator 1
 3407 0118 514B     		ldr	r3, .L329+8
 3408              	.LVL471:
 3409 011a 40F2BB42 		movw	r2, #1211
 3410              	.LVL472:
 3411 011e 5149     		ldr	r1, .L329+12
 3412              	.LVL473:
 3413 0120 5148     		ldr	r0, .L329+16
 3414              	.LVL474:
 3415 0122 FFF7FEFF 		bl	printf
 3416              	.LVL475:
 3417 0126 76E7     		b	.L299
 3418              	.L320:
1212:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_client_connect: client_info != NULL", client_info != NULL);
 3419              		.loc 1 1212 0 discriminator 1
 3420 0128 4D4B     		ldr	r3, .L329+8
 3421 012a 40F2BC42 		movw	r2, #1212
 3422 012e 4F49     		ldr	r1, .L329+20
 3423 0130 4D48     		ldr	r0, .L329+16
 3424 0132 FFF7FEFF 		bl	printf
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 89


 3425              	.LVL476:
 3426 0136 72E7     		b	.L300
 3427              	.L321:
1213:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_client_connect: client_info->client_id != NULL", client_info->client_id != NULL
 3428              		.loc 1 1213 0 discriminator 1
 3429 0138 494B     		ldr	r3, .L329+8
 3430 013a 40F2BD42 		movw	r2, #1213
 3431 013e 4C49     		ldr	r1, .L329+24
 3432 0140 4948     		ldr	r0, .L329+16
 3433 0142 FFF7FEFF 		bl	printf
 3434              	.LVL477:
 3435 0146 6DE7     		b	.L301
 3436              	.L322:
1214:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 3437              		.loc 1 1214 0 discriminator 1
 3438 0148 454B     		ldr	r3, .L329+8
 3439 014a 40F2BE42 		movw	r2, #1214
 3440 014e 4949     		ldr	r1, .L329+28
 3441 0150 4548     		ldr	r0, .L329+16
 3442 0152 FFF7FEFF 		bl	printf
 3443              	.LVL478:
 3444 0156 69E7     		b	.L302
 3445              	.LVL479:
 3446              	.L323:
1236:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     LWIP_ERROR("mqtt_client_connect: client_info->will_topic length must be > 0", len > 0, return E
 3447              		.loc 1 1236 0 discriminator 1
 3448 0158 414B     		ldr	r3, .L329+8
 3449 015a 40F2D442 		movw	r2, #1236
 3450 015e 4649     		ldr	r1, .L329+32
 3451 0160 4148     		ldr	r0, .L329+16
 3452              	.LVL480:
 3453 0162 FFF7FEFF 		bl	printf
 3454              	.LVL481:
 3455 0166 6FF00503 		mvn	r3, #5
 3456 016a 0393     		str	r3, [sp, #12]
 3457 016c D0E7     		b	.L303
 3458              	.LVL482:
 3459              	.L324:
1237:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     will_topic_len = (u8_t)len;
 3460              		.loc 1 1237 0 discriminator 1
 3461 016e 3C4B     		ldr	r3, .L329+8
 3462 0170 40F2D542 		movw	r2, #1237
 3463 0174 4149     		ldr	r1, .L329+36
 3464 0176 3C48     		ldr	r0, .L329+16
 3465              	.LVL483:
 3466 0178 FFF7FEFF 		bl	printf
 3467              	.LVL484:
 3468 017c 6FF00503 		mvn	r3, #5
 3469 0180 0393     		str	r3, [sp, #12]
 3470 0182 C5E7     		b	.L303
 3471              	.LVL485:
 3472              	.L325:
1240:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     will_msg_len = (u8_t)len;
 3473              		.loc 1 1240 0 discriminator 1
 3474 0184 364B     		ldr	r3, .L329+8
 3475 0186 4FF49B62 		mov	r2, #1240
 3476 018a 3D49     		ldr	r1, .L329+40
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 90


 3477 018c 3648     		ldr	r0, .L329+16
 3478              	.LVL486:
 3479 018e FFF7FEFF 		bl	printf
 3480              	.LVL487:
 3481 0192 6FF00503 		mvn	r3, #5
 3482 0196 0393     		str	r3, [sp, #12]
 3483 0198 BAE7     		b	.L303
 3484              	.LVL488:
 3485              	.L314:
1209:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 3486              		.loc 1 1209 0
 3487 019a BB46     		mov	fp, r7
 3488 019c 0597     		str	r7, [sp, #20]
1208:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t flags = 0, will_topic_len = 0, will_msg_len = 0;
 3489              		.loc 1 1208 0
 3490 019e 0A24     		movs	r4, #10
 3491              	.LVL489:
 3492 01a0 7FE7     		b	.L304
 3493              	.LVL490:
 3494              	.L315:
1209:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 3495              		.loc 1 1209 0
 3496 01a2 BB46     		mov	fp, r7
 3497 01a4 0597     		str	r7, [sp, #20]
1208:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   u8_t flags = 0, will_topic_len = 0, will_msg_len = 0;
 3498              		.loc 1 1208 0
 3499 01a6 0A24     		movs	r4, #10
 3500              	.LVL491:
 3501 01a8 7BE7     		b	.L304
 3502              	.LVL492:
 3503              	.L326:
1251:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client_id_length = (u16_t)len;
 3504              		.loc 1 1251 0 discriminator 1
 3505 01aa 2D4B     		ldr	r3, .L329+8
 3506 01ac 40F2E342 		movw	r2, #1251
 3507 01b0 3449     		ldr	r1, .L329+44
 3508 01b2 2D48     		ldr	r0, .L329+16
 3509              	.LVL493:
 3510 01b4 FFF7FEFF 		bl	printf
 3511              	.LVL494:
 3512 01b8 6FF00503 		mvn	r3, #5
 3513 01bc 0393     		str	r3, [sp, #12]
 3514 01be A7E7     		b	.L303
 3515              	.LVL495:
 3516              	.L327:
1254:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   remaining_length = (u16_t)len;
 3517              		.loc 1 1254 0 discriminator 1
 3518 01c0 274B     		ldr	r3, .L329+8
 3519 01c2 40F2E642 		movw	r2, #1254
 3520 01c6 3049     		ldr	r1, .L329+48
 3521 01c8 2748     		ldr	r0, .L329+16
 3522 01ca FFF7FEFF 		bl	printf
 3523              	.LVL496:
 3524 01ce 6FF00503 		mvn	r3, #5
 3525 01d2 0393     		str	r3, [sp, #12]
 3526 01d4 9CE7     		b	.L303
 3527              	.LVL497:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 91


 3528              	.L328:
1283:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   client->conn_state = TCP_CONNECTING;
 3529              		.loc 1 1283 0
 3530 01d6 2D49     		ldr	r1, .L329+52
 3531 01d8 E868     		ldr	r0, [r5, #12]
 3532              	.LVL498:
 3533 01da FFF7FEFF 		bl	tcp_err
 3534              	.LVL499:
1284:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
 3535              		.loc 1 1284 0
 3536 01de 0121     		movs	r1, #1
 3537 01e0 A972     		strb	r1, [r5, #10]
1287:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append Protocol string */
 3538              		.loc 1 1287 0
 3539 01e2 0194     		str	r4, [sp, #4]
 3540 01e4 0022     		movs	r2, #0
 3541 01e6 0092     		str	r2, [sp]
 3542 01e8 1346     		mov	r3, r2
 3543 01ea 4846     		mov	r0, r9
 3544 01ec FFF7FEFF 		bl	mqtt_output_append_fixed_header
 3545              	.LVL500:
1289:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append Protocol level */
 3546              		.loc 1 1289 0
 3547 01f0 0422     		movs	r2, #4
 3548 01f2 2749     		ldr	r1, .L329+56
 3549 01f4 4846     		mov	r0, r9
 3550 01f6 FFF7FEFF 		bl	mqtt_output_append_string
 3551              	.LVL501:
1291:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append connect flags */
 3552              		.loc 1 1291 0
 3553 01fa 0421     		movs	r1, #4
 3554 01fc 4846     		mov	r0, r9
 3555 01fe FFF7FEFF 		bl	mqtt_output_append_u8
 3556              	.LVL502:
1293:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append keep-alive */
 3557              		.loc 1 1293 0
 3558 0202 5146     		mov	r1, r10
 3559 0204 4846     		mov	r0, r9
 3560 0206 FFF7FEFF 		bl	mqtt_output_append_u8
 3561              	.LVL503:
1295:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append client id */
 3562              		.loc 1 1295 0
 3563 020a B189     		ldrh	r1, [r6, #12]
 3564 020c 4846     		mov	r0, r9
 3565 020e FFF7FEFF 		bl	mqtt_output_append_u16
 3566              	.LVL504:
1297:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* Append will message if used */
 3567              		.loc 1 1297 0
 3568 0212 4246     		mov	r2, r8
 3569 0214 3168     		ldr	r1, [r6]
 3570 0216 4846     		mov	r0, r9
 3571 0218 FFF7FEFF 		bl	mqtt_output_append_string
 3572              	.LVL505:
1299:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_append_string(&client->output, client_info->will_topic, will_topic_len);
 3573              		.loc 1 1299 0
 3574 021c 17F0040F 		tst	r7, #4
 3575 0220 3FF476AF 		beq	.L303
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 92


1300:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_output_append_string(&client->output, client_info->will_msg, will_msg_len);
 3576              		.loc 1 1300 0
 3577 0224 BDF81420 		ldrh	r2, [sp, #20]
 3578 0228 3169     		ldr	r1, [r6, #16]
 3579 022a 4846     		mov	r0, r9
 3580 022c FFF7FEFF 		bl	mqtt_output_append_string
 3581              	.LVL506:
1301:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 3582              		.loc 1 1301 0
 3583 0230 1FFA8BF2 		uxth	r2, fp
 3584 0234 7169     		ldr	r1, [r6, #20]
 3585 0236 4846     		mov	r0, r9
 3586 0238 FFF7FEFF 		bl	mqtt_output_append_string
 3587              	.LVL507:
 3588 023c 68E7     		b	.L303
 3589              	.LVL508:
 3590              	.L313:
1218:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 3591              		.loc 1 1218 0
 3592 023e 6FF00903 		mvn	r3, #9
 3593 0242 0393     		str	r3, [sp, #12]
 3594 0244 64E7     		b	.L303
 3595              	.LVL509:
 3596              	.L316:
1258:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 3597              		.loc 1 1258 0
 3598 0246 4FF0FF33 		mov	r3, #-1
 3599 024a 0393     		str	r3, [sp, #12]
 3600 024c 60E7     		b	.L303
 3601              	.L317:
1263:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 3602              		.loc 1 1263 0
 3603 024e 4FF0FF33 		mov	r3, #-1
 3604 0252 0393     		str	r3, [sp, #12]
 3605 0254 5CE7     		b	.L303
 3606              	.L330:
 3607 0256 00BF     		.align	2
 3608              	.L329:
 3609 0258 00000000 		.word	ip_addr_any
 3610 025c 00000000 		.word	mqtt_tcp_connect_cb
 3611 0260 00000000 		.word	.LC0
 3612 0264 00000000 		.word	.LC27
 3613 0268 58000000 		.word	.LC2
 3614 026c 24000000 		.word	.LC28
 3615 0270 4C000000 		.word	.LC29
 3616 0274 78000000 		.word	.LC30
 3617 0278 AC000000 		.word	.LC31
 3618 027c EC000000 		.word	.LC32
 3619 0280 2C010000 		.word	.LC33
 3620 0284 98010000 		.word	.LC35
 3621 0288 68010000 		.word	.LC34
 3622 028c 00000000 		.word	mqtt_tcp_err_cb
 3623 0290 D4010000 		.word	.LC36
 3624              		.cfi_endproc
 3625              	.LFE189:
 3627              		.section	.text.mqtt_disconnect,"ax",%progbits
 3628              		.align	1
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 93


 3629              		.global	mqtt_disconnect
 3630              		.syntax unified
 3631              		.thumb
 3632              		.thumb_func
 3633              		.fpu fpv5-sp-d16
 3635              	mqtt_disconnect:
 3636              	.LFB190:
1310:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1311:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1312:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
1313:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @ingroup mqtt
1314:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Disconnect from MQTT server
1315:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param client MQTT client
1316:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
1317:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** void
1318:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_disconnect(mqtt_client_t *client)
1319:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 3637              		.loc 1 1319 0
 3638              		.cfi_startproc
 3639              		@ args = 0, pretend = 0, frame = 0
 3640              		@ frame_needed = 0, uses_anonymous_args = 0
 3641              	.LVL510:
 3642 0000 10B5     		push	{r4, lr}
 3643              	.LCFI51:
 3644              		.cfi_def_cfa_offset 8
 3645              		.cfi_offset 4, -8
 3646              		.cfi_offset 14, -4
1320:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_disconnect: client != NULL", client);
 3647              		.loc 1 1320 0
 3648 0002 0446     		mov	r4, r0
 3649 0004 10B1     		cbz	r0, .L335
 3650              	.LVL511:
 3651              	.L332:
1321:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* If connection in not already closed */
1322:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   if (client->conn_state != TCP_DISCONNECTED) {
 3652              		.loc 1 1322 0
 3653 0006 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 3654 0008 43B9     		cbnz	r3, .L336
 3655              	.L331:
1323:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     /* Set conn_state before calling mqtt_close to prevent callback from being called */
1324:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     client->conn_state = TCP_DISCONNECTED;
1325:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_close(client, (mqtt_connection_status_t)0);
1326:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
1327:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 3656              		.loc 1 1327 0
 3657 000a 10BD     		pop	{r4, pc}
 3658              	.LVL512:
 3659              	.L335:
1320:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   /* If connection in not already closed */
 3660              		.loc 1 1320 0 discriminator 1
 3661 000c 064B     		ldr	r3, .L337
 3662 000e 4FF4A562 		mov	r2, #1320
 3663 0012 0649     		ldr	r1, .L337+4
 3664 0014 0648     		ldr	r0, .L337+8
 3665              	.LVL513:
 3666 0016 FFF7FEFF 		bl	printf
 3667              	.LVL514:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 94


 3668 001a F4E7     		b	.L332
 3669              	.L336:
1324:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****     mqtt_close(client, (mqtt_connection_status_t)0);
 3670              		.loc 1 1324 0
 3671 001c 0021     		movs	r1, #0
 3672 001e A172     		strb	r1, [r4, #10]
1325:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   }
 3673              		.loc 1 1325 0
 3674 0020 2046     		mov	r0, r4
 3675 0022 FFF7FEFF 		bl	mqtt_close
 3676              	.LVL515:
 3677              		.loc 1 1327 0
 3678 0026 F0E7     		b	.L331
 3679              	.L338:
 3680              		.align	2
 3681              	.L337:
 3682 0028 00000000 		.word	.LC0
 3683 002c 00000000 		.word	.LC37
 3684 0030 58000000 		.word	.LC2
 3685              		.cfi_endproc
 3686              	.LFE190:
 3688              		.section	.text.mqtt_client_is_connected,"ax",%progbits
 3689              		.align	1
 3690              		.global	mqtt_client_is_connected
 3691              		.syntax unified
 3692              		.thumb
 3693              		.thumb_func
 3694              		.fpu fpv5-sp-d16
 3696              	mqtt_client_is_connected:
 3697              	.LFB191:
1328:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** 
1329:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** /**
1330:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @ingroup mqtt
1331:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * Check connection with server
1332:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @param client MQTT client
1333:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  * @return 1 if connected to server, 0 otherwise
1334:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****  */
1335:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** u8_t
1336:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** mqtt_client_is_connected(mqtt_client_t *client)
1337:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** {
 3698              		.loc 1 1337 0
 3699              		.cfi_startproc
 3700              		@ args = 0, pretend = 0, frame = 0
 3701              		@ frame_needed = 0, uses_anonymous_args = 0
 3702              	.LVL516:
 3703 0000 10B5     		push	{r4, lr}
 3704              	.LCFI52:
 3705              		.cfi_def_cfa_offset 8
 3706              		.cfi_offset 4, -8
 3707              		.cfi_offset 14, -4
1338:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_client_is_connected: client != NULL", client);
 3708              		.loc 1 1338 0
 3709 0002 0446     		mov	r4, r0
 3710 0004 28B1     		cbz	r0, .L342
 3711              	.LVL517:
 3712              	.L340:
1339:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   return client->conn_state == MQTT_CONNECTED;
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 95


 3713              		.loc 1 1339 0
 3714 0006 A07A     		ldrb	r0, [r4, #10]	@ zero_extendqisi2
1340:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c **** }
 3715              		.loc 1 1340 0
 3716 0008 0328     		cmp	r0, #3
 3717 000a 14BF     		ite	ne
 3718 000c 0020     		movne	r0, #0
 3719 000e 0120     		moveq	r0, #1
 3720 0010 10BD     		pop	{r4, pc}
 3721              	.LVL518:
 3722              	.L342:
1338:Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c ****   LWIP_ASSERT("mqtt_client_is_connected: client != NULL", client);
 3723              		.loc 1 1338 0 discriminator 1
 3724 0012 044B     		ldr	r3, .L343
 3725 0014 40F23A52 		movw	r2, #1338
 3726 0018 0349     		ldr	r1, .L343+4
 3727 001a 0448     		ldr	r0, .L343+8
 3728              	.LVL519:
 3729 001c FFF7FEFF 		bl	printf
 3730              	.LVL520:
 3731 0020 F1E7     		b	.L340
 3732              	.L344:
 3733 0022 00BF     		.align	2
 3734              	.L343:
 3735 0024 00000000 		.word	.LC0
 3736 0028 00000000 		.word	.LC38
 3737 002c 58000000 		.word	.LC2
 3738              		.cfi_endproc
 3739              	.LFE191:
 3741              		.section	.rodata.mqtt_append_request.str1.4,"aMS",%progbits,1
 3742              		.align	2
 3743              	.LC4:
 3744 0000 6D717474 		.ascii	"mqtt_append_request: tail != NULL\000"
 3744      5F617070 
 3744      656E645F 
 3744      72657175 
 3744      6573743A 
 3745 0022 0000     		.space	2
 3746              	.LC5:
 3747 0024 6D717474 		.ascii	"mqtt_append_request: time_before <= MQTT_REQ_TIMEOU"
 3747      5F617070 
 3747      656E645F 
 3747      72657175 
 3747      6573743A 
 3748 0057 5400     		.ascii	"T\000"
 3749              		.section	.rodata.mqtt_clear_requests.str1.4,"aMS",%progbits,1
 3750              		.align	2
 3751              	.LC7:
 3752 0000 6D717474 		.ascii	"mqtt_clear_requests: tail != NULL\000"
 3752      5F636C65 
 3752      61725F72 
 3752      65717565 
 3752      7374733A 
 3753              		.section	.rodata.mqtt_client_connect.str1.4,"aMS",%progbits,1
 3754              		.align	2
 3755              	.LC27:
 3756 0000 6D717474 		.ascii	"mqtt_client_connect: client != NULL\000"
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 96


 3756      5F636C69 
 3756      656E745F 
 3756      636F6E6E 
 3756      6563743A 
 3757              	.LC28:
 3758 0024 6D717474 		.ascii	"mqtt_client_connect: ip_addr != NULL\000"
 3758      5F636C69 
 3758      656E745F 
 3758      636F6E6E 
 3758      6563743A 
 3759 0049 000000   		.space	3
 3760              	.LC29:
 3761 004c 6D717474 		.ascii	"mqtt_client_connect: client_info != NULL\000"
 3761      5F636C69 
 3761      656E745F 
 3761      636F6E6E 
 3761      6563743A 
 3762 0075 000000   		.space	3
 3763              	.LC30:
 3764 0078 6D717474 		.ascii	"mqtt_client_connect: client_info->client_id != NULL"
 3764      5F636C69 
 3764      656E745F 
 3764      636F6E6E 
 3764      6563743A 
 3765 00ab 00       		.ascii	"\000"
 3766              	.LC31:
 3767 00ac 6D717474 		.ascii	"mqtt_client_connect: client_info->will_topic length"
 3767      5F636C69 
 3767      656E745F 
 3767      636F6E6E 
 3767      6563743A 
 3768 00df 206F7665 		.ascii	" overflow\000"
 3768      72666C6F 
 3768      7700
 3769 00e9 000000   		.space	3
 3770              	.LC32:
 3771 00ec 6D717474 		.ascii	"mqtt_client_connect: client_info->will_topic length"
 3771      5F636C69 
 3771      656E745F 
 3771      636F6E6E 
 3771      6563743A 
 3772 011f 206D7573 		.ascii	" must be > 0\000"
 3772      74206265 
 3772      203E2030 
 3772      00
 3773              	.LC33:
 3774 012c 6D717474 		.ascii	"mqtt_client_connect: client_info->will_msg length o"
 3774      5F636C69 
 3774      656E745F 
 3774      636F6E6E 
 3774      6563743A 
 3775 015f 76657266 		.ascii	"verflow\000"
 3775      6C6F7700 
 3776 0167 00       		.space	1
 3777              	.LC34:
 3778 0168 6D717474 		.ascii	"mqtt_client_connect: remaining_length overflow\000"
 3778      5F636C69 
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 97


 3778      656E745F 
 3778      636F6E6E 
 3778      6563743A 
 3779 0197 00       		.space	1
 3780              	.LC35:
 3781 0198 6D717474 		.ascii	"mqtt_client_connect: client_info->client_id length "
 3781      5F636C69 
 3781      656E745F 
 3781      636F6E6E 
 3781      6563743A 
 3782 01cb 6F766572 		.ascii	"overflow\000"
 3782      666C6F77 
 3782      00
 3783              	.LC36:
 3784 01d4 4D515454 		.ascii	"MQTT\000"
 3784      00
 3785              		.section	.rodata.mqtt_client_is_connected.str1.4,"aMS",%progbits,1
 3786              		.align	2
 3787              	.LC38:
 3788 0000 6D717474 		.ascii	"mqtt_client_is_connected: client != NULL\000"
 3788      5F636C69 
 3788      656E745F 
 3788      69735F63 
 3788      6F6E6E65 
 3789              		.section	.rodata.mqtt_close.str1.4,"aMS",%progbits,1
 3790              		.align	2
 3791              	.LC11:
 3792 0000 6D717474 		.ascii	"mqtt_close: client != NULL\000"
 3792      5F636C6F 
 3792      73653A20 
 3792      636C6965 
 3792      6E742021 
 3793              		.section	.rodata.mqtt_create_request.str1.4,"aMS",%progbits,1
 3794              		.align	2
 3795              	.LC0:
 3796 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/apps/mqtt/mqtt.c\000"
 3796      6C657761 
 3796      7265732F 
 3796      54686972 
 3796      645F5061 
 3797 0032 0000     		.space	2
 3798              	.LC1:
 3799 0034 6D717474 		.ascii	"mqtt_create_request: r_objs != NULL\000"
 3799      5F637265 
 3799      6174655F 
 3799      72657175 
 3799      6573743A 
 3800              	.LC2:
 3801 0058 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 3801      7274696F 
 3801      6E202225 
 3801      73222066 
 3801      61696C65 
 3802              		.section	.rodata.mqtt_cyclic_timer.str1.4,"aMS",%progbits,1
 3803              		.align	2
 3804              	.LC13:
 3805 0000 6D717474 		.ascii	"mqtt_cyclic_timer: client != NULL\000"
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 98


 3805      5F637963 
 3805      6C69635F 
 3805      74696D65 
 3805      723A2063 
 3806              		.section	.rodata.mqtt_disconnect.str1.4,"aMS",%progbits,1
 3807              		.align	2
 3808              	.LC37:
 3809 0000 6D717474 		.ascii	"mqtt_disconnect: client != NULL\000"
 3809      5F646973 
 3809      636F6E6E 
 3809      6563743A 
 3809      20636C69 
 3810              		.section	.rodata.mqtt_init_requests.str1.4,"aMS",%progbits,1
 3811              		.align	2
 3812              	.LC9:
 3813 0000 6D717474 		.ascii	"mqtt_init_requests: r_objs != NULL\000"
 3813      5F696E69 
 3813      745F7265 
 3813      71756573 
 3813      74733A20 
 3814              		.section	.rodata.mqtt_output_check_space.str1.4,"aMS",%progbits,1
 3815              		.align	2
 3816              	.LC3:
 3817 0000 6D717474 		.ascii	"mqtt_output_check_space: rb != NULL\000"
 3817      5F6F7574 
 3817      7075745F 
 3817      63686563 
 3817      6B5F7370 
 3818              		.section	.rodata.mqtt_output_send.str1.4,"aMS",%progbits,1
 3819              		.align	2
 3820              	.LC10:
 3821 0000 6D717474 		.ascii	"mqtt_output_send: tpcb != NULL\000"
 3821      5F6F7574 
 3821      7075745F 
 3821      73656E64 
 3821      3A207470 
 3822              		.section	.rodata.mqtt_publish.str1.4,"aMS",%progbits,1
 3823              		.align	2
 3824              	.LC16:
 3825 0000 6D717474 		.ascii	"mqtt_publish: client != NULL\000"
 3825      5F707562 
 3825      6C697368 
 3825      3A20636C 
 3825      69656E74 
 3826 001d 000000   		.space	3
 3827              	.LC17:
 3828 0020 6D717474 		.ascii	"mqtt_publish: topic != NULL\000"
 3828      5F707562 
 3828      6C697368 
 3828      3A20746F 
 3828      70696320 
 3829              	.LC18:
 3830 003c 6D717474 		.ascii	"mqtt_publish: TCP disconnected\000"
 3830      5F707562 
 3830      6C697368 
 3830      3A205443 
 3830      50206469 
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 99


 3831 005b 00       		.space	1
 3832              	.LC19:
 3833 005c 6D717474 		.ascii	"mqtt_publish: topic length overflow\000"
 3833      5F707562 
 3833      6C697368 
 3833      3A20746F 
 3833      70696320 
 3834              	.LC20:
 3835 0080 6D717474 		.ascii	"mqtt_publish: total length overflow\000"
 3835      5F707562 
 3835      6C697368 
 3835      3A20746F 
 3835      74616C20 
 3836              		.section	.rodata.mqtt_request_time_elapsed.str1.4,"aMS",%progbits,1
 3837              		.align	2
 3838              	.LC6:
 3839 0000 6D717474 		.ascii	"mqtt_request_time_elapsed: tail != NULL\000"
 3839      5F726571 
 3839      75657374 
 3839      5F74696D 
 3839      655F656C 
 3840              		.section	.rodata.mqtt_set_inpub_callback.str1.4,"aMS",%progbits,1
 3841              		.align	2
 3842              	.LC26:
 3843 0000 6D717474 		.ascii	"mqtt_set_inpub_callback: client != NULL\000"
 3843      5F736574 
 3843      5F696E70 
 3843      75625F63 
 3843      616C6C62 
 3844              		.section	.rodata.mqtt_sub_unsub.str1.4,"aMS",%progbits,1
 3845              		.align	2
 3846              	.LC21:
 3847 0000 6D717474 		.ascii	"mqtt_sub_unsub: client != NULL\000"
 3847      5F737562 
 3847      5F756E73 
 3847      75623A20 
 3847      636C6965 
 3848 001f 00       		.space	1
 3849              	.LC22:
 3850 0020 6D717474 		.ascii	"mqtt_sub_unsub: topic != NULL\000"
 3850      5F737562 
 3850      5F756E73 
 3850      75623A20 
 3850      746F7069 
 3851 003e 0000     		.space	2
 3852              	.LC23:
 3853 0040 6D717474 		.ascii	"mqtt_sub_unsub: topic length overflow\000"
 3853      5F737562 
 3853      5F756E73 
 3853      75623A20 
 3853      746F7069 
 3854 0066 0000     		.space	2
 3855              	.LC24:
 3856 0068 6D717474 		.ascii	"mqtt_sub_unsub: total length overflow\000"
 3856      5F737562 
 3856      5F756E73 
 3856      75623A20 
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 100


 3856      746F7461 
 3857 008e 0000     		.space	2
 3858              	.LC25:
 3859 0090 6D717474 		.ascii	"mqtt_sub_unsub: qos < 3\000"
 3859      5F737562 
 3859      5F756E73 
 3859      75623A20 
 3859      716F7320 
 3860              		.section	.rodata.mqtt_take_request.str1.4,"aMS",%progbits,1
 3861              		.align	2
 3862              	.LC8:
 3863 0000 6D717474 		.ascii	"mqtt_take_request: tail != NULL\000"
 3863      5F74616B 
 3863      655F7265 
 3863      71756573 
 3863      743A2074 
 3864              		.section	.rodata.mqtt_tcp_err_cb.str1.4,"aMS",%progbits,1
 3865              		.align	2
 3866              	.LC12:
 3867 0000 6D717474 		.ascii	"mqtt_tcp_err_cb: client != NULL\000"
 3867      5F746370 
 3867      5F657272 
 3867      5F63623A 
 3867      20636C69 
 3868              		.section	.rodata.mqtt_tcp_recv_cb.str1.4,"aMS",%progbits,1
 3869              		.align	2
 3870              	.LC14:
 3871 0000 6D717474 		.ascii	"mqtt_tcp_recv_cb: client != NULL\000"
 3871      5F746370 
 3871      5F726563 
 3871      765F6362 
 3871      3A20636C 
 3872 0021 000000   		.space	3
 3873              	.LC15:
 3874 0024 6D717474 		.ascii	"mqtt_tcp_recv_cb: client->conn == pcb\000"
 3874      5F746370 
 3874      5F726563 
 3874      765F6362 
 3874      3A20636C 
 3875              		.text
 3876              	.Letext0:
 3877              		.file 2 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\machine\\_default
 3878              		.file 3 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 3879              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 3880              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 3881              		.file 6 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\lib\\gcc\\arm-none-eabi\\7.3.1\\include\\
 3882              		.file 7 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\lock.h"
 3883              		.file 8 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\_types.h"
 3884              		.file 9 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\reent.h"
 3885              		.file 10 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\stdlib.h"
 3886              		.file 11 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\time.h"
 3887              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 3888              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 3889              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 3890              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 3891              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/apps/mqtt.h"
 3892              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 101


 3893              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/timeouts.h"
 3894              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 3895              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 3896              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 3897              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 3898              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 3899              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 3900              		.file 25 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\stdio.h"
 3901              		.file 26 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\string.h"
 3902              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/mem.h"
 3903              		.file 28 "<built-in>"
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 102


DEFINED SYMBOLS
                            *ABS*:00000000 mqtt.c
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:18     .text.msg_generate_packet_id:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:24     .text.msg_generate_packet_id:00000000 msg_generate_packet_id
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:52     .text.mqtt_delete_request:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:58     .text.mqtt_delete_request:00000000 mqtt_delete_request
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:78     .text.mqtt_output_append_u8:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:84     .text.mqtt_output_append_u8:00000000 mqtt_output_append_u8
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:104    .text.mqtt_output_append_u16:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:110    .text.mqtt_output_append_u16:00000000 mqtt_output_append_u16
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:144    .text.mqtt_output_append_buf:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:150    .text.mqtt_output_append_buf:00000000 mqtt_output_append_buf
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:197    .text.mqtt_output_append_string:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:203    .text.mqtt_output_append_string:00000000 mqtt_output_append_string
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:261    .text.mqtt_output_append_fixed_header:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:267    .text.mqtt_output_append_fixed_header:00000000 mqtt_output_append_fixed_header
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:331    .text.mqtt_incomming_suback:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:337    .text.mqtt_incomming_suback:00000000 mqtt_incomming_suback
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:376    .text.mqtt_create_request:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:382    .text.mqtt_create_request:00000000 mqtt_create_request
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:466    .text.mqtt_create_request:00000044 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:473    .text.mqtt_output_check_space:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:479    .text.mqtt_output_check_space:00000000 mqtt_output_check_space
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:539    .text.mqtt_output_check_space:0000003c $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:546    .text.mqtt_append_request:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:552    .text.mqtt_append_request:00000000 mqtt_append_request
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:648    .text.mqtt_append_request:00000054 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:656    .text.mqtt_request_time_elapsed:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:662    .text.mqtt_request_time_elapsed:00000000 mqtt_request_time_elapsed
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:756    .text.mqtt_request_time_elapsed:00000060 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:763    .text.mqtt_clear_requests:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:769    .text.mqtt_clear_requests:00000000 mqtt_clear_requests
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:827    .text.mqtt_clear_requests:0000002c $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:834    .text.mqtt_take_request:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:840    .text.mqtt_take_request:00000000 mqtt_take_request
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:928    .text.mqtt_take_request:0000004c $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:935    .text.mqtt_init_requests:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:941    .text.mqtt_init_requests:00000000 mqtt_init_requests
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:993    .text.mqtt_init_requests:0000002c $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1000   .text.mqtt_output_send:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1006   .text.mqtt_output_send:00000000 mqtt_output_send
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1167   .text.mqtt_output_send:000000d8 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1174   .text.mqtt_tcp_poll_cb:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1180   .text.mqtt_tcp_poll_cb:00000000 mqtt_tcp_poll_cb
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1214   .text.mqtt_tcp_sent_cb:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1220   .text.mqtt_tcp_sent_cb:00000000 mqtt_tcp_sent_cb
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1294   .text.pub_ack_rec_rel_response:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1300   .text.pub_ack_rec_rel_response:00000000 pub_ack_rec_rel_response
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1377   .text.mqtt_message_received:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1383   .text.mqtt_message_received:00000000 mqtt_message_received
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1765   .text.mqtt_close:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1771   .text.mqtt_close:00000000 mqtt_close
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1873   .text.mqtt_close:0000006c $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1944   .text.mqtt_cyclic_timer:00000000 mqtt_cyclic_timer
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1882   .text.mqtt_tcp_err_cb:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1888   .text.mqtt_tcp_err_cb:00000000 mqtt_tcp_err_cb
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1931   .text.mqtt_tcp_err_cb:00000028 $d
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 103


C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:1938   .text.mqtt_cyclic_timer:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2100   .text.mqtt_cyclic_timer:000000c0 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2108   .text.mqtt_tcp_connect_cb:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2114   .text.mqtt_tcp_connect_cb:00000000 mqtt_tcp_connect_cb
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2185   .text.mqtt_tcp_connect_cb:0000004c $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2436   .text.mqtt_tcp_recv_cb:00000000 mqtt_tcp_recv_cb
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2193   .text.mqtt_parse_incoming:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2199   .text.mqtt_parse_incoming:00000000 mqtt_parse_incoming
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2430   .text.mqtt_tcp_recv_cb:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2551   .text.mqtt_tcp_recv_cb:0000007c $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2560   .text.mqtt_publish:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2567   .text.mqtt_publish:00000000 mqtt_publish
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2814   .text.mqtt_publish:00000150 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2825   .text.mqtt_sub_unsub:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:2832   .text.mqtt_sub_unsub:00000000 mqtt_sub_unsub
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3074   .text.mqtt_sub_unsub:00000144 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3085   .text.mqtt_set_inpub_callback:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3092   .text.mqtt_set_inpub_callback:00000000 mqtt_set_inpub_callback
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3141   .text.mqtt_set_inpub_callback:00000024 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3148   .text.mqtt_client_new:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3155   .text.mqtt_client_new:00000000 mqtt_client_new
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3186   .text.mqtt_client_connect:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3193   .text.mqtt_client_connect:00000000 mqtt_client_connect
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3609   .text.mqtt_client_connect:00000258 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3628   .text.mqtt_disconnect:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3635   .text.mqtt_disconnect:00000000 mqtt_disconnect
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3682   .text.mqtt_disconnect:00000028 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3689   .text.mqtt_client_is_connected:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3696   .text.mqtt_client_is_connected:00000000 mqtt_client_is_connected
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3735   .text.mqtt_client_is_connected:00000024 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3742   .rodata.mqtt_append_request.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3750   .rodata.mqtt_clear_requests.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3754   .rodata.mqtt_client_connect.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3786   .rodata.mqtt_client_is_connected.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3790   .rodata.mqtt_close.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3794   .rodata.mqtt_create_request.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3803   .rodata.mqtt_cyclic_timer.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3807   .rodata.mqtt_disconnect.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3811   .rodata.mqtt_init_requests.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3815   .rodata.mqtt_output_check_space.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3819   .rodata.mqtt_output_send.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3823   .rodata.mqtt_publish.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3837   .rodata.mqtt_request_time_elapsed.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3841   .rodata.mqtt_set_inpub_callback.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3845   .rodata.mqtt_sub_unsub.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3861   .rodata.mqtt_take_request.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3865   .rodata.mqtt_tcp_err_cb.str1.4:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccI25KCi.s:3869   .rodata.mqtt_tcp_recv_cb.str1.4:00000000 $d

UNDEFINED SYMBOLS
printf
tcp_write
tcp_output
tcp_recv
tcp_err
tcp_sent
tcp_close
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccI25KCi.s 			page 104


sys_untimeout
tcp_abort
sys_timeout
tcp_poll
pbuf_get_at
pbuf_copy_partial
tcp_recved
pbuf_free
strlen
mem_malloc
memset
tcp_new
tcp_arg
tcp_bind
tcp_connect
ip_addr_any
