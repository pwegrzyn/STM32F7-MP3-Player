ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"tcp_out.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.tcp_write_checks,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-sp-d16
  24              	tcp_write_checks:
  25              	.LFB156:
  26              		.file 1 "Middlewares/Third_Party/LwIP/src/core/tcp_out.c"
   1:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Transmission Control Protocol, outgoing traffic
   4:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * The output functions of TCP.
   6:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
   8:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
   9:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /*
  10:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  11:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * All rights reserved.
  12:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  13:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Redistribution and use in source and binary forms, with or without modification,
  14:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * are permitted provided that the following conditions are met:
  15:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  16:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *    this list of conditions and the following disclaimer.
  18:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *    this list of conditions and the following disclaimer in the documentation
  20:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *    and/or other materials provided with the distribution.
  21:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * 3. The name of the author may not be used to endorse or promote products
  22:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *    derived from this software without specific prior written permission.
  23:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  24:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  25:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  26:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  27:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  28:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  29:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  30:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  31:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  32:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 2


  33:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * OF SUCH DAMAGE.
  34:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  35:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * This file is part of the lwIP TCP/IP stack.
  36:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  37:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Author: Adam Dunkels <adam@sics.se>
  38:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  39:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
  40:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  41:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/opt.h"
  42:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  43:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP /* don't build if not configured for use in lwipopts.h */
  44:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  45:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/priv/tcp_priv.h"
  46:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/def.h"
  47:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/mem.h"
  48:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/memp.h"
  49:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/ip_addr.h"
  50:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/netif.h"
  51:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/inet_chksum.h"
  52:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/stats.h"
  53:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/ip6.h"
  54:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/ip6_addr.h"
  55:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
  56:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/sys.h"
  57:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  58:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  59:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include <string.h>
  60:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  61:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /* Define some copy-macros for checksum-on-copy so that the code looks
  62:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    nicer by preventing too many ifdef's. */
  63:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
  64:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_DATA_COPY(dst, src, len, seg) do { \
  65:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcp_seg_add_chksum(LWIP_CHKSUM_COPY(dst, src, len), \
  66:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                      len, &seg->chksum, &seg->chksum_swapped); \
  67:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->flags |= TF_SEG_DATA_CHECKSUMMED; } while(0)
  68:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_DATA_COPY2(dst, src, len, chksum, chksum_swapped)  \
  69:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcp_seg_add_chksum(LWIP_CHKSUM_COPY(dst, src, len), len, chksum, chksum_swapped);
  70:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_CHECKSUM_ON_COPY*/
  71:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_DATA_COPY(dst, src, len, seg)                     MEMCPY(dst, src, len)
  72:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_DATA_COPY2(dst, src, len, chksum, chksum_swapped) MEMCPY(dst, src, len)
  73:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY*/
  74:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  75:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Define this to 1 for an extra check that the output checksum is valid
  76:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * (usefule when the checksum is generated by the application, not the stack) */
  77:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #ifndef TCP_CHECKSUM_ON_COPY_SANITY_CHECK
  78:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_CHECKSUM_ON_COPY_SANITY_CHECK   0
  79:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  80:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /* Allow to override the failure of sanity check from warning to e.g. hard failure */
  81:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY_SANITY_CHECK
  82:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #ifndef TCP_CHECKSUM_ON_COPY_SANITY_CHECK_FAIL
  83:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_CHECKSUM_ON_COPY_SANITY_CHECK_FAIL(msg) LWIP_DEBUGF(TCP_DEBUG | LWIP_DBG_LEVEL_WARNING,
  84:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  85:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  86:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  87:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
  88:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** The size of segment pbufs created when TCP_OVERSIZE is enabled */
  89:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #ifndef TCP_OVERSIZE_CALC_LENGTH
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 3


  90:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_OVERSIZE_CALC_LENGTH(length) ((length) + TCP_OVERSIZE)
  91:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  92:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  93:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  94:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /* Forward declarations.*/
  95:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static err_t tcp_output_segment(struct tcp_seg *seg, struct tcp_pcb *pcb, struct netif *netif);
  96:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  97:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Allocate a pbuf and create a tcphdr at p->payload, used for output
  98:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * functions other than the default tcp_output -> tcp_output_segment
  99:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * (e.g. tcp_send_empty_ack, etc.)
 100:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 101:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb tcp pcb for which to send a packet (used to initialize tcp_hdr)
 102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param optlen length of header-options
 103:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param datalen length of tcp data to reserve in pbuf
 104:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param seqno_be seqno in network byte order (big-endian)
 105:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return pbuf with p->payload being the tcp_hdr
 106:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 107:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static struct pbuf *
 108:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_output_alloc_header(struct tcp_pcb *pcb, u16_t optlen, u16_t datalen,
 109:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                       u32_t seqno_be /* already in network byte order */)
 110:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 111:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
 112:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p = pbuf_alloc(PBUF_IP, TCP_HLEN + optlen + datalen, PBUF_RAM);
 113:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p != NULL) {
 114:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("check that first pbuf can hold struct tcp_hdr",
 115:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  (p->len >= TCP_HLEN + optlen));
 116:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr = (struct tcp_hdr *)p->payload;
 117:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->src = lwip_htons(pcb->local_port);
 118:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->dest = lwip_htons(pcb->remote_port);
 119:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->seqno = seqno_be;
 120:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->ackno = lwip_htonl(pcb->rcv_nxt);
 121:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_HDRLEN_FLAGS_SET(tcphdr, (5 + optlen / 4), TCP_ACK);
 122:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->wnd = lwip_htons(TCPWND_MIN16(RCV_WND_SCALE(pcb, pcb->rcv_ann_wnd)));
 123:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->chksum = 0;
 124:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->urgp = 0;
 125:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 126:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* If we're sending a packet, update the announced right window edge */
 127:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rcv_ann_right_edge = pcb->rcv_nxt + pcb->rcv_ann_wnd;
 128:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 129:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return p;
 130:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 131:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 132:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 133:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_close() to send a segment including FIN flag but not data.
 134:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 135:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb over which to send a segment
 136:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return ERR_OK if sent, another err_t otherwise
 137:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 138:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 139:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_send_fin(struct tcp_pcb *pcb)
 140:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 141:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* first, try to add the fin to the last unsent segment */
 142:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent != NULL) {
 143:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct tcp_seg *last_unsent;
 144:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (last_unsent = pcb->unsent; last_unsent->next != NULL;
 145:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          last_unsent = last_unsent->next);
 146:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 4


 147:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((TCPH_FLAGS(last_unsent->tcphdr) & (TCP_SYN | TCP_FIN | TCP_RST)) == 0) {
 148:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* no SYN/FIN/RST flag in the header, we can add the FIN flag */
 149:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCPH_SET_FLAG(last_unsent->tcphdr, TCP_FIN);
 150:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags |= TF_FIN;
 151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return ERR_OK;
 152:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 153:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 154:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* no data, no length, flags, copy=1, no optdata */
 155:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return tcp_enqueue_flags(pcb, TCP_FIN);
 156:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 157:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 158:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 159:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Create a TCP segment with prefilled header.
 160:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 161:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_write and tcp_enqueue_flags.
 162:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 163:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection.
 164:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param p pbuf that is used to hold the TCP header.
 165:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param flags TCP flags for header.
 166:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param seqno TCP sequence number of this packet
 167:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param optflags options to include in TCP header
 168:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return a new tcp_seg pointing to p, or NULL.
 169:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * The TCP header is filled in except ackno and wnd.
 170:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * p is freed on failure.
 171:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 172:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static struct tcp_seg *
 173:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_create_segment(struct tcp_pcb *pcb, struct pbuf *p, u8_t flags, u32_t seqno, u8_t optflags)
 174:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 175:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
 176:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = LWIP_TCP_OPT_LENGTH(optflags);
 177:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 178:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((seg = (struct tcp_seg *)memp_malloc(MEMP_TCP_SEG)) == NULL) {
 179:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_create_segment: no memory.\n"));
 180:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_free(p);
 181:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 182:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 183:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->flags = optflags;
 184:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->next = NULL;
 185:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p = p;
 186:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("p->tot_len >= optlen", p->tot_len >= optlen);
 187:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->len = p->tot_len - optlen;
 188:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 189:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->oversize_left = 0;
 190:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 191:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 192:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->chksum = 0;
 193:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->chksum_swapped = 0;
 194:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* check optflags */
 195:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("invalid optflags passed: TF_SEG_DATA_CHECKSUMMED",
 196:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (optflags & TF_SEG_DATA_CHECKSUMMED) == 0);
 197:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 198:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 199:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* build TCP header */
 200:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pbuf_header(p, TCP_HLEN)) {
 201:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_create_segment: no room for TCP he
 202:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.err);
 203:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_seg_free(seg);
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 5


 204:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 205:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 206:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr = (struct tcp_hdr *)seg->p->payload;
 207:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->src = lwip_htons(pcb->local_port);
 208:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->dest = lwip_htons(pcb->remote_port);
 209:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->seqno = lwip_htonl(seqno);
 210:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* ackno is set in tcp_output */
 211:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCPH_HDRLEN_FLAGS_SET(seg->tcphdr, (5 + optlen / 4), flags);
 212:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* wnd and chksum are set in tcp_output */
 213:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->urgp = 0;
 214:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return seg;
 215:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 216:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 217:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 218:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Allocate a PBUF_RAM pbuf, perhaps with extra space at the end.
 219:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 220:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * This function is like pbuf_alloc(layer, length, PBUF_RAM) except
 221:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * there may be extra bytes available at the end.
 222:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 223:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param layer flag to define header size.
 224:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param length size of the pbuf's payload.
 225:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param max_length maximum usable size of payload+oversize.
 226:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param oversize pointer to a u16_t that will receive the number of usable tail bytes.
 227:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb The TCP connection that will enqueue the pbuf.
 228:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param apiflags API flags given to tcp_write.
 229:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param first_seg true when this pbuf will be used in the first enqueued segment.
 230:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 231:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 232:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static struct pbuf *
 233:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_pbuf_prealloc(pbuf_layer layer, u16_t length, u16_t max_length,
 234:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   u16_t *oversize, struct tcp_pcb *pcb, u8_t apiflags,
 235:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   u8_t first_seg)
 236:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 237:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 238:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t alloc = length;
 239:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 240:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
 241:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_UNUSED_ARG(max_length);
 242:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_UNUSED_ARG(pcb);
 243:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_UNUSED_ARG(apiflags);
 244:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_UNUSED_ARG(first_seg);
 245:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   alloc = max_length;
 246:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
 247:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (length < max_length) {
 248:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Should we allocate an oversized pbuf, or just the minimum
 249:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * length required? If tcp_write is going to be called again
 250:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * before this segment is transmitted, we want the oversized
 251:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * buffer. If the segment will be transmitted immediately, we can
 252:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * save memory by allocating only length. We use a simple
 253:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * heuristic based on the following information:
 254:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 255:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Did the user set TCP_WRITE_FLAG_MORE?
 256:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 257:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Will the Nagle algorithm defer transmission of this segment?
 258:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      */
 259:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((apiflags & TCP_WRITE_FLAG_MORE) ||
 260:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         (!(pcb->flags & TF_NODELAY) &&
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 6


 261:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          (!first_seg ||
 262:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unsent != NULL ||
 263:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unacked != NULL))) {
 264:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       alloc = LWIP_MIN(max_length, LWIP_MEM_ALIGN_SIZE(TCP_OVERSIZE_CALC_LENGTH(length)));
 265:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 266:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 267:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 268:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = pbuf_alloc(layer, alloc, PBUF_RAM);
 269:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 270:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 271:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 272:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("need unchained pbuf", p->next == NULL);
 273:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *oversize = p->len - length;
 274:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* trim p->len to the currently used size */
 275:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p->len = p->tot_len = length;
 276:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return p;
 277:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 278:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_OVERSIZE */
 279:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define tcp_pbuf_prealloc(layer, length, mx, os, pcb, api, fst) pbuf_alloc((layer), (length), PBUF_
 280:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 281:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 282:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 283:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Add a checksum of newly added data to the segment */
 284:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static void
 285:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_seg_add_chksum(u16_t chksum, u16_t len, u16_t *seg_chksum,
 286:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                    u8_t *seg_chksum_swapped)
 287:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 288:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u32_t helper;
 289:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* add chksum to old chksum and fold to u16_t */
 290:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   helper = chksum + *seg_chksum;
 291:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   chksum = FOLD_U32T(helper);
 292:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((len & 1) != 0) {
 293:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     *seg_chksum_swapped = 1 - *seg_chksum_swapped;
 294:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     chksum = SWAP_BYTES_IN_WORD(chksum);
 295:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 296:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *seg_chksum = chksum;
 297:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 298:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 299:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 300:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Checks if tcp_write is allowed or not (checks state, snd_buf and snd_queuelen).
 301:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 302:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp pcb to check for
 303:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param len length of data to send (checked agains snd_buf)
 304:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return ERR_OK if tcp_write is allowed to proceed, another err_t otherwise
 305:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 306:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static err_t
 307:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_write_checks(struct tcp_pcb *pcb, u16_t len)
 308:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
  27              		.loc 1 308 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 7


  36              		.cfi_offset 14, -4
 309:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* connection is in invalid state for data transmission? */
 310:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((pcb->state != ESTABLISHED) &&
  37              		.loc 1 310 0
  38 0002 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
  39 0004 042B     		cmp	r3, #4
  40 0006 18BF     		it	ne
  41 0008 072B     		cmpne	r3, #7
  42 000a 03D0     		beq	.L2
 311:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (pcb->state != CLOSE_WAIT) &&
  43              		.loc 1 311 0
  44 000c 022B     		cmp	r3, #2
  45 000e 01D0     		beq	.L2
 312:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (pcb->state != SYN_SENT) &&
  46              		.loc 1 312 0
  47 0010 032B     		cmp	r3, #3
  48 0012 39D1     		bne	.L8
  49              	.L2:
 313:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (pcb->state != SYN_RCVD)) {
 314:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_STATE | LWIP_DBG_LEVEL_SEVERE, ("tcp_write() called in 
 315:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_CONN;
 316:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else if (len == 0) {
  50              		.loc 1 316 0
  51 0014 0029     		cmp	r1, #0
  52 0016 3AD0     		beq	.L9
 317:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
 318:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 319:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 320:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* fail on too much data */
 321:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (len > pcb->snd_buf) {
  53              		.loc 1 321 0
  54 0018 B0F86030 		ldrh	r3, [r0, #96]
  55 001c 9942     		cmp	r1, r3
  56 001e 08D8     		bhi	.L14
 322:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("tcp_write: too much data (len=%"U16_F" 
 323:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       len, pcb->snd_buf));
 324:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 325:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 326:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 327:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 328:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_write: queuelen: %"TCPWNDSIZE_F"\n", (tcpwnd_size_t)pcb->snd_qu
 329:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 330:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* If total number of pbufs on the unsent/unacked queues exceeds the
 331:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * configured maximum, return an error */
 332:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* check for configured max queuelen and possible overflow */
 333:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((pcb->snd_queuelen >= TCP_SND_QUEUELEN) || (pcb->snd_queuelen > TCP_SNDQUEUELEN_OVERFLOW)) {
  57              		.loc 1 333 0
  58 0020 B0F86230 		ldrh	r3, [r0, #98]
  59 0024 082B     		cmp	r3, #8
  60 0026 0BD8     		bhi	.L15
 334:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("tcp_write: too long queue %"U16_F" (max
 335:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->snd_queuelen, (u16_t)TCP_SND_QUEUELEN));
 336:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 337:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 338:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 339:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 340:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->snd_queuelen != 0) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 8


  61              		.loc 1 340 0
  62 0028 F3B1     		cbz	r3, .L6
 341:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: pbufs on queue => at least one queue non-empty",
  63              		.loc 1 341 0
  64 002a C36E     		ldr	r3, [r0, #108]
  65 002c 7BB1     		cbz	r3, .L16
 342:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 343:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 344:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: no pbufs on queue => both queues empty",
 345:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked == NULL && pcb->unsent == NULL);
 346:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 347:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
  66              		.loc 1 347 0
  67 002e 0020     		movs	r0, #0
  68              	.LVL1:
  69 0030 08BD     		pop	{r3, pc}
  70              	.LVL2:
  71              	.L14:
 324:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
  72              		.loc 1 324 0
  73 0032 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
  74 0034 63F07F03 		orn	r3, r3, #127
  75 0038 8376     		strb	r3, [r0, #26]
 325:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
  76              		.loc 1 325 0
  77 003a 4FF0FF30 		mov	r0, #-1
  78              	.LVL3:
  79 003e 08BD     		pop	{r3, pc}
  80              	.LVL4:
  81              	.L15:
 337:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
  82              		.loc 1 337 0
  83 0040 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
  84 0042 63F07F03 		orn	r3, r3, #127
  85 0046 8376     		strb	r3, [r0, #26]
 338:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
  86              		.loc 1 338 0
  87 0048 4FF0FF30 		mov	r0, #-1
  88              	.LVL5:
  89 004c 08BD     		pop	{r3, pc}
  90              	.LVL6:
  91              	.L16:
 341:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
  92              		.loc 1 341 0 discriminator 1
  93 004e 836E     		ldr	r3, [r0, #104]
  94 0050 0BB1     		cbz	r3, .L17
  95              		.loc 1 347 0
  96 0052 0020     		movs	r0, #0
  97              	.LVL7:
  98 0054 08BD     		pop	{r3, pc}
  99              	.LVL8:
 100              	.L17:
 341:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 101              		.loc 1 341 0 discriminator 2
 102 0056 0F4B     		ldr	r3, .L19
 103 0058 4FF4AB72 		mov	r2, #342
 104 005c 0E49     		ldr	r1, .L19+4
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 9


 105              	.LVL9:
 106 005e 0F48     		ldr	r0, .L19+8
 107              	.LVL10:
 108 0060 FFF7FEFF 		bl	printf
 109              	.LVL11:
 110              		.loc 1 347 0 discriminator 2
 111 0064 0020     		movs	r0, #0
 112 0066 08BD     		pop	{r3, pc}
 113              	.LVL12:
 114              	.L6:
 344:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked == NULL && pcb->unsent == NULL);
 115              		.loc 1 344 0
 116 0068 C36E     		ldr	r3, [r0, #108]
 117 006a 43B1     		cbz	r3, .L18
 118              	.L7:
 344:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked == NULL && pcb->unsent == NULL);
 119              		.loc 1 344 0 is_stmt 0 discriminator 3
 120 006c 094B     		ldr	r3, .L19
 121 006e 40F25912 		movw	r2, #345
 122 0072 0B49     		ldr	r1, .L19+12
 123              	.LVL13:
 124 0074 0948     		ldr	r0, .L19+8
 125              	.LVL14:
 126 0076 FFF7FEFF 		bl	printf
 127              	.LVL15:
 128              		.loc 1 347 0 is_stmt 1 discriminator 3
 129 007a 0020     		movs	r0, #0
 130 007c 08BD     		pop	{r3, pc}
 131              	.LVL16:
 132              	.L18:
 344:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked == NULL && pcb->unsent == NULL);
 133              		.loc 1 344 0 discriminator 2
 134 007e 836E     		ldr	r3, [r0, #104]
 135 0080 002B     		cmp	r3, #0
 136 0082 F3D1     		bne	.L7
 137              		.loc 1 347 0
 138 0084 0020     		movs	r0, #0
 139              	.LVL17:
 348:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 140              		.loc 1 348 0
 141 0086 08BD     		pop	{r3, pc}
 142              	.LVL18:
 143              	.L8:
 315:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else if (len == 0) {
 144              		.loc 1 315 0
 145 0088 6FF00A00 		mvn	r0, #10
 146              	.LVL19:
 147 008c 08BD     		pop	{r3, pc}
 148              	.LVL20:
 149              	.L9:
 317:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 150              		.loc 1 317 0
 151 008e 0020     		movs	r0, #0
 152              	.LVL21:
 153 0090 08BD     		pop	{r3, pc}
 154              	.L20:
 155 0092 00BF     		.align	2
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 10


 156              	.L19:
 157 0094 00000000 		.word	.LC0
 158 0098 30000000 		.word	.LC1
 159 009c 6C000000 		.word	.LC2
 160 00a0 94000000 		.word	.LC3
 161              		.cfi_endproc
 162              	.LFE156:
 164              		.section	.text.tcp_pbuf_prealloc,"ax",%progbits
 165              		.align	1
 166              		.syntax unified
 167              		.thumb
 168              		.thumb_func
 169              		.fpu fpv5-sp-d16
 171              	tcp_pbuf_prealloc:
 172              	.LFB155:
 236:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 173              		.loc 1 236 0
 174              		.cfi_startproc
 175              		@ args = 12, pretend = 0, frame = 0
 176              		@ frame_needed = 0, uses_anonymous_args = 0
 177              	.LVL22:
 178 0000 70B5     		push	{r4, r5, r6, lr}
 179              	.LCFI1:
 180              		.cfi_def_cfa_offset 16
 181              		.cfi_offset 4, -16
 182              		.cfi_offset 5, -12
 183              		.cfi_offset 6, -8
 184              		.cfi_offset 14, -4
 185 0002 0C46     		mov	r4, r1
 186 0004 1E46     		mov	r6, r3
 187 0006 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 188              	.LVL23:
 247:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Should we allocate an oversized pbuf, or just the minimum
 189              		.loc 1 247 0
 190 000a 9142     		cmp	r1, r2
 191 000c 15D2     		bcs	.L22
 259:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         (!(pcb->flags & TF_NODELAY) &&
 192              		.loc 1 259 0
 193 000e 9DF81410 		ldrb	r1, [sp, #20]	@ zero_extendqisi2
 194              	.LVL24:
 195 0012 11F0020F 		tst	r1, #2
 196 0016 08D1     		bne	.L23
 260:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          (!first_seg ||
 197              		.loc 1 260 0 discriminator 1
 198 0018 0499     		ldr	r1, [sp, #16]
 199 001a 897E     		ldrb	r1, [r1, #26]	@ zero_extendqisi2
 259:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         (!(pcb->flags & TF_NODELAY) &&
 200              		.loc 1 259 0 discriminator 1
 201 001c 11F0400F 		tst	r1, #64
 202 0020 26D1     		bne	.L27
 260:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          (!first_seg ||
 203              		.loc 1 260 0
 204 0022 13B1     		cbz	r3, .L23
 262:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unacked != NULL))) {
 205              		.loc 1 262 0
 206 0024 049B     		ldr	r3, [sp, #16]
 207 0026 9B6E     		ldr	r3, [r3, #104]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 11


 261:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unsent != NULL ||
 208              		.loc 1 261 0
 209 0028 E3B1     		cbz	r3, .L30
 210              	.L23:
 264:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 211              		.loc 1 264 0
 212 002a 04F21B21 		addw	r1, r4, #539
 213 002e 21F00301 		bic	r1, r1, #3
 214 0032 8A42     		cmp	r2, r1
 215 0034 28BF     		it	cs
 216 0036 0A46     		movcs	r2, r1
 217              	.LVL25:
 218 0038 91B2     		uxth	r1, r2
 219              	.LVL26:
 220              	.L22:
 268:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 221              		.loc 1 268 0
 222 003a 0022     		movs	r2, #0
 223 003c FFF7FEFF 		bl	pbuf_alloc
 224              	.LVL27:
 269:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 225              		.loc 1 269 0
 226 0040 0546     		mov	r5, r0
 227 0042 68B1     		cbz	r0, .L21
 272:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *oversize = p->len - length;
 228              		.loc 1 272 0
 229 0044 0368     		ldr	r3, [r0]
 230 0046 33B1     		cbz	r3, .L25
 272:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *oversize = p->len - length;
 231              		.loc 1 272 0 is_stmt 0 discriminator 1
 232 0048 0A4B     		ldr	r3, .L31
 233 004a 4FF48872 		mov	r2, #272
 234 004e 0A49     		ldr	r1, .L31+4
 235 0050 0A48     		ldr	r0, .L31+8
 236              	.LVL28:
 237 0052 FFF7FEFF 		bl	printf
 238              	.LVL29:
 239              	.L25:
 273:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* trim p->len to the currently used size */
 240              		.loc 1 273 0 is_stmt 1
 241 0056 6B89     		ldrh	r3, [r5, #10]
 242 0058 1B1B     		subs	r3, r3, r4
 243 005a 3380     		strh	r3, [r6]	@ movhi
 275:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return p;
 244              		.loc 1 275 0
 245 005c 2C81     		strh	r4, [r5, #8]	@ movhi
 246 005e 6C81     		strh	r4, [r5, #10]	@ movhi
 247              	.L21:
 277:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_OVERSIZE */
 248              		.loc 1 277 0
 249 0060 2846     		mov	r0, r5
 250 0062 70BD     		pop	{r4, r5, r6, pc}
 251              	.LVL30:
 252              	.L30:
 263:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       alloc = LWIP_MIN(max_length, LWIP_MEM_ALIGN_SIZE(TCP_OVERSIZE_CALC_LENGTH(length)));
 253              		.loc 1 263 0
 254 0064 049B     		ldr	r3, [sp, #16]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 12


 255 0066 DB6E     		ldr	r3, [r3, #108]
 262:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unacked != NULL))) {
 256              		.loc 1 262 0
 257 0068 002B     		cmp	r3, #0
 258 006a DED1     		bne	.L23
 238:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 259              		.loc 1 238 0
 260 006c 2146     		mov	r1, r4
 261 006e E4E7     		b	.L22
 262              	.L27:
 263 0070 2146     		mov	r1, r4
 264 0072 E2E7     		b	.L22
 265              	.L32:
 266              		.align	2
 267              	.L31:
 268 0074 00000000 		.word	.LC0
 269 0078 00000000 		.word	.LC4
 270 007c 6C000000 		.word	.LC2
 271              		.cfi_endproc
 272              	.LFE155:
 274              		.section	.text.tcp_create_segment,"ax",%progbits
 275              		.align	1
 276              		.syntax unified
 277              		.thumb
 278              		.thumb_func
 279              		.fpu fpv5-sp-d16
 281              	tcp_create_segment:
 282              	.LFB154:
 174:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
 283              		.loc 1 174 0
 284              		.cfi_startproc
 285              		@ args = 4, pretend = 0, frame = 0
 286              		@ frame_needed = 0, uses_anonymous_args = 0
 287              	.LVL31:
 288 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 289              	.LCFI2:
 290              		.cfi_def_cfa_offset 32
 291              		.cfi_offset 4, -32
 292              		.cfi_offset 5, -28
 293              		.cfi_offset 6, -24
 294              		.cfi_offset 7, -20
 295              		.cfi_offset 8, -16
 296              		.cfi_offset 9, -12
 297              		.cfi_offset 10, -8
 298              		.cfi_offset 14, -4
 299 0004 8046     		mov	r8, r0
 300 0006 0E46     		mov	r6, r1
 301 0008 1746     		mov	r7, r2
 302 000a 9946     		mov	r9, r3
 303 000c 9DF820A0 		ldrb	r10, [sp, #32]	@ zero_extendqisi2
 176:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 304              		.loc 1 176 0
 305 0010 1AF0010F 		tst	r10, #1
 306 0014 3CD0     		beq	.L39
 307 0016 0425     		movs	r5, #4
 308              	.L34:
 309              	.LVL32:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 13


 178:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_create_segment: no memory.\n"));
 310              		.loc 1 178 0 discriminator 4
 311 0018 0320     		movs	r0, #3
 312              	.LVL33:
 313 001a FFF7FEFF 		bl	memp_malloc
 314              	.LVL34:
 315 001e 0446     		mov	r4, r0
 316 0020 0028     		cmp	r0, #0
 317 0022 37D0     		beq	.L41
 183:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->next = NULL;
 318              		.loc 1 183 0
 319 0024 80F80AA0 		strb	r10, [r0, #10]
 184:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p = p;
 320              		.loc 1 184 0
 321 0028 0023     		movs	r3, #0
 322 002a 0360     		str	r3, [r0]
 185:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("p->tot_len >= optlen", p->tot_len >= optlen);
 323              		.loc 1 185 0
 324 002c 4660     		str	r6, [r0, #4]
 186:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->len = p->tot_len - optlen;
 325              		.loc 1 186 0
 326 002e 3389     		ldrh	r3, [r6, #8]
 327 0030 1FFA85FA 		uxth	r10, r5
 328 0034 5345     		cmp	r3, r10
 329 0036 31D3     		bcc	.L42
 330              	.LVL35:
 331              	.L37:
 187:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 332              		.loc 1 187 0
 333 0038 3389     		ldrh	r3, [r6, #8]
 334 003a A3EB0A03 		sub	r3, r3, r10
 335 003e 2381     		strh	r3, [r4, #8]	@ movhi
 200:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_create_segment: no room for TCP he
 336              		.loc 1 200 0
 337 0040 1421     		movs	r1, #20
 338 0042 3046     		mov	r0, r6
 339 0044 FFF7FEFF 		bl	pbuf_header
 340              	.LVL36:
 341 0048 78BB     		cbnz	r0, .L43
 206:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->src = lwip_htons(pcb->local_port);
 342              		.loc 1 206 0
 343 004a 6368     		ldr	r3, [r4, #4]
 344 004c 5E68     		ldr	r6, [r3, #4]
 345              	.LVL37:
 346 004e E660     		str	r6, [r4, #12]
 207:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->dest = lwip_htons(pcb->remote_port);
 347              		.loc 1 207 0
 348 0050 B8F81600 		ldrh	r0, [r8, #22]
 349 0054 FFF7FEFF 		bl	lwip_htons
 350              	.LVL38:
 351 0058 3080     		strh	r0, [r6]	@ unaligned
 208:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->seqno = lwip_htonl(seqno);
 352              		.loc 1 208 0
 353 005a E668     		ldr	r6, [r4, #12]
 354 005c B8F81800 		ldrh	r0, [r8, #24]
 355 0060 FFF7FEFF 		bl	lwip_htons
 356              	.LVL39:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 14


 357 0064 7080     		strh	r0, [r6, #2]	@ unaligned
 209:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* ackno is set in tcp_output */
 358              		.loc 1 209 0
 359 0066 E668     		ldr	r6, [r4, #12]
 360 0068 4846     		mov	r0, r9
 361 006a FFF7FEFF 		bl	lwip_htonl
 362              	.LVL40:
 363 006e 7060     		str	r0, [r6, #4]	@ unaligned
 211:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* wnd and chksum are set in tcp_output */
 364              		.loc 1 211 0
 365 0070 E668     		ldr	r6, [r4, #12]
 366 0072 A808     		lsrs	r0, r5, #2
 367 0074 0530     		adds	r0, r0, #5
 368 0076 0003     		lsls	r0, r0, #12
 369 0078 80B2     		uxth	r0, r0
 370 007a 3843     		orrs	r0, r0, r7
 371 007c FFF7FEFF 		bl	lwip_htons
 372              	.LVL41:
 373 0080 B081     		strh	r0, [r6, #12]	@ unaligned
 213:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return seg;
 374              		.loc 1 213 0
 375 0082 E368     		ldr	r3, [r4, #12]
 376 0084 0022     		movs	r2, #0
 377 0086 9A74     		strb	r2, [r3, #18]
 378 0088 DA74     		strb	r2, [r3, #19]
 379              	.LVL42:
 380              	.L33:
 215:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 381              		.loc 1 215 0
 382 008a 2046     		mov	r0, r4
 383 008c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 384              	.LVL43:
 385              	.L39:
 176:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 386              		.loc 1 176 0
 387 0090 0025     		movs	r5, #0
 388 0092 C1E7     		b	.L34
 389              	.LVL44:
 390              	.L41:
 180:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 391              		.loc 1 180 0
 392 0094 3046     		mov	r0, r6
 393              	.LVL45:
 394 0096 FFF7FEFF 		bl	pbuf_free
 395              	.LVL46:
 181:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 396              		.loc 1 181 0
 397 009a F6E7     		b	.L33
 398              	.LVL47:
 399              	.L42:
 186:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->len = p->tot_len - optlen;
 400              		.loc 1 186 0 discriminator 1
 401 009c 054B     		ldr	r3, .L44
 402 009e BA22     		movs	r2, #186
 403 00a0 0549     		ldr	r1, .L44+4
 404 00a2 0648     		ldr	r0, .L44+8
 405              	.LVL48:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 15


 406 00a4 FFF7FEFF 		bl	printf
 407              	.LVL49:
 408 00a8 C6E7     		b	.L37
 409              	.L43:
 203:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 410              		.loc 1 203 0
 411 00aa 2046     		mov	r0, r4
 412 00ac FFF7FEFF 		bl	tcp_seg_free
 413              	.LVL50:
 204:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 414              		.loc 1 204 0
 415 00b0 0024     		movs	r4, #0
 416              	.LVL51:
 417 00b2 EAE7     		b	.L33
 418              	.L45:
 419              		.align	2
 420              	.L44:
 421 00b4 00000000 		.word	.LC0
 422 00b8 00000000 		.word	.LC5
 423 00bc 6C000000 		.word	.LC2
 424              		.cfi_endproc
 425              	.LFE154:
 427              		.section	.text.tcp_output_alloc_header,"ax",%progbits
 428              		.align	1
 429              		.syntax unified
 430              		.thumb
 431              		.thumb_func
 432              		.fpu fpv5-sp-d16
 434              	tcp_output_alloc_header:
 435              	.LFB152:
 110:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
 436              		.loc 1 110 0
 437              		.cfi_startproc
 438              		@ args = 0, pretend = 0, frame = 0
 439              		@ frame_needed = 0, uses_anonymous_args = 0
 440              	.LVL52:
 441 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 442              	.LCFI3:
 443              		.cfi_def_cfa_offset 24
 444              		.cfi_offset 4, -24
 445              		.cfi_offset 5, -20
 446              		.cfi_offset 6, -16
 447              		.cfi_offset 7, -12
 448              		.cfi_offset 8, -8
 449              		.cfi_offset 14, -4
 450 0004 0646     		mov	r6, r0
 451 0006 0C46     		mov	r4, r1
 452 0008 9846     		mov	r8, r3
 112:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p != NULL) {
 453              		.loc 1 112 0
 454 000a 1144     		add	r1, r1, r2
 455              	.LVL53:
 456 000c 89B2     		uxth	r1, r1
 457 000e 1431     		adds	r1, r1, #20
 458 0010 0022     		movs	r2, #0
 459              	.LVL54:
 460 0012 89B2     		uxth	r1, r1
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 16


 461 0014 0120     		movs	r0, #1
 462              	.LVL55:
 463 0016 FFF7FEFF 		bl	pbuf_alloc
 464              	.LVL56:
 113:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("check that first pbuf can hold struct tcp_hdr",
 465              		.loc 1 113 0
 466 001a 0746     		mov	r7, r0
 467 001c 48B3     		cbz	r0, .L46
 114:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  (p->len >= TCP_HLEN + optlen));
 468              		.loc 1 114 0
 469 001e 4289     		ldrh	r2, [r0, #10]
 470 0020 04F11403 		add	r3, r4, #20
 471 0024 9A42     		cmp	r2, r3
 472 0026 27DB     		blt	.L50
 473              	.LVL57:
 474              	.L48:
 116:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->src = lwip_htons(pcb->local_port);
 475              		.loc 1 116 0
 476 0028 7D68     		ldr	r5, [r7, #4]
 477              	.LVL58:
 117:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->dest = lwip_htons(pcb->remote_port);
 478              		.loc 1 117 0
 479 002a F08A     		ldrh	r0, [r6, #22]
 480 002c FFF7FEFF 		bl	lwip_htons
 481              	.LVL59:
 482 0030 2880     		strh	r0, [r5]	@ unaligned
 118:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->seqno = seqno_be;
 483              		.loc 1 118 0
 484 0032 308B     		ldrh	r0, [r6, #24]
 485 0034 FFF7FEFF 		bl	lwip_htons
 486              	.LVL60:
 487 0038 6880     		strh	r0, [r5, #2]	@ unaligned
 119:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->ackno = lwip_htonl(pcb->rcv_nxt);
 488              		.loc 1 119 0
 489 003a C5F80480 		str	r8, [r5, #4]	@ unaligned
 120:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_HDRLEN_FLAGS_SET(tcphdr, (5 + optlen / 4), TCP_ACK);
 490              		.loc 1 120 0
 491 003e 706A     		ldr	r0, [r6, #36]
 492 0040 FFF7FEFF 		bl	lwip_htonl
 493              	.LVL61:
 494 0044 A860     		str	r0, [r5, #8]	@ unaligned
 121:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->wnd = lwip_htons(TCPWND_MIN16(RCV_WND_SCALE(pcb, pcb->rcv_ann_wnd)));
 495              		.loc 1 121 0
 496 0046 A008     		lsrs	r0, r4, #2
 497 0048 0530     		adds	r0, r0, #5
 498 004a 0003     		lsls	r0, r0, #12
 499 004c 80B2     		uxth	r0, r0
 500 004e 40F01000 		orr	r0, r0, #16
 501 0052 FFF7FEFF 		bl	lwip_htons
 502              	.LVL62:
 503 0056 A881     		strh	r0, [r5, #12]	@ unaligned
 122:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->chksum = 0;
 504              		.loc 1 122 0
 505 0058 708D     		ldrh	r0, [r6, #42]
 506 005a FFF7FEFF 		bl	lwip_htons
 507              	.LVL63:
 508 005e E881     		strh	r0, [r5, #14]	@ unaligned
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 17


 123:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->urgp = 0;
 509              		.loc 1 123 0
 510 0060 0023     		movs	r3, #0
 511 0062 2B74     		strb	r3, [r5, #16]
 512 0064 6B74     		strb	r3, [r5, #17]
 124:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 513              		.loc 1 124 0
 514 0066 AB74     		strb	r3, [r5, #18]
 515 0068 EB74     		strb	r3, [r5, #19]
 127:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 516              		.loc 1 127 0
 517 006a 736A     		ldr	r3, [r6, #36]
 518 006c 728D     		ldrh	r2, [r6, #42]
 519 006e 1344     		add	r3, r3, r2
 520 0070 F362     		str	r3, [r6, #44]
 521              	.LVL64:
 522              	.L46:
 130:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 523              		.loc 1 130 0
 524 0072 3846     		mov	r0, r7
 525 0074 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 526              	.LVL65:
 527              	.L50:
 114:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  (p->len >= TCP_HLEN + optlen));
 528              		.loc 1 114 0 discriminator 1
 529 0078 034B     		ldr	r3, .L51
 530 007a 7322     		movs	r2, #115
 531 007c 0349     		ldr	r1, .L51+4
 532 007e 0448     		ldr	r0, .L51+8
 533              	.LVL66:
 534 0080 FFF7FEFF 		bl	printf
 535              	.LVL67:
 536 0084 D0E7     		b	.L48
 537              	.L52:
 538 0086 00BF     		.align	2
 539              	.L51:
 540 0088 00000000 		.word	.LC0
 541 008c 00000000 		.word	.LC6
 542 0090 6C000000 		.word	.LC2
 543              		.cfi_endproc
 544              	.LFE152:
 546              		.section	.text.tcp_output_segment,"ax",%progbits
 547              		.align	1
 548              		.syntax unified
 549              		.thumb
 550              		.thumb_func
 551              		.fpu fpv5-sp-d16
 553              	tcp_output_segment:
 554              	.LFB161:
 349:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 350:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 351:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @ingroup tcp_raw
 352:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Write data for sending (but does not send it immediately).
 353:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 354:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * It waits in the expectation of more data being sent soon (as
 355:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * it can send them more efficiently by combining them together).
 356:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * To prompt the system to send data now, call tcp_output() after
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 18


 357:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * calling tcp_write().
 358:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 359:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection to enqueue data for.
 360:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param arg Pointer to the data to be enqueued for sending.
 361:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param len Data length in bytes
 362:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param apiflags combination of following flags :
 363:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * - TCP_WRITE_FLAG_COPY (0x01) data will be copied into memory belonging to the stack
 364:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * - TCP_WRITE_FLAG_MORE (0x02) for TCP connection, PSH flag will not be set on last segment sent,
 365:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return ERR_OK if enqueued, another err_t on error
 366:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 367:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 368:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_write(struct tcp_pcb *pcb, const void *arg, u16_t len, u8_t apiflags)
 369:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *concat_p = NULL;
 371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 372:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t pos = 0; /* position in 'arg' data */
 373:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t queuelen;
 374:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = 0;
 375:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optflags = 0;
 376:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 377:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t oversize = 0;
 378:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t oversize_used = 0;
 379:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 380:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t oversize_add = 0;
 381:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK*/
 382:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t extendlen = 0;
 384:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 385:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t concat_chksum = 0;
 386:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t concat_chksum_swapped = 0;
 387:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t concat_chksummed = 0;
 388:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 389:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 390:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* don't allocate segments bigger than half the maximum window we ever received */
 391:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t mss_local = LWIP_MIN(pcb->mss, TCPWND_MIN16(pcb->snd_wnd_max/2));
 392:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   mss_local = mss_local ? mss_local : pcb->mss;
 393:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 394:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
 395:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Always copy to try to create single pbufs for TX */
 396:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   apiflags |= TCP_WRITE_FLAG_COPY;
 397:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 398:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 399:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_write(pcb=%p, data=%p, len=%"U16_F", apiflags=%"U16_F")\n",
 400:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     (void *)pcb, arg, len, (u16_t)apiflags));
 401:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ERROR("tcp_write: arg == NULL (programmer violates API)",
 402:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****              arg != NULL, return ERR_ARG;);
 403:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 404:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err = tcp_write_checks(pcb, len);
 405:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (err != ERR_OK) {
 406:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return err;
 407:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 408:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   queuelen = pcb->snd_queuelen;
 409:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 410:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 411:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((pcb->flags & TF_TIMESTAMP)) {
 412:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Make sure the timestamp option is only included in data segments if we
 413:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        agreed about it with the remote host. */
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 19


 414:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optflags = TF_SEG_OPTS_TS;
 415:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optlen = LWIP_TCP_OPT_LENGTH(TF_SEG_OPTS_TS);
 416:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* ensure that segments can hold at least one data byte... */
 417:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     mss_local = LWIP_MAX(mss_local, LWIP_TCP_OPT_LEN_TS + 1);
 418:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 419:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_TCP_TIMESTAMPS */
 420:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 421:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 422:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 423:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * TCP segmentation is done in three phases with increasing complexity:
 424:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 425:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * 1. Copy data directly into an oversized pbuf.
 426:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * 2. Chain a new pbuf to the end of pcb->unsent.
 427:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * 3. Create new segments.
 428:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 429:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * We may run out of memory at any point. In that case we must
 430:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * return ERR_MEM and not change anything in pcb. Therefore, all
 431:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * changes are recorded in local variables and committed at the end
 432:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * of the function. Some pcb fields are maintained in local copies:
 433:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 434:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * queuelen = pcb->snd_queuelen
 435:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * oversize = pcb->unsent_oversize
 436:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 437:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * These variables are set consistently by the phases:
 438:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 439:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * seg points to the last segment tampered with.
 440:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 441:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * pos records progress as data is segmented.
 442:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 443:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 444:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Find the tail of the unsent queue. */
 445:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent != NULL) {
 446:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t space;
 447:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t unsent_optlen;
 448:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 449:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* @todo: this could be sped up by keeping last_unsent in the pcb */
 450:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (last_unsent = pcb->unsent; last_unsent->next != NULL;
 451:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          last_unsent = last_unsent->next);
 452:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 453:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Usable space at the end of the last unsent segment */
 454:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     unsent_optlen = LWIP_TCP_OPT_LENGTH(last_unsent->flags);
 455:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("mss_local is too small", mss_local >= last_unsent->len + unsent_optlen);
 456:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     space = mss_local - (last_unsent->len + unsent_optlen);
 457:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 458:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /*
 459:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Phase 1: Copy data directly into an oversized pbuf.
 460:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 461:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * The number of bytes copied is recorded in the oversize_used
 462:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * variable. The actual copying is done at the bottom of the
 463:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * function.
 464:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      */
 465:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 466:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 467:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* check that pcb->unsent_oversize matches last_unsent->oversize_left */
 468:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("unsent_oversize mismatch (pcb vs. last_unsent)",
 469:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unsent_oversize == last_unsent->oversize_left);
 470:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 20


 471:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     oversize = pcb->unsent_oversize;
 472:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (oversize > 0) {
 473:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("inconsistent oversize vs. space", oversize <= space);
 474:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       oversize_used = LWIP_MIN(space, LWIP_MIN(oversize, len));
 476:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 477:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       oversize -= oversize_used;
 478:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       space -= oversize_used;
 479:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 480:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* now we are either finished or oversize is zero */
 481:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("inconsistent oversize vs. len", (oversize == 0) || (pos == len));
 482:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 483:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 484:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /*
 485:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Phase 2: Chain a new pbuf to the end of pcb->unsent.
 486:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 487:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * As an exception when NOT copying the data, if the given data buffer
 488:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * directly follows the last unsent data buffer in memory, extend the last
 489:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * ROM pbuf reference to the buffer, thus saving a ROM pbuf allocation.
 490:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 491:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * We don't extend segments containing SYN/FIN flags or options
 492:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * (len==0). The new pbuf is kept in concat_p and pbuf_cat'ed at
 493:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * the end.
 494:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      */
 495:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((pos < len) && (space > 0) && (last_unsent->len > 0)) {
 496:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       u16_t seglen = LWIP_MIN(space, len - pos);
 497:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 498:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 499:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Create a pbuf with a copy or reference to seglen bytes. We
 500:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * can use PBUF_RAW here since the data appears in the middle of
 501:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * a segment. A header will never be prepended. */
 502:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (apiflags & TCP_WRITE_FLAG_COPY) {
 503:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* Data is copied */
 504:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if ((concat_p = tcp_pbuf_prealloc(PBUF_RAW, seglen, space, &oversize, pcb, apiflags, 1)) ==
 505:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 506:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                       ("tcp_write : could not allocate memory for pbuf copy size %"U16_F"\n",
 507:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                        seglen));
 508:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           goto memerr;
 509:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
 510:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 511:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         oversize_add = oversize;
 512:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 513:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         TCP_DATA_COPY2(concat_p->payload, (const u8_t*)arg + pos, seglen, &concat_chksum, &concat_c
 514:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 515:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         concat_chksummed += seglen;
 516:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 517:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         queuelen += pbuf_clen(concat_p);
 518:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       } else {
 519:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* Data is not copied */
 520:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* If the last unsent pbuf is of type PBUF_ROM, try to extend it. */
 521:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         struct pbuf *p;
 522:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         for (p = last_unsent->p; p->next != NULL; p = p->next);
 523:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if (p->type == PBUF_ROM && (const u8_t *)p->payload + p->len == (const u8_t *)arg) {
 524:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_ASSERT("tcp_write: ROM pbufs cannot be oversized", pos == 0);
 525:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           extendlen = seglen;
 526:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         } else {
 527:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           if ((concat_p = pbuf_alloc(PBUF_RAW, seglen, PBUF_ROM)) == NULL) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 21


 528:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 529:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                         ("tcp_write: could not allocate memory for zero-copy pbuf\n"));
 530:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             goto memerr;
 531:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           }
 532:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           /* reference the non-volatile payload data */
 533:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           ((struct pbuf_rom*)concat_p)->payload = (const u8_t*)arg + pos;
 534:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           queuelen += pbuf_clen(concat_p);
 535:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
 536:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 537:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* calculate the checksum of nocopy-data */
 538:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         tcp_seg_add_chksum(~inet_chksum((const u8_t*)arg + pos, seglen), seglen,
 539:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           &concat_chksum, &concat_chksum_swapped);
 540:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         concat_chksummed += seglen;
 541:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 542:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 543:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 544:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += seglen;
 545:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 546:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 547:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 548:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("unsent_oversize mismatch (pcb->unsent is NULL)",
 549:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unsent_oversize == 0);
 550:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 551:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 552:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 553:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 554:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Phase 3: Create new segments.
 555:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 556:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * The new segments are chained together in the local 'queue'
 557:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * variable, ready to be appended to pcb->unsent.
 558:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 559:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (pos < len) {
 560:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 561:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t left = len - pos;
 562:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t max_len = mss_local - optlen;
 563:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t seglen = LWIP_MIN(left, max_len);
 564:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 565:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t chksum = 0;
 566:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u8_t chksum_swapped = 0;
 567:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 568:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 569:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (apiflags & TCP_WRITE_FLAG_COPY) {
 570:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* If copy is set, memory should be allocated and data copied
 571:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * into pbuf */
 572:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if ((p = tcp_pbuf_prealloc(PBUF_TRANSPORT, seglen + optlen, mss_local, &oversize, pcb, apifla
 573:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write : could not allocate mem
 574:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         goto memerr;
 575:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 576:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("tcp_write: check that first pbuf can hold the complete seglen",
 577:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   (p->len >= seglen));
 578:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCP_DATA_COPY2((char *)p->payload + optlen, (const u8_t*)arg + pos, seglen, &chksum, &chksum_
 579:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 580:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Copy is not set: First allocate a pbuf for holding the data.
 581:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * Since the referenced data is available at least until it is
 582:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * sent out on the link (as it has to be ACKed by the remote
 583:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * party) we can safely use PBUF_ROM instead of PBUF_REF here.
 584:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        */
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 22


 585:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       struct pbuf *p2;
 586:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 587:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("oversize == 0", oversize == 0);
 588:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 589:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if ((p2 = pbuf_alloc(PBUF_TRANSPORT, seglen, PBUF_ROM)) == NULL) {
 590:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: could not allocate memo
 591:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         goto memerr;
 592:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 593:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 594:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* calculate the checksum of nocopy-data */
 595:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       chksum = ~inet_chksum((const u8_t*)arg + pos, seglen);
 596:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (seglen & 1) {
 597:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         chksum_swapped = 1;
 598:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         chksum = SWAP_BYTES_IN_WORD(chksum);
 599:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 600:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 601:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* reference the non-volatile payload data */
 602:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((struct pbuf_rom*)p2)->payload = (const u8_t*)arg + pos;
 603:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 604:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Second, allocate a pbuf for the headers. */
 605:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if ((p = pbuf_alloc(PBUF_TRANSPORT, optlen, PBUF_RAM)) == NULL) {
 606:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* If allocation fails, we have to deallocate the data pbuf as
 607:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          * well. */
 608:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         pbuf_free(p2);
 609:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: could not allocate memo
 610:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         goto memerr;
 611:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 612:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Concatenate the headers and data pbufs together. */
 613:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pbuf_cat(p/*header*/, p2/*data*/);
 614:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 615:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 616:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     queuelen += pbuf_clen(p);
 617:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 618:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Now that there are more segments queued, we check again if the
 619:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * length of the queue exceeds the configured maximum or
 620:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * overflows. */
 621:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((queuelen > TCP_SND_QUEUELEN) || (queuelen > TCP_SNDQUEUELEN_OVERFLOW)) {
 622:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: queue too long %"U16_F" (
 623:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         queuelen, (int)TCP_SND_QUEUELEN));
 624:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pbuf_free(p);
 625:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       goto memerr;
 626:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 627:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 628:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((seg = tcp_create_segment(pcb, p, 0, pcb->snd_lbb + pos, optflags)) == NULL) {
 629:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       goto memerr;
 630:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 631:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 632:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->oversize_left = oversize;
 633:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 634:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 635:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->chksum = chksum;
 636:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->chksum_swapped = chksum_swapped;
 637:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->flags |= TF_SEG_DATA_CHECKSUMMED;
 638:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 639:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 640:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* first segment of to-be-queued data? */
 641:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (queue == NULL) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 23


 642:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       queue = seg;
 643:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 644:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Attach the segment to the end of the queued segments */
 645:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("prev_seg != NULL", prev_seg != NULL);
 646:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       prev_seg->next = seg;
 647:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 648:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* remember last segment of to-be-queued data for next iteration */
 649:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     prev_seg = seg;
 650:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 651:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_TRACE, ("tcp_write: queueing %"U32_F":%"U32_F"\n",
 652:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno),
 653:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) + TCP_TCPLEN(seg)));
 654:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 655:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pos += seglen;
 656:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 657:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 658:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 659:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * All three segmentation phases were successful. We can commit the
 660:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * transaction.
 661:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 662:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 663:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((last_unsent != NULL) && (oversize_add != 0)) {
 664:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->oversize_left += oversize_add;
 665:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 666:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 667:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 668:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 669:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Phase 1: If data has been added to the preallocated tail of
 670:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * last_unsent, we update the length fields of the pbuf chain.
 671:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 672:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 673:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (oversize_used > 0) {
 674:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 675:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Bump tot_len of whole chain, len of tail */
 676:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (p = last_unsent->p; p; p = p->next) {
 677:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += oversize_used;
 678:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (p->next == NULL) {
 679:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         TCP_DATA_COPY((char *)p->payload + p->len, arg, oversize_used, last_unsent);
 680:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         p->len += oversize_used;
 681:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 682:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 683:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += oversize_used;
 684:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 685:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("last_unsent->oversize_left >= oversize_used",
 686:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 last_unsent->oversize_left >= oversize_used);
 687:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->oversize_left -= oversize_used;
 688:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 689:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 690:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unsent_oversize = oversize;
 691:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 692:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 693:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 694:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Phase 2: concat_p can be concatenated onto last_unsent->p, unless we
 695:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * determined that the last ROM pbuf can be extended to include the new data.
 696:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 697:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (concat_p != NULL) {
 698:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: cannot concatenate when pcb->unsent is empty",
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 24


 699:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (last_unsent != NULL));
 700:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_cat(last_unsent->p, concat_p);
 701:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += concat_p->tot_len;
 702:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else if (extendlen > 0) {
 703:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 704:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: extension of reference requires reference",
 705:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       last_unsent != NULL && last_unsent->p != NULL);
 706:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (p = last_unsent->p; p->next != NULL; p = p->next) {
 707:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += extendlen;
 708:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 709:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     p->tot_len += extendlen;
 710:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     p->len += extendlen;
 711:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += extendlen;
 712:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 713:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 714:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 715:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (concat_chksummed) {
 716:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: concat checksum needs concatenated data",
 717:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         concat_p != NULL || extendlen > 0);
 718:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /*if concat checksumm swapped - swap it back */
 719:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (concat_chksum_swapped) {
 720:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       concat_chksum = SWAP_BYTES_IN_WORD(concat_chksum);
 721:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 722:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_seg_add_chksum(concat_chksum, concat_chksummed, &last_unsent->chksum,
 723:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       &last_unsent->chksum_swapped);
 724:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->flags |= TF_SEG_DATA_CHECKSUMMED;
 725:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 726:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 727:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 728:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 729:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Phase 3: Append queue to pcb->unsent. Queue may be NULL, but that
 730:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * is harmless
 731:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 732:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (last_unsent == NULL) {
 733:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = queue;
 734:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 735:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->next = queue;
 736:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 737:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 738:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 739:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Finally update the pcb state.
 740:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 741:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_lbb += len;
 742:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_buf -= len;
 743:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_queuelen = queuelen;
 744:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 745:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_write: %"S16_F" (after enqueued)\n",
 746:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->snd_queuelen));
 747:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->snd_queuelen != 0) {
 748:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: valid queue length",
 749:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unacked != NULL || pcb->unsent != NULL);
 750:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 751:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 752:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Set the PSH flag in the last segment that we enqueued. */
 753:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg != NULL && seg->tcphdr != NULL && ((apiflags & TCP_WRITE_FLAG_MORE)==0)) {
 754:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_SET_FLAG(seg->tcphdr, TCP_PSH);
 755:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 25


 756:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 757:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
 758:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** memerr:
 759:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->flags |= TF_NAGLEMEMERR;
 760:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCP_STATS_INC(tcp.memerr);
 761:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 762:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (concat_p != NULL) {
 763:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_free(concat_p);
 764:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 765:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (queue != NULL) {
 766:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_segs_free(queue);
 767:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 768:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->snd_queuelen != 0) {
 769:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: valid queue length", pcb->unacked != NULL ||
 770:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unsent != NULL);
 771:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 772:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG | LWIP_DBG_STATE, ("tcp_write: %"S16_F" (with mem err)\n", pcb->snd_qu
 773:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_MEM;
 774:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 775:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 776:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 777:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Enqueue TCP options for transmission.
 778:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 779:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_connect(), tcp_listen_input(), and tcp_send_ctrl().
 780:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 781:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection.
 782:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param flags TCP header flags to set in the outgoing segment.
 783:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 784:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 785:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_enqueue_flags(struct tcp_pcb *pcb, u8_t flags)
 786:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 787:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 788:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
 789:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optflags = 0;
 790:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = 0;
 791:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 792:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_enqueue_flags: queuelen: %"U16_F"\n", (u16_t)pcb->snd_queuelen)
 793:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 794:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: need either TCP_SYN or TCP_FIN in flags (programmer violates API)
 795:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (flags & (TCP_SYN | TCP_FIN)) != 0);
 796:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 797:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* check for configured max queuelen and possible overflow (FIN flag should always come through!)
 798:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (((pcb->snd_queuelen >= TCP_SND_QUEUELEN) || (pcb->snd_queuelen > TCP_SNDQUEUELEN_OVERFLOW)) &
 799:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((flags & TCP_FIN) == 0)) {
 800:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("tcp_enqueue_flags: too long queue %"U16
 801:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                        pcb->snd_queuelen, (u16_t)TCP_SND_QUEUELEN));
 802:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 803:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 804:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 805:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 806:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 807:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (flags & TCP_SYN) {
 808:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optflags = TF_SEG_OPTS_MSS;
 809:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
 810:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((pcb->state != SYN_RCVD) || (pcb->flags & TF_WND_SCALE)) {
 811:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* In a <SYN,ACK> (sent in state SYN_RCVD), the window scale option may only
 812:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          be sent if we received a window scale option from the remote host. */
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 26


 813:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       optflags |= TF_SEG_OPTS_WND_SCALE;
 814:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 815:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_WND_SCALE */
 816:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 817:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 818:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((pcb->flags & TF_TIMESTAMP)) {
 819:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Make sure the timestamp option is only included in data segments if we
 820:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        agreed about it with the remote host. */
 821:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optflags |= TF_SEG_OPTS_TS;
 822:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 823:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_TCP_TIMESTAMPS */
 824:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   optlen = LWIP_TCP_OPT_LENGTH(optflags);
 825:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 826:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Allocate pbuf with room for TCP header + options */
 827:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((p = pbuf_alloc(PBUF_TRANSPORT, optlen, PBUF_RAM)) == NULL) {
 828:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 829:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 830:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 831:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 832:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: check that first pbuf can hold optlen",
 833:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (p->len >= optlen));
 834:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 835:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Allocate memory for tcp_seg, and fill in fields. */
 836:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((seg = tcp_create_segment(pcb, p, flags, pcb->snd_lbb, optflags)) == NULL) {
 837:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 838:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 839:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 840:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 841:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("seg->tcphdr not aligned", ((mem_ptr_t)seg->tcphdr % LWIP_MIN(MEM_ALIGNMENT, 4)) == 0
 842:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: invalid segment length", seg->len == 0);
 843:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 844:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_TRACE,
 845:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               ("tcp_enqueue_flags: queueing %"U32_F":%"U32_F" (0x%"X16_F")\n",
 846:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                lwip_ntohl(seg->tcphdr->seqno),
 847:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                lwip_ntohl(seg->tcphdr->seqno) + TCP_TCPLEN(seg),
 848:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                (u16_t)flags));
 849:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 850:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Now append seg to pcb->unsent queue */
 851:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent == NULL) {
 852:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = seg;
 853:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 854:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct tcp_seg *useg;
 855:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (useg = pcb->unsent; useg->next != NULL; useg = useg->next);
 856:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     useg->next = seg;
 857:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 858:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 859:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* The new unsent tail has no space */
 860:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unsent_oversize = 0;
 861:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 862:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 863:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* SYN and FIN bump the sequence number */
 864:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((flags & TCP_SYN) || (flags & TCP_FIN)) {
 865:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->snd_lbb++;
 866:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* optlen does not influence snd_buf */
 867:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 868:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (flags & TCP_FIN) {
 869:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_FIN;
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 27


 870:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 871:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 872:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* update number of segments on the queues */
 873:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_queuelen += pbuf_clen(seg->p);
 874:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_enqueue_flags: %"S16_F" (after enqueued)\n", pcb->snd_queuelen)
 875:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->snd_queuelen != 0) {
 876:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_enqueue_flags: invalid queue length",
 877:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 878:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 879:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 880:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
 881:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 882:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 883:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 884:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /* Build a timestamp option (12 bytes long) at the specified options pointer)
 885:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 886:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb tcp_pcb
 887:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param opts option pointer where to store the timestamp option
 888:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 889:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static void
 890:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_build_timestamp_option(struct tcp_pcb *pcb, u32_t *opts)
 891:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 892:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Pad with two NOP options to make everything nicely aligned */
 893:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts[0] = PP_HTONL(0x0101080A);
 894:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts[1] = lwip_htonl(sys_now());
 895:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts[2] = lwip_htonl(pcb->ts_recent);
 896:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 897:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 898:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 899:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
 900:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Build a window scale option (3 bytes long) at the specified options pointer)
 901:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 902:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param opts option pointer where to store the window scale option
 903:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 904:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static void
 905:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_build_wnd_scale_option(u32_t *opts)
 906:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 907:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Pad with one NOP option to make everything nicely aligned */
 908:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts[0] = PP_HTONL(0x01030300 | TCP_RCV_SCALE);
 909:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 910:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 911:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 912:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 913:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Send an ACK without data.
 914:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 915:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection to send the ACK
 916:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 917:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 918:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_send_empty_ack(struct tcp_pcb *pcb)
 919:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 920:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 921:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 922:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = 0;
 923:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
 924:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS || CHECKSUM_GEN_TCP
 925:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
 926:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_TCP_TIMESTAMPS || CHECKSUM_GEN_TCP */
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 28


 927:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 928:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 929:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->flags & TF_TIMESTAMP) {
 930:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optlen = LWIP_TCP_OPT_LENGTH(TF_SEG_OPTS_TS);
 931:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 932:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 933:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 934:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = tcp_output_alloc_header(pcb, optlen, 0, lwip_htonl(pcb->snd_nxt));
 935:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 936:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* let tcp_fasttmr retry sending this ACK */
 937:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= (TF_ACK_DELAY | TF_ACK_NOW);
 938:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_output: (ACK) could not allocate pbuf\n"));
 939:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_BUF;
 940:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 941:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS || CHECKSUM_GEN_TCP
 942:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr = (struct tcp_hdr *)p->payload;
 943:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_TCP_TIMESTAMPS || CHECKSUM_GEN_TCP */
 944:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_OUTPUT_DEBUG,
 945:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               ("tcp_output: sending ACK for %"U32_F"\n", pcb->rcv_nxt));
 946:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 947:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* NB. MSS and window scale options are only sent on SYNs, so ignore them here */
 948:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 949:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->ts_lastacksent = pcb->rcv_nxt;
 950:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 951:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->flags & TF_TIMESTAMP) {
 952:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_build_timestamp_option(pcb, (u32_t *)(tcphdr + 1));
 953:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 954:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 955:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 956:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
 957:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 958:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ERR_RTE;
 959:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 960:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
 961:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
 962:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcphdr->chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
 963:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         &pcb->local_ip, &pcb->remote_ip);
 964:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 965:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 966:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
 967:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ip_output_if(p, &pcb->local_ip, &pcb->remote_ip,
 968:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->ttl, pcb->tos, IP_PROTO_TCP, netif);
 969:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, NULL);
 970:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 971:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pbuf_free(p);
 972:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 973:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (err != ERR_OK) {
 974:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* let tcp_fasttmr retry sending this ACK */
 975:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= (TF_ACK_DELAY | TF_ACK_NOW);
 976:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 977:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* remove ACK flags from the PCB, as we sent an empty ACK now */
 978:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags &= ~(TF_ACK_DELAY | TF_ACK_NOW);
 979:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 980:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 981:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return err;
 982:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 983:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 29


 984:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 985:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @ingroup tcp_raw
 986:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Find out what we can send and send it
 987:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 988:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection to send data
 989:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return ERR_OK if data has been sent or nothing to send
 990:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *         another err_t on error
 991:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 992:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 993:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_output(struct tcp_pcb *pcb)
 994:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 995:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg, *useg;
 996:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u32_t wnd, snd_nxt;
 997:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 998:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
 999:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CWND_DEBUG
1000:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   s16_t i = 0;
1001:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CWND_DEBUG */
1002:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1003:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* pcb->state LISTEN not allowed here */
1004:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("don't call tcp_output for listen-pcbs",
1005:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->state != LISTEN);
1006:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1007:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* First, check if we are invoked by the TCP input processing
1008:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      code. If so, we do not output anything. Instead, we rely on the
1009:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      input processing code to call us when input processing is done
1010:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      with. */
1011:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (tcp_input_pcb == pcb) {
1012:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
1013:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1014:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1015:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   wnd = LWIP_MIN(pcb->snd_wnd, pcb->cwnd);
1016:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1017:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg = pcb->unsent;
1018:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1019:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* If the TF_ACK_NOW flag is set and no data will be sent (either
1020:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * because the ->unsent queue is empty or because the window does
1021:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * not allow it), construct an empty ACK segment and send it.
1022:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
1023:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * If data is to be sent, we will just piggyback the ACK (see below).
1024:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
1025:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->flags & TF_ACK_NOW &&
1026:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      (seg == NULL ||
1027:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len > wnd)) {
1028:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      return tcp_send_empty_ack(pcb);
1029:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1030:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1031:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* useg should point to last segment on unacked queue */
1032:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   useg = pcb->unacked;
1033:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (useg != NULL) {
1034:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (; useg->next != NULL; useg = useg->next);
1035:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1036:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1037:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
1038:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
1039:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_RTE;
1040:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 30


1041:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1042:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* If we don't have a local IP address, we get one from netif */
1043:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (ip_addr_isany(&pcb->local_ip)) {
1044:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, &pcb->remote_ip);
1045:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (local_ip == NULL) {
1046:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return ERR_RTE;
1047:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ip_addr_copy(pcb->local_ip, *local_ip);
1049:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1050:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1051:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OUTPUT_DEBUG
1052:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg == NULL) {
1053:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_output: nothing to send (%p)\n",
1054:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                    (void*)pcb->unsent));
1055:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1056:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OUTPUT_DEBUG */
1057:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CWND_DEBUG
1058:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg == NULL) {
1059:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_output: snd_wnd %"TCPWNDSIZE_F
1060:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                  ", cwnd %"TCPWNDSIZE_F", wnd %"U32_F
1061:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                  ", seg == NULL, ack %"U32_F"\n",
1062:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                  pcb->snd_wnd, pcb->cwnd, wnd, pcb->lastack));
1063:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
1064:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_CWND_DEBUG,
1065:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 ("tcp_output: snd_wnd %"TCPWNDSIZE_F", cwnd %"TCPWNDSIZE_F", wnd %"U32_F
1066:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  ", effwnd %"U32_F", seq %"U32_F", ack %"U32_F"\n",
1067:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  pcb->snd_wnd, pcb->cwnd, wnd,
1068:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len,
1069:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  lwip_ntohl(seg->tcphdr->seqno), pcb->lastack));
1070:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1071:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CWND_DEBUG */
1072:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Check if we need to start the persistent timer when the next unsent segment
1073:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * does not fit within the remaining send window and RTO timer is not running (we
1074:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * have no in-flight data). A traditional approach would fill the remaining window
1075:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * with part of the unsent segment (which will engage zero-window probing upon
1076:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * reception of the zero window update from the receiver). This ensures the
1077:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * subsequent window update is reliably received. With the goal of being lightweight,
1078:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * we avoid splitting the unsent segment and treat the window as already zero.
1079:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
1080:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg != NULL &&
1081:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len > wnd &&
1082:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       wnd > 0 && wnd == pcb->snd_wnd && pcb->unacked == NULL) {
1083:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Start the persist timer */
1084:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->persist_backoff == 0) {
1085:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->persist_cnt = 0;
1086:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->persist_backoff = 1;
1087:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1088:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     goto output_done;
1089:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1090:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* data available and window allows it to be sent? */
1091:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (seg != NULL &&
1092:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len <= wnd) {
1093:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("RST not expected here!",
1094:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 (TCPH_FLAGS(seg->tcphdr) & TCP_RST) == 0);
1095:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Stop sending if the nagle algorithm would prevent it
1096:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Don't stop:
1097:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * - if tcp_write had a memory error before (prevent delayed ACK timeout) or
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 31


1098:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * - if FIN was already enqueued for this PCB (SYN is always alone in a segment -
1099:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *   either seg->next != NULL or pcb->unacked == NULL;
1100:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *   RST is no sent using tcp_write/tcp_output.
1101:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      */
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((tcp_do_output_nagle(pcb) == 0) &&
1103:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
1104:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       break;
1105:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1106:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CWND_DEBUG
1107:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_output: snd_wnd %"TCPWNDSIZE_F", cwnd %"TCPWNDSIZE_F", wnd %"
1108:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                             pcb->snd_wnd, pcb->cwnd, wnd,
1109:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                             lwip_ntohl(seg->tcphdr->seqno) + seg->len -
1110:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                             pcb->lastack,
1111:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                             lwip_ntohl(seg->tcphdr->seqno), pcb->lastack, i));
1112:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ++i;
1113:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CWND_DEBUG */
1114:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1115:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->state != SYN_SENT) {
1116:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCPH_SET_FLAG(seg->tcphdr, TCP_ACK);
1117:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1118:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1119:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
1120:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->oversize_left = 0;
1121:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
1122:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = tcp_output_segment(seg, pcb, netif);
1123:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (err != ERR_OK) {
1124:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* segment could not be sent, for whatever reason */
1125:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags |= TF_NAGLEMEMERR;
1126:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return err;
1127:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1128:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = seg->next;
1129:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->state != SYN_SENT) {
1130:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags &= ~(TF_ACK_DELAY | TF_ACK_NOW);
1131:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1132:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     snd_nxt = lwip_ntohl(seg->tcphdr->seqno) + TCP_TCPLEN(seg);
1133:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
1134:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->snd_nxt = snd_nxt;
1135:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1136:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* put segment on unacknowledged list if length > 0 */
1137:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_TCPLEN(seg) > 0) {
1138:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->next = NULL;
1139:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* unacked list is empty? */
1140:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (pcb->unacked == NULL) {
1141:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         pcb->unacked = seg;
1142:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         useg = seg;
1143:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* unacked list is not empty? */
1144:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       } else {
1145:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* In the case of fast retransmit, the packet should not go to the tail
1146:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          * of the unacked queue, but rather somewhere before it. We need to check for
1147:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          * this case. -STJ Jul 27, 2004 */
1148:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if (TCP_SEQ_LT(lwip_ntohl(seg->tcphdr->seqno), lwip_ntohl(useg->tcphdr->seqno))) {
1149:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           /* add segment to before tail of unacked list, keeping the list sorted */
1150:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           struct tcp_seg **cur_seg = &(pcb->unacked);
1151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           while (*cur_seg &&
1152:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
1153:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               cur_seg = &((*cur_seg)->next );
1154:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           }
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 32


1155:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           seg->next = (*cur_seg);
1156:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           (*cur_seg) = seg;
1157:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         } else {
1158:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           /* add segment to tail of unacked list */
1159:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           useg->next = seg;
1160:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           useg = useg->next;
1161:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
1162:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
1163:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* do not queue empty segments on the unacked list */
1164:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
1165:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcp_seg_free(seg);
1166:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1167:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg = pcb->unsent;
1168:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1169:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** output_done:
1170:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
1171:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent == NULL) {
1172:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* last unsent has been removed, reset unsent_oversize */
1173:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent_oversize = 0;
1174:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1175:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
1176:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1177:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->flags &= ~TF_NAGLEMEMERR;
1178:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
1179:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
1180:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1181:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1182:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_output() to actually send a TCP segment over IP.
1183:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1184:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param seg the tcp_seg to send
1185:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for the TCP connection used to send the segment
1186:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param netif the netif used to send the segment
1187:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1188:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static err_t
1189:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_output_segment(struct tcp_seg *seg, struct tcp_pcb *pcb, struct netif *netif)
1190:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 555              		.loc 1 1190 0
 556              		.cfi_startproc
 557              		@ args = 0, pretend = 0, frame = 0
 558              		@ frame_needed = 0, uses_anonymous_args = 0
 559              	.LVL68:
1191:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
1192:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t len;
1193:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u32_t *opts;
1194:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1195:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->p->ref != 1) {
 560              		.loc 1 1195 0
 561 0000 4368     		ldr	r3, [r0, #4]
 562 0002 DB89     		ldrh	r3, [r3, #14]
 563 0004 012B     		cmp	r3, #1
 564 0006 01D0     		beq	.L63
1196:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* This can happen if the pbuf of this segment is still referenced by the
1197:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        netif driver due to deferred transmission. Since this function modifies
1198:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        p->len, we must not continue in this case. */
1199:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
 565              		.loc 1 1199 0
 566 0008 0020     		movs	r0, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 33


 567              	.LVL69:
 568 000a 7047     		bx	lr
 569              	.LVL70:
 570              	.L63:
1190:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 571              		.loc 1 1190 0
 572 000c F0B5     		push	{r4, r5, r6, r7, lr}
 573              	.LCFI4:
 574              		.cfi_def_cfa_offset 20
 575              		.cfi_offset 4, -20
 576              		.cfi_offset 5, -16
 577              		.cfi_offset 6, -12
 578              		.cfi_offset 7, -8
 579              		.cfi_offset 14, -4
 580 000e 85B0     		sub	sp, sp, #20
 581              	.LCFI5:
 582              		.cfi_def_cfa_offset 40
 583 0010 1646     		mov	r6, r2
 584 0012 0D46     		mov	r5, r1
 585 0014 0446     		mov	r4, r0
1200:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1201:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1202:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* The TCP header has already been constructed, but the ackno and
1203:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    wnd fields remain. */
1204:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->ackno = lwip_htonl(pcb->rcv_nxt);
 586              		.loc 1 1204 0
 587 0016 C768     		ldr	r7, [r0, #12]
 588 0018 486A     		ldr	r0, [r1, #36]
 589              	.LVL71:
 590 001a FFF7FEFF 		bl	lwip_htonl
 591              	.LVL72:
 592 001e B860     		str	r0, [r7, #8]	@ unaligned
1205:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1206:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* advertise our receive window size in this TCP segment */
1207:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
1208:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_WND_SCALE) {
1209:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* The Window field in a SYN segment itself (the only type where we send
1210:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        the window scale option) is never scaled. */
1211:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->tcphdr->wnd = lwip_htons(TCPWND_MIN16(pcb->rcv_ann_wnd));
1212:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else
1213:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_WND_SCALE */
1214:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   {
1215:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->tcphdr->wnd = lwip_htons(TCPWND_MIN16(RCV_WND_SCALE(pcb, pcb->rcv_ann_wnd)));
 593              		.loc 1 1215 0
 594 0020 E768     		ldr	r7, [r4, #12]
 595 0022 688D     		ldrh	r0, [r5, #42]
 596 0024 FFF7FEFF 		bl	lwip_htons
 597              	.LVL73:
 598 0028 F881     		strh	r0, [r7, #14]	@ unaligned
1216:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1217:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1218:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->rcv_ann_right_edge = pcb->rcv_nxt + pcb->rcv_ann_wnd;
 599              		.loc 1 1218 0
 600 002a 6B6A     		ldr	r3, [r5, #36]
 601 002c 6A8D     		ldrh	r2, [r5, #42]
 602 002e 1344     		add	r3, r3, r2
 603 0030 EB62     		str	r3, [r5, #44]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 34


1219:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1220:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Add any requested options.  NB MSS option is only set on SYN
1221:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      packets, so ignore it here */
1222:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* cast through void* to get rid of alignment warnings */
1223:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts = (u32_t *)(void *)(seg->tcphdr + 1);
 604              		.loc 1 1223 0
 605 0032 E768     		ldr	r7, [r4, #12]
 606              	.LVL74:
1224:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_MSS) {
 607              		.loc 1 1224 0
 608 0034 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 609 0036 13F0010F 		tst	r3, #1
 610 003a 26D1     		bne	.L64
 611              	.LVL75:
 612              	.L55:
1225:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t mss;
1226:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CALCULATE_EFF_SEND_MSS
1227:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     mss = tcp_eff_send_mss(TCP_MSS, &pcb->local_ip, &pcb->remote_ip);
1228:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_CALCULATE_EFF_SEND_MSS */
1229:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     mss = TCP_MSS;
1230:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
1231:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     *opts = TCP_BUILD_MSS_OPTION(mss);
1232:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     opts += 1;
1233:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1234:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
1235:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->ts_lastacksent = pcb->rcv_nxt;
1236:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1237:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_TS) {
1238:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_build_timestamp_option(pcb, opts);
1239:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     opts += 3;
1240:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1241:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1242:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
1243:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_WND_SCALE) {
1244:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_build_wnd_scale_option(opts);
1245:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     opts += 1;
1246:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1247:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1248:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1249:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Set retransmission timer running if it is not currently enabled
1250:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      This must be set before checking the route. */
1251:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->rtime < 0) {
 613              		.loc 1 1251 0
 614 003c B5F93030 		ldrsh	r3, [r5, #48]
 615 0040 002B     		cmp	r3, #0
 616 0042 2DDB     		blt	.L65
 617              	.L56:
1252:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtime = 0;
1253:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1254:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1255:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->rttest == 0) {
 618              		.loc 1 1255 0
 619 0044 6B6B     		ldr	r3, [r5, #52]
 620 0046 002B     		cmp	r3, #0
 621 0048 2DD0     		beq	.L66
 622              	.L57:
1256:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rttest = tcp_ticks;
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 35


1257:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtseq = lwip_ntohl(seg->tcphdr->seqno);
1258:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1259:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_output_segment: rtseq %"U32_F"\n", pcb->rtseq));
1260:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1261:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_output_segment: %"U32_F":%"U32_F"\n",
1262:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           lwip_htonl(seg->tcphdr->seqno), lwip_htonl(seg->tcphdr->seqno) +
1263:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           seg->len));
1264:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1265:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   len = (u16_t)((u8_t *)seg->tcphdr - (u8_t *)seg->p->payload);
 623              		.loc 1 1265 0
 624 004a E368     		ldr	r3, [r4, #12]
 625 004c 6268     		ldr	r2, [r4, #4]
 626 004e 5168     		ldr	r1, [r2, #4]
 627 0050 5B1A     		subs	r3, r3, r1
 628 0052 9BB2     		uxth	r3, r3
 629              	.LVL76:
1266:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (len == 0) {
1267:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /** Exclude retransmitted segments from this count. */
1268:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     MIB2_STATS_INC(mib2.tcpoutsegs);
1269:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1270:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1271:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p->len -= len;
 630              		.loc 1 1271 0
 631 0054 5189     		ldrh	r1, [r2, #10]
 632 0056 C91A     		subs	r1, r1, r3
 633 0058 5181     		strh	r1, [r2, #10]	@ movhi
1272:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p->tot_len -= len;
 634              		.loc 1 1272 0
 635 005a 6168     		ldr	r1, [r4, #4]
 636 005c 0A89     		ldrh	r2, [r1, #8]
 637 005e D31A     		subs	r3, r2, r3
 638              	.LVL77:
 639 0060 0B81     		strh	r3, [r1, #8]	@ movhi
1273:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1274:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p->payload = seg->tcphdr;
 640              		.loc 1 1274 0
 641 0062 6368     		ldr	r3, [r4, #4]
 642 0064 E268     		ldr	r2, [r4, #12]
 643 0066 5A60     		str	r2, [r3, #4]
1275:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1276:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->chksum = 0;
 644              		.loc 1 1276 0
 645 0068 E368     		ldr	r3, [r4, #12]
 646 006a 0022     		movs	r2, #0
 647 006c 1A74     		strb	r2, [r3, #16]
 648 006e 5A74     		strb	r2, [r3, #17]
1277:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
1278:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
1279:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
1280:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u32_t acc;
1281:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY_SANITY_CHECK
1282:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t chksum_slow = ip_chksum_pseudo(seg->p, IP_PROTO_TCP,
1283:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->p->tot_len, &pcb->local_ip, &pcb->remote_ip);
1284:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY_SANITY_CHECK */
1285:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((seg->flags & TF_SEG_DATA_CHECKSUMMED) == 0) {
1286:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("data included but not checksummed",
1287:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         seg->p->tot_len == (TCPH_HDRLEN(seg->tcphdr) * 4));
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 36


1288:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1289:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1290:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* rebuild TCP header checksum (TCP header changes for retransmissions!) */
1291:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     acc = ip_chksum_pseudo_partial(seg->p, IP_PROTO_TCP,
1292:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->p->tot_len, TCPH_HDRLEN(seg->tcphdr) * 4, &pcb->local_ip, &pcb->remote_ip);
1293:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* add payload checksum */
1294:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (seg->chksum_swapped) {
1295:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->chksum = SWAP_BYTES_IN_WORD(seg->chksum);
1296:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->chksum_swapped = 0;
1297:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1298:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     acc += (u16_t)~(seg->chksum);
1299:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->tcphdr->chksum = FOLD_U32T(acc);
1300:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY_SANITY_CHECK
1301:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (chksum_slow != seg->tcphdr->chksum) {
1302:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCP_CHECKSUM_ON_COPY_SANITY_CHECK_FAIL(
1303:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   ("tcp_output_segment: calculated checksum is %"X16_F" instead of %"X16_F"\n",
1304:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   seg->tcphdr->chksum, chksum_slow));
1305:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->tcphdr->chksum = chksum_slow;
1306:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1307:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY_SANITY_CHECK */
1308:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_CHECKSUM_ON_COPY */
1309:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->tcphdr->chksum = ip_chksum_pseudo(seg->p, IP_PROTO_TCP,
1310:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->p->tot_len, &pcb->local_ip, &pcb->remote_ip);
1311:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
1312:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1313:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* CHECKSUM_GEN_TCP */
1314:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCP_STATS_INC(tcp.xmit);
1315:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1316:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
1317:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err = ip_output_if(seg->p, &pcb->local_ip, &pcb->remote_ip, pcb->ttl,
 649              		.loc 1 1317 0
 650 0070 6068     		ldr	r0, [r4, #4]
 651 0072 AB7A     		ldrb	r3, [r5, #10]	@ zero_extendqisi2
 652 0074 6A7A     		ldrb	r2, [r5, #9]	@ zero_extendqisi2
 653 0076 0296     		str	r6, [sp, #8]
 654 0078 0621     		movs	r1, #6
 655 007a 0191     		str	r1, [sp, #4]
 656 007c 0092     		str	r2, [sp]
 657 007e 2A1D     		adds	r2, r5, #4
 658 0080 2946     		mov	r1, r5
 659 0082 FFF7FEFF 		bl	ip4_output_if
 660              	.LVL78:
1318:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->tos, IP_PROTO_TCP, netif);
1319:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   NETIF_SET_HWADDRHINT(netif, NULL);
1320:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return err;
1321:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 661              		.loc 1 1321 0
 662 0086 05B0     		add	sp, sp, #20
 663              	.LCFI6:
 664              		.cfi_remember_state
 665              		.cfi_def_cfa_offset 20
 666              		@ sp needed
 667 0088 F0BD     		pop	{r4, r5, r6, r7, pc}
 668              	.LVL79:
 669              	.L64:
 670              	.LCFI7:
 671              		.cfi_restore_state
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 37


 672              	.LBB2:
1227:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_CALCULATE_EFF_SEND_MSS */
 673              		.loc 1 1227 0
 674 008a 291D     		adds	r1, r5, #4
 675 008c 4FF40670 		mov	r0, #536
 676 0090 FFF7FEFF 		bl	tcp_eff_send_mss_impl
 677              	.LVL80:
1231:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     opts += 1;
 678              		.loc 1 1231 0
 679 0094 40F00170 		orr	r0, r0, #33816576
 680              	.LVL81:
 681 0098 FFF7FEFF 		bl	lwip_htonl
 682              	.LVL82:
 683 009c 7861     		str	r0, [r7, #20]
 684              	.LVL83:
 685 009e CDE7     		b	.L55
 686              	.LVL84:
 687              	.L65:
 688              	.LBE2:
1252:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 689              		.loc 1 1252 0
 690 00a0 0023     		movs	r3, #0
 691 00a2 2B86     		strh	r3, [r5, #48]	@ movhi
 692 00a4 CEE7     		b	.L56
 693              	.L66:
1256:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtseq = lwip_ntohl(seg->tcphdr->seqno);
 694              		.loc 1 1256 0
 695 00a6 044B     		ldr	r3, .L67
 696 00a8 1B68     		ldr	r3, [r3]
 697 00aa 6B63     		str	r3, [r5, #52]
1257:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 698              		.loc 1 1257 0
 699 00ac E368     		ldr	r3, [r4, #12]
 700 00ae 5868     		ldr	r0, [r3, #4]	@ unaligned
 701 00b0 FFF7FEFF 		bl	lwip_htonl
 702              	.LVL85:
 703 00b4 A863     		str	r0, [r5, #56]
 704 00b6 C8E7     		b	.L57
 705              	.L68:
 706              		.align	2
 707              	.L67:
 708 00b8 00000000 		.word	tcp_ticks
 709              		.cfi_endproc
 710              	.LFE161:
 712              		.section	.text.tcp_write,"ax",%progbits
 713              		.align	1
 714              		.global	tcp_write
 715              		.syntax unified
 716              		.thumb
 717              		.thumb_func
 718              		.fpu fpv5-sp-d16
 720              	tcp_write:
 721              	.LFB157:
 369:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *concat_p = NULL;
 722              		.loc 1 369 0
 723              		.cfi_startproc
 724              		@ args = 0, pretend = 0, frame = 48
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 38


 725              		@ frame_needed = 0, uses_anonymous_args = 0
 726              	.LVL86:
 727 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 728              	.LCFI8:
 729              		.cfi_def_cfa_offset 36
 730              		.cfi_offset 4, -36
 731              		.cfi_offset 5, -32
 732              		.cfi_offset 6, -28
 733              		.cfi_offset 7, -24
 734              		.cfi_offset 8, -20
 735              		.cfi_offset 9, -16
 736              		.cfi_offset 10, -12
 737              		.cfi_offset 11, -8
 738              		.cfi_offset 14, -4
 739 0004 91B0     		sub	sp, sp, #68
 740              	.LCFI9:
 741              		.cfi_def_cfa_offset 104
 742 0006 8146     		mov	r9, r0
 743 0008 0891     		str	r1, [sp, #32]
 744 000a 9246     		mov	r10, r2
 745 000c 0693     		str	r3, [sp, #24]
 746              	.LVL87:
 377:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t oversize_used = 0;
 747              		.loc 1 377 0
 748 000e 0023     		movs	r3, #0
 749              	.LVL88:
 750 0010 ADF83E30 		strh	r3, [sp, #62]	@ movhi
 751              	.LVL89:
 391:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   mss_local = mss_local ? mss_local : pcb->mss;
 752              		.loc 1 391 0
 753 0014 B0F85E30 		ldrh	r3, [r0, #94]
 754 0018 428E     		ldrh	r2, [r0, #50]
 755              	.LVL90:
 756 001a 0592     		str	r2, [sp, #20]
 757 001c 5B08     		lsrs	r3, r3, #1
 758 001e 9342     		cmp	r3, r2
 759 0020 28BF     		it	cs
 760 0022 1346     		movcs	r3, r2
 761              	.LVL91:
 392:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 762              		.loc 1 392 0
 763 0024 03B1     		cbz	r3, .L70
 764 0026 0593     		str	r3, [sp, #20]
 765              	.L70:
 766              	.LVL92:
 401:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****              arg != NULL, return ERR_ARG;);
 767              		.loc 1 401 0 discriminator 4
 768 0028 089B     		ldr	r3, [sp, #32]
 769 002a CBB1     		cbz	r3, .L131
 404:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (err != ERR_OK) {
 770              		.loc 1 404 0
 771 002c 5146     		mov	r1, r10
 772              	.LVL93:
 773 002e 4846     		mov	r0, r9
 774              	.LVL94:
 775 0030 FFF7FEFF 		bl	tcp_write_checks
 776              	.LVL95:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 39


 405:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return err;
 777              		.loc 1 405 0
 778 0034 0A90     		str	r0, [sp, #40]
 779 0036 0028     		cmp	r0, #0
 780 0038 40F0AC81 		bne	.L72
 408:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 781              		.loc 1 408 0
 782 003c B9F86260 		ldrh	r6, [r9, #98]
 783              	.LVL96:
 445:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t space;
 784              		.loc 1 445 0
 785 0040 D9F868B0 		ldr	fp, [r9, #104]
 786 0044 BBF1000F 		cmp	fp, #0
 787 0048 16D1     		bne	.L74
 548:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unsent_oversize == 0);
 788              		.loc 1 548 0
 789 004a B9F86440 		ldrh	r4, [r9, #100]
 790 004e 002C     		cmp	r4, #0
 791 0050 40F0D780 		bne	.L132
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 792              		.loc 1 383 0
 793 0054 0C94     		str	r4, [sp, #48]
 378:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 794              		.loc 1 378 0
 795 0056 0994     		str	r4, [sp, #36]
 371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t pos = 0; /* position in 'arg' data */
 796              		.loc 1 371 0
 797 0058 D846     		mov	r8, fp
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 798              		.loc 1 370 0
 799 005a 0023     		movs	r3, #0
 800 005c 0B93     		str	r3, [sp, #44]
 801 005e E2E0     		b	.L82
 802              	.LVL97:
 803              	.L131:
 401:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****              arg != NULL, return ERR_ARG;);
 804              		.loc 1 401 0 discriminator 1
 805 0060 B04B     		ldr	r3, .L150
 806 0062 4FF4C972 		mov	r2, #402
 807 0066 B049     		ldr	r1, .L150+4
 808              	.LVL98:
 809 0068 B048     		ldr	r0, .L150+8
 810              	.LVL99:
 811 006a FFF7FEFF 		bl	printf
 812              	.LVL100:
 813 006e 6FF00F03 		mvn	r3, #15
 814 0072 0A93     		str	r3, [sp, #40]
 815 0074 8EE1     		b	.L72
 816              	.LVL101:
 817              	.L114:
 818              	.LBB3:
 451:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 819              		.loc 1 451 0
 820 0076 BB46     		mov	fp, r7
 821              	.LVL102:
 822              	.L74:
 450:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          last_unsent = last_unsent->next);
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 40


 823              		.loc 1 450 0 discriminator 1
 824 0078 DBF80070 		ldr	r7, [fp]
 825 007c 002F     		cmp	r7, #0
 826 007e FAD1     		bne	.L114
 454:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("mss_local is too small", mss_local >= last_unsent->len + unsent_optlen);
 827              		.loc 1 454 0
 828 0080 9BF80A30 		ldrb	r3, [fp, #10]	@ zero_extendqisi2
 829 0084 13F0010F 		tst	r3, #1
 830 0088 46D0     		beq	.L115
 831 008a 0424     		movs	r4, #4
 832              	.L75:
 833              	.LVL103:
 455:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     space = mss_local - (last_unsent->len + unsent_optlen);
 834              		.loc 1 455 0 discriminator 4
 835 008c BBF80830 		ldrh	r3, [fp, #8]
 836 0090 2344     		add	r3, r3, r4
 837 0092 059A     		ldr	r2, [sp, #20]
 838 0094 9A42     		cmp	r2, r3
 839 0096 41DB     		blt	.L133
 840              	.LVL104:
 841              	.L76:
 456:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 842              		.loc 1 456 0
 843 0098 BBF80830 		ldrh	r3, [fp, #8]
 844 009c 1C44     		add	r4, r4, r3
 845              	.LVL105:
 846 009e A4B2     		uxth	r4, r4
 847 00a0 059B     		ldr	r3, [sp, #20]
 848 00a2 1C1B     		subs	r4, r3, r4
 849 00a4 A4B2     		uxth	r4, r4
 850              	.LVL106:
 471:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (oversize > 0) {
 851              		.loc 1 471 0
 852 00a6 B9F86430 		ldrh	r3, [r9, #100]
 853 00aa 0993     		str	r3, [sp, #36]
 854 00ac ADF83E30 		strh	r3, [sp, #62]	@ movhi
 472:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("inconsistent oversize vs. space", oversize <= space);
 855              		.loc 1 472 0
 856 00b0 002B     		cmp	r3, #0
 857 00b2 45D0     		beq	.L116
 473:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 858              		.loc 1 473 0
 859 00b4 9C42     		cmp	r4, r3
 860 00b6 39D3     		bcc	.L134
 861              	.L78:
 862              	.LVL107:
 475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 863              		.loc 1 475 0
 864 00b8 BDF83E30 		ldrh	r3, [sp, #62]
 865 00bc 9A45     		cmp	r10, r3
 866 00be 3DD9     		bls	.L79
 475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 867              		.loc 1 475 0 is_stmt 0 discriminator 1
 868 00c0 1A46     		mov	r2, r3
 869              	.L80:
 475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 870              		.loc 1 475 0 discriminator 4
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 41


 871 00c2 A242     		cmp	r2, r4
 872 00c4 A8BF     		it	ge
 873 00c6 2246     		movge	r2, r4
 874 00c8 0992     		str	r2, [sp, #36]
 875              	.LVL108:
 477:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       space -= oversize_used;
 876              		.loc 1 477 0 is_stmt 1 discriminator 4
 877 00ca 9B1A     		subs	r3, r3, r2
 878 00cc ADF83E30 		strh	r3, [sp, #62]	@ movhi
 478:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 879              		.loc 1 478 0 discriminator 4
 880 00d0 A41A     		subs	r4, r4, r2
 881              	.LVL109:
 882 00d2 A4B2     		uxth	r4, r4
 883              	.LVL110:
 474:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       oversize_used = LWIP_MIN(space, LWIP_MIN(oversize, len));
 884              		.loc 1 474 0 discriminator 4
 885 00d4 D846     		mov	r8, fp
 886              	.LVL111:
 887              	.L77:
 481:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 888              		.loc 1 481 0
 889 00d6 BDF83E30 		ldrh	r3, [sp, #62]
 890 00da 099A     		ldr	r2, [sp, #36]
 891 00dc 002B     		cmp	r3, #0
 892 00de 18BF     		it	ne
 893 00e0 5245     		cmpne	r2, r10
 894 00e2 2FD1     		bne	.L135
 895              	.L81:
 495:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       u16_t seglen = LWIP_MIN(space, len - pos);
 896              		.loc 1 495 0
 897 00e4 099A     		ldr	r2, [sp, #36]
 898 00e6 002C     		cmp	r4, #0
 899 00e8 18BF     		it	ne
 900 00ea 5245     		cmpne	r2, r10
 901 00ec 80F09780 		bcs	.L117
 495:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       u16_t seglen = LWIP_MIN(space, len - pos);
 902              		.loc 1 495 0 is_stmt 0 discriminator 1
 903 00f0 BBF80830 		ldrh	r3, [fp, #8]
 904 00f4 0C93     		str	r3, [sp, #48]
 905 00f6 002B     		cmp	r3, #0
 906 00f8 00F09A80 		beq	.L118
 907              	.LBB4:
 496:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 908              		.loc 1 496 0 is_stmt 1
 909 00fc AAEB0205 		sub	r5, r10, r2
 910 0100 A542     		cmp	r5, r4
 911 0102 A8BF     		it	ge
 912 0104 2546     		movge	r5, r4
 913 0106 1FFA85F8 		uxth	r8, r5
 914              	.LVL112:
 502:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* Data is copied */
 915              		.loc 1 502 0
 916 010a 069B     		ldr	r3, [sp, #24]
 917 010c 13F0010F 		tst	r3, #1
 918 0110 20D1     		bne	.L136
 919              	.LBB5:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 42


 522:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if (p->type == PBUF_ROM && (const u8_t *)p->payload + p->len == (const u8_t *)arg) {
 920              		.loc 1 522 0
 921 0112 DBF80430 		ldr	r3, [fp, #4]
 922              	.LVL113:
 923 0116 3FE0     		b	.L86
 924              	.LVL114:
 925              	.L115:
 926              	.LBE5:
 927              	.LBE4:
 454:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("mss_local is too small", mss_local >= last_unsent->len + unsent_optlen);
 928              		.loc 1 454 0
 929 0118 0024     		movs	r4, #0
 930 011a B7E7     		b	.L75
 931              	.LVL115:
 932              	.L133:
 455:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     space = mss_local - (last_unsent->len + unsent_optlen);
 933              		.loc 1 455 0 discriminator 1
 934 011c 814B     		ldr	r3, .L150
 935 011e 40F2C712 		movw	r2, #455
 936 0122 8349     		ldr	r1, .L150+12
 937 0124 8148     		ldr	r0, .L150+8
 938              	.LVL116:
 939 0126 FFF7FEFF 		bl	printf
 940              	.LVL117:
 941 012a B5E7     		b	.L76
 942              	.LVL118:
 943              	.L134:
 473:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 944              		.loc 1 473 0 discriminator 1
 945 012c 7D4B     		ldr	r3, .L150
 946 012e 40F2D912 		movw	r2, #473
 947 0132 8049     		ldr	r1, .L150+16
 948 0134 7D48     		ldr	r0, .L150+8
 949 0136 FFF7FEFF 		bl	printf
 950              	.LVL119:
 951 013a BDE7     		b	.L78
 952              	.LVL120:
 953              	.L79:
 475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 954              		.loc 1 475 0 discriminator 2
 955 013c 5246     		mov	r2, r10
 956 013e C0E7     		b	.L80
 957              	.LVL121:
 958              	.L116:
 959              	.LBE3:
 371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t pos = 0; /* position in 'arg' data */
 960              		.loc 1 371 0
 961 0140 B846     		mov	r8, r7
 962 0142 C8E7     		b	.L77
 963              	.LVL122:
 964              	.L135:
 965              	.LBB11:
 481:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 966              		.loc 1 481 0 discriminator 1
 967 0144 774B     		ldr	r3, .L150
 968 0146 40F2E112 		movw	r2, #481
 969 014a 7B49     		ldr	r1, .L150+20
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 43


 970 014c 7748     		ldr	r0, .L150+8
 971 014e FFF7FEFF 		bl	printf
 972              	.LVL123:
 973 0152 C7E7     		b	.L81
 974              	.LVL124:
 975              	.L136:
 976              	.LBB8:
 504:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 977              		.loc 1 504 0
 978 0154 0123     		movs	r3, #1
 979 0156 0293     		str	r3, [sp, #8]
 980 0158 069B     		ldr	r3, [sp, #24]
 981 015a 0193     		str	r3, [sp, #4]
 982 015c CDF80090 		str	r9, [sp]
 983 0160 0DF13E03 		add	r3, sp, #62
 984 0164 2246     		mov	r2, r4
 985 0166 4146     		mov	r1, r8
 986 0168 0420     		movs	r0, #4
 987 016a FFF7FEFF 		bl	tcp_pbuf_prealloc
 988              	.LVL125:
 989 016e 0446     		mov	r4, r0
 990              	.LVL126:
 991 0170 0B90     		str	r0, [sp, #44]
 992 0172 0028     		cmp	r0, #0
 993 0174 00F0ED80 		beq	.L84
 513:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 994              		.loc 1 513 0
 995 0178 4246     		mov	r2, r8
 996 017a 0899     		ldr	r1, [sp, #32]
 997 017c 0998     		ldr	r0, [sp, #36]
 998              	.LVL127:
 999 017e 0144     		add	r1, r1, r0
 1000 0180 6068     		ldr	r0, [r4, #4]
 1001 0182 FFF7FEFF 		bl	memcpy
 1002              	.LVL128:
 517:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       } else {
 1003              		.loc 1 517 0
 1004 0186 2046     		mov	r0, r4
 1005 0188 FFF7FEFF 		bl	pbuf_clen
 1006              	.LVL129:
 1007 018c 0644     		add	r6, r6, r0
 1008              	.LVL130:
 1009 018e B6B2     		uxth	r6, r6
 1010              	.LVL131:
 1011              	.LBE8:
 1012              	.LBE11:
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 1013              		.loc 1 383 0
 1014 0190 0023     		movs	r3, #0
 1015 0192 0C93     		str	r3, [sp, #48]
 1016              	.LBB12:
 1017              	.LBB9:
 1018 0194 1AE0     		b	.L85
 1019              	.LVL132:
 1020              	.L119:
 1021              	.LBB6:
 522:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if (p->type == PBUF_ROM && (const u8_t *)p->payload + p->len == (const u8_t *)arg) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 44


 1022              		.loc 1 522 0
 1023 0196 1346     		mov	r3, r2
 1024              	.LVL133:
 1025              	.L86:
 522:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if (p->type == PBUF_ROM && (const u8_t *)p->payload + p->len == (const u8_t *)arg) {
 1026              		.loc 1 522 0 is_stmt 0 discriminator 1
 1027 0198 1A68     		ldr	r2, [r3]
 1028 019a 002A     		cmp	r2, #0
 1029 019c FBD1     		bne	.L119
 1030 019e 0B92     		str	r2, [sp, #44]
 523:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_ASSERT("tcp_write: ROM pbufs cannot be oversized", pos == 0);
 1031              		.loc 1 523 0 is_stmt 1
 1032 01a0 1A7B     		ldrb	r2, [r3, #12]	@ zero_extendqisi2
 1033 01a2 012A     		cmp	r2, #1
 1034 01a4 18D0     		beq	.L137
 1035              	.LVL134:
 1036              	.L87:
 527:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 1037              		.loc 1 527 0
 1038 01a6 0122     		movs	r2, #1
 1039 01a8 4146     		mov	r1, r8
 1040 01aa 0420     		movs	r0, #4
 1041 01ac FFF7FEFF 		bl	pbuf_alloc
 1042              	.LVL135:
 1043 01b0 0B90     		str	r0, [sp, #44]
 1044 01b2 0028     		cmp	r0, #0
 1045 01b4 00F0CD80 		beq	.L84
 533:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           queuelen += pbuf_clen(concat_p);
 1046              		.loc 1 533 0
 1047 01b8 089B     		ldr	r3, [sp, #32]
 1048 01ba 0999     		ldr	r1, [sp, #36]
 1049 01bc 0B44     		add	r3, r3, r1
 1050 01be 4360     		str	r3, [r0, #4]
 534:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
 1051              		.loc 1 534 0
 1052 01c0 FFF7FEFF 		bl	pbuf_clen
 1053              	.LVL136:
 1054 01c4 0644     		add	r6, r6, r0
 1055              	.LVL137:
 1056 01c6 B6B2     		uxth	r6, r6
 1057              	.LVL138:
 1058              	.LBE6:
 1059              	.LBE9:
 1060              	.LBE12:
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 1061              		.loc 1 383 0
 1062 01c8 0023     		movs	r3, #0
 1063 01ca 0C93     		str	r3, [sp, #48]
 1064              	.LVL139:
 1065              	.L85:
 1066              	.LBB13:
 1067              	.LBB10:
 544:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1068              		.loc 1 544 0
 1069 01cc 099B     		ldr	r3, [sp, #36]
 1070 01ce 03EB0804 		add	r4, r3, r8
 1071 01d2 A4B2     		uxth	r4, r4
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 45


 1072              	.LVL140:
 497:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1073              		.loc 1 497 0
 1074 01d4 D846     		mov	r8, fp
 1075              	.LVL141:
 1076 01d6 26E0     		b	.L82
 1077              	.LVL142:
 1078              	.L137:
 1079              	.LBB7:
 523:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_ASSERT("tcp_write: ROM pbufs cannot be oversized", pos == 0);
 1080              		.loc 1 523 0 discriminator 1
 1081 01d8 5A68     		ldr	r2, [r3, #4]
 1082 01da 5B89     		ldrh	r3, [r3, #10]
 1083              	.LVL143:
 1084 01dc 1344     		add	r3, r3, r2
 1085 01de 089A     		ldr	r2, [sp, #32]
 1086 01e0 9A42     		cmp	r2, r3
 1087 01e2 E0D1     		bne	.L87
 524:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           extendlen = seglen;
 1088              		.loc 1 524 0
 1089 01e4 099B     		ldr	r3, [sp, #36]
 1090 01e6 13B9     		cbnz	r3, .L138
 525:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         } else {
 1091              		.loc 1 525 0
 1092 01e8 CDF83080 		str	r8, [sp, #48]
 1093 01ec EEE7     		b	.L85
 1094              	.L138:
 524:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           extendlen = seglen;
 1095              		.loc 1 524 0 discriminator 1
 1096 01ee 4D4B     		ldr	r3, .L150
 1097 01f0 4FF40372 		mov	r2, #524
 1098 01f4 5149     		ldr	r1, .L150+24
 1099 01f6 4D48     		ldr	r0, .L150+8
 1100 01f8 FFF7FEFF 		bl	printf
 1101              	.LVL144:
 525:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         } else {
 1102              		.loc 1 525 0 discriminator 1
 1103 01fc CDF83080 		str	r8, [sp, #48]
 1104 0200 E4E7     		b	.L85
 1105              	.LVL145:
 1106              	.L132:
 1107              	.LBE7:
 1108              	.LBE10:
 1109              	.LBE13:
 548:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unsent_oversize == 0);
 1110              		.loc 1 548 0 discriminator 1
 1111 0202 484B     		ldr	r3, .L150
 1112 0204 40F22522 		movw	r2, #549
 1113 0208 4D49     		ldr	r1, .L150+28
 1114 020a 4848     		ldr	r0, .L150+8
 1115              	.LVL146:
 1116 020c FFF7FEFF 		bl	printf
 1117              	.LVL147:
 371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t pos = 0; /* position in 'arg' data */
 1118              		.loc 1 371 0 discriminator 1
 1119 0210 D846     		mov	r8, fp
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 46


 1120              		.loc 1 383 0 discriminator 1
 1121 0212 0023     		movs	r3, #0
 1122 0214 0C93     		str	r3, [sp, #48]
 378:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 1123              		.loc 1 378 0 discriminator 1
 1124 0216 0993     		str	r3, [sp, #36]
 372:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t queuelen;
 1125              		.loc 1 372 0 discriminator 1
 1126 0218 1C46     		mov	r4, r3
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 1127              		.loc 1 370 0 discriminator 1
 1128 021a 0B93     		str	r3, [sp, #44]
 1129 021c 03E0     		b	.L82
 1130              	.LVL148:
 1131              	.L117:
 1132              	.LBB14:
 1133 021e 099C     		ldr	r4, [sp, #36]
 1134              	.LVL149:
 1135              	.LBE14:
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 1136              		.loc 1 383 0
 1137 0220 0023     		movs	r3, #0
 1138 0222 0C93     		str	r3, [sp, #48]
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 1139              		.loc 1 370 0
 1140 0224 0B93     		str	r3, [sp, #44]
 1141              	.LVL150:
 1142              	.L82:
 1143              	.LBB15:
 642:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 1144              		.loc 1 642 0
 1145 0226 0027     		movs	r7, #0
 1146 0228 CDF834B0 		str	fp, [sp, #52]
 1147 022c BB46     		mov	fp, r7
 1148 022e 5BE0     		b	.L88
 1149              	.LVL151:
 1150              	.L118:
 1151              	.LBE15:
 1152              	.LBB18:
 1153 0230 099C     		ldr	r4, [sp, #36]
 1154              	.LVL152:
 1155              	.LBE18:
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 1156              		.loc 1 370 0
 1157 0232 0023     		movs	r3, #0
 1158 0234 0B93     		str	r3, [sp, #44]
 1159 0236 F6E7     		b	.L82
 1160              	.LVL153:
 1161              	.L144:
 1162              	.LBB19:
 572:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write : could not allocate mem
 1163              		.loc 1 572 0
 1164 0238 B7FA87F3 		clz	r3, r7
 1165 023c 5B09     		lsrs	r3, r3, #5
 1166 023e 0293     		str	r3, [sp, #8]
 1167 0240 069B     		ldr	r3, [sp, #24]
 1168 0242 0193     		str	r3, [sp, #4]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 47


 1169 0244 CDF80090 		str	r9, [sp]
 1170 0248 0DF13E03 		add	r3, sp, #62
 1171 024c 059A     		ldr	r2, [sp, #20]
 1172 024e 2946     		mov	r1, r5
 1173 0250 0020     		movs	r0, #0
 1174 0252 FFF7FEFF 		bl	tcp_pbuf_prealloc
 1175              	.LVL154:
 1176 0256 8046     		mov	r8, r0
 1177              	.LVL155:
 1178 0258 0028     		cmp	r0, #0
 1179 025a 7AD0     		beq	.L84
 576:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   (p->len >= seglen));
 1180              		.loc 1 576 0
 1181 025c 4389     		ldrh	r3, [r0, #10]
 1182 025e 9D42     		cmp	r5, r3
 1183 0260 07D8     		bhi	.L139
 1184              	.LVL156:
 1185              	.L90:
 578:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 1186              		.loc 1 578 0
 1187 0262 2A46     		mov	r2, r5
 1188 0264 089B     		ldr	r3, [sp, #32]
 1189 0266 1919     		adds	r1, r3, r4
 1190 0268 D8F80400 		ldr	r0, [r8, #4]
 1191 026c FFF7FEFF 		bl	memcpy
 1192              	.LVL157:
 1193 0270 1DE0     		b	.L91
 1194              	.LVL158:
 1195              	.L139:
 576:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   (p->len >= seglen));
 1196              		.loc 1 576 0 discriminator 1
 1197 0272 2C4B     		ldr	r3, .L150
 1198 0274 40F24122 		movw	r2, #577
 1199 0278 3249     		ldr	r1, .L150+32
 1200 027a 2C48     		ldr	r0, .L150+8
 1201              	.LVL159:
 1202 027c FFF7FEFF 		bl	printf
 1203              	.LVL160:
 1204 0280 EFE7     		b	.L90
 1205              	.LVL161:
 1206              	.L92:
 1207              	.LBB16:
 589:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: could not allocate memo
 1208              		.loc 1 589 0
 1209 0282 0122     		movs	r2, #1
 1210 0284 2946     		mov	r1, r5
 1211 0286 0020     		movs	r0, #0
 1212 0288 FFF7FEFF 		bl	pbuf_alloc
 1213              	.LVL162:
 1214 028c 0790     		str	r0, [sp, #28]
 1215 028e 0028     		cmp	r0, #0
 1216 0290 5FD0     		beq	.L84
 602:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1217              		.loc 1 602 0
 1218 0292 089B     		ldr	r3, [sp, #32]
 1219 0294 2344     		add	r3, r3, r4
 1220 0296 4360     		str	r3, [r0, #4]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 48


 605:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* If allocation fails, we have to deallocate the data pbuf as
 1221              		.loc 1 605 0
 1222 0298 0022     		movs	r2, #0
 1223 029a 1146     		mov	r1, r2
 1224 029c 1046     		mov	r0, r2
 1225              	.LVL163:
 1226 029e FFF7FEFF 		bl	pbuf_alloc
 1227              	.LVL164:
 1228 02a2 8046     		mov	r8, r0
 1229              	.LVL165:
 1230 02a4 0028     		cmp	r0, #0
 1231 02a6 38D0     		beq	.L140
 613:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1232              		.loc 1 613 0
 1233 02a8 0799     		ldr	r1, [sp, #28]
 1234 02aa FFF7FEFF 		bl	pbuf_cat
 1235              	.LVL166:
 1236              	.L91:
 1237              	.LBE16:
 616:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1238              		.loc 1 616 0
 1239 02ae 4046     		mov	r0, r8
 1240 02b0 FFF7FEFF 		bl	pbuf_clen
 1241              	.LVL167:
 1242 02b4 0644     		add	r6, r6, r0
 1243              	.LVL168:
 1244 02b6 B6B2     		uxth	r6, r6
 1245              	.LVL169:
 621:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: queue too long %"U16_F" (
 1246              		.loc 1 621 0
 1247 02b8 092E     		cmp	r6, #9
 1248 02ba 47D8     		bhi	.L141
 628:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       goto memerr;
 1249              		.loc 1 628 0
 1250 02bc D9F85830 		ldr	r3, [r9, #88]
 1251 02c0 0022     		movs	r2, #0
 1252 02c2 0092     		str	r2, [sp]
 1253 02c4 2344     		add	r3, r3, r4
 1254 02c6 4146     		mov	r1, r8
 1255 02c8 4846     		mov	r0, r9
 1256 02ca FFF7FEFF 		bl	tcp_create_segment
 1257              	.LVL170:
 1258 02ce 8046     		mov	r8, r0
 1259              	.LVL171:
 1260 02d0 0028     		cmp	r0, #0
 1261 02d2 3ED0     		beq	.L84
 641:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       queue = seg;
 1262              		.loc 1 641 0
 1263 02d4 002F     		cmp	r7, #0
 1264 02d6 69D0     		beq	.L122
 645:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       prev_seg->next = seg;
 1265              		.loc 1 645 0
 1266 02d8 BBF1000F 		cmp	fp, #0
 1267 02dc 5ED0     		beq	.L142
 1268              	.LVL172:
 1269              	.L96:
 646:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 49


 1270              		.loc 1 646 0
 1271 02de CBF80080 		str	r8, [fp]
 1272              	.LVL173:
 1273              	.L95:
 655:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1274              		.loc 1 655 0
 1275 02e2 2C44     		add	r4, r4, r5
 1276              	.LVL174:
 1277 02e4 A4B2     		uxth	r4, r4
 1278              	.LVL175:
 649:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1279              		.loc 1 649 0
 1280 02e6 C346     		mov	fp, r8
 1281              	.LVL176:
 1282              	.L88:
 1283              	.LBE19:
 559:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 1284              		.loc 1 559 0
 1285 02e8 5445     		cmp	r4, r10
 1286 02ea 61D2     		bcs	.L143
 1287              	.LBB20:
 561:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t max_len = mss_local - optlen;
 1288              		.loc 1 561 0
 1289 02ec AAEB0405 		sub	r5, r10, r4
 1290 02f0 ADB2     		uxth	r5, r5
 1291              	.LVL177:
 563:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 1292              		.loc 1 563 0
 1293 02f2 059B     		ldr	r3, [sp, #20]
 1294 02f4 9D42     		cmp	r5, r3
 1295 02f6 28BF     		it	cs
 1296 02f8 1D46     		movcs	r5, r3
 1297              	.LVL178:
 569:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* If copy is set, memory should be allocated and data copied
 1298              		.loc 1 569 0
 1299 02fa 069B     		ldr	r3, [sp, #24]
 1300 02fc 13F0010F 		tst	r3, #1
 1301 0300 9AD1     		bne	.L144
 1302              	.LBB17:
 587:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 1303              		.loc 1 587 0
 1304 0302 BDF83E30 		ldrh	r3, [sp, #62]
 1305 0306 002B     		cmp	r3, #0
 1306 0308 BBD0     		beq	.L92
 587:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 1307              		.loc 1 587 0 is_stmt 0 discriminator 1
 1308 030a 064B     		ldr	r3, .L150
 1309 030c 40F24B22 		movw	r2, #587
 1310 0310 0D49     		ldr	r1, .L150+36
 1311 0312 0648     		ldr	r0, .L150+8
 1312 0314 FFF7FEFF 		bl	printf
 1313              	.LVL179:
 1314 0318 B3E7     		b	.L92
 1315              	.LVL180:
 1316              	.L140:
 608:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: could not allocate memo
 1317              		.loc 1 608 0 is_stmt 1
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 50


 1318 031a 0798     		ldr	r0, [sp, #28]
 1319              	.LVL181:
 1320 031c FFF7FEFF 		bl	pbuf_free
 1321              	.LVL182:
 610:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 1322              		.loc 1 610 0
 1323 0320 17E0     		b	.L84
 1324              	.L151:
 1325 0322 00BF     		.align	2
 1326              	.L150:
 1327 0324 00000000 		.word	.LC0
 1328 0328 00000000 		.word	.LC7
 1329 032c 6C000000 		.word	.LC2
 1330 0330 34000000 		.word	.LC8
 1331 0334 4C000000 		.word	.LC9
 1332 0338 6C000000 		.word	.LC10
 1333 033c 8C000000 		.word	.LC11
 1334 0340 B8000000 		.word	.LC12
 1335 0344 E8000000 		.word	.LC13
 1336 0348 28010000 		.word	.LC14
 1337              	.LVL183:
 1338              	.L141:
 1339              	.LBE17:
 624:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       goto memerr;
 1340              		.loc 1 624 0
 1341 034c 4046     		mov	r0, r8
 1342 034e FFF7FEFF 		bl	pbuf_free
 1343              	.LVL184:
 1344              	.L84:
 1345              	.LBE20:
 759:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCP_STATS_INC(tcp.memerr);
 1346              		.loc 1 759 0
 1347 0352 99F81A30 		ldrb	r3, [r9, #26]	@ zero_extendqisi2
 1348 0356 63F07F03 		orn	r3, r3, #127
 1349 035a 89F81A30 		strb	r3, [r9, #26]
 762:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_free(concat_p);
 1350              		.loc 1 762 0
 1351 035e 0B9B     		ldr	r3, [sp, #44]
 1352 0360 13B1     		cbz	r3, .L112
 763:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1353              		.loc 1 763 0
 1354 0362 1846     		mov	r0, r3
 1355 0364 FFF7FEFF 		bl	pbuf_free
 1356              	.LVL185:
 1357              	.L112:
 765:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_segs_free(queue);
 1358              		.loc 1 765 0
 1359 0368 17B1     		cbz	r7, .L113
 766:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1360              		.loc 1 766 0
 1361 036a 3846     		mov	r0, r7
 1362 036c FFF7FEFF 		bl	tcp_segs_free
 1363              	.LVL186:
 1364              	.L113:
 768:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: valid queue length", pcb->unacked != NULL ||
 1365              		.loc 1 768 0
 1366 0370 B9F86230 		ldrh	r3, [r9, #98]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 51


 1367 0374 002B     		cmp	r3, #0
 1368 0376 00F0C680 		beq	.L123
 769:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unsent != NULL);
 1369              		.loc 1 769 0
 1370 037a D9F86C30 		ldr	r3, [r9, #108]
 1371 037e 002B     		cmp	r3, #0
 1372 0380 40F0C580 		bne	.L124
 769:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unsent != NULL);
 1373              		.loc 1 769 0 is_stmt 0 discriminator 1
 1374 0384 D9F86830 		ldr	r3, [r9, #104]
 1375 0388 002B     		cmp	r3, #0
 1376 038a 00F0B180 		beq	.L145
 773:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1377              		.loc 1 773 0 is_stmt 1
 1378 038e 4FF0FF33 		mov	r3, #-1
 1379 0392 0A93     		str	r3, [sp, #40]
 1380              	.LVL187:
 1381              	.L72:
 774:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1382              		.loc 1 774 0
 1383 0394 0A98     		ldr	r0, [sp, #40]
 1384 0396 11B0     		add	sp, sp, #68
 1385              	.LCFI10:
 1386              		.cfi_remember_state
 1387              		.cfi_def_cfa_offset 36
 1388              		@ sp needed
 1389 0398 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1390              	.LVL188:
 1391              	.L142:
 1392              	.LCFI11:
 1393              		.cfi_restore_state
 1394              	.LBB21:
 645:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       prev_seg->next = seg;
 1395              		.loc 1 645 0 discriminator 1
 1396 039c 5E4B     		ldr	r3, .L152
 1397 039e 40F28522 		movw	r2, #645
 1398 03a2 5E49     		ldr	r1, .L152+4
 1399 03a4 5E48     		ldr	r0, .L152+8
 1400              	.LVL189:
 1401 03a6 FFF7FEFF 		bl	printf
 1402              	.LVL190:
 1403 03aa 98E7     		b	.L96
 1404              	.LVL191:
 1405              	.L122:
 642:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 1406              		.loc 1 642 0
 1407 03ac 0746     		mov	r7, r0
 1408              	.LVL192:
 1409 03ae 98E7     		b	.L95
 1410              	.LVL193:
 1411              	.L143:
 1412 03b0 DDF834B0 		ldr	fp, [sp, #52]
 1413              	.LVL194:
 1414              	.LBE21:
 673:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 1415              		.loc 1 673 0
 1416 03b4 099B     		ldr	r3, [sp, #36]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 52


 1417 03b6 E3B1     		cbz	r3, .L98
 1418              	.LBB22:
 676:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += oversize_used;
 1419              		.loc 1 676 0
 1420 03b8 DBF80440 		ldr	r4, [fp, #4]
 1421              	.LVL195:
 1422 03bc 1D46     		mov	r5, r3
 1423 03be 00E0     		b	.L99
 1424              	.L100:
 676:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += oversize_used;
 1425              		.loc 1 676 0 is_stmt 0 discriminator 2
 1426 03c0 2468     		ldr	r4, [r4]
 1427              	.LVL196:
 1428              	.L99:
 676:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += oversize_used;
 1429              		.loc 1 676 0 discriminator 1
 1430 03c2 84B1     		cbz	r4, .L146
 677:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (p->next == NULL) {
 1431              		.loc 1 677 0 is_stmt 1
 1432 03c4 2389     		ldrh	r3, [r4, #8]
 1433 03c6 2B44     		add	r3, r3, r5
 1434 03c8 2381     		strh	r3, [r4, #8]	@ movhi
 678:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         TCP_DATA_COPY((char *)p->payload + p->len, arg, oversize_used, last_unsent);
 1435              		.loc 1 678 0
 1436 03ca 2368     		ldr	r3, [r4]
 1437 03cc 002B     		cmp	r3, #0
 1438 03ce F7D1     		bne	.L100
 679:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         p->len += oversize_used;
 1439              		.loc 1 679 0
 1440 03d0 6068     		ldr	r0, [r4, #4]
 1441 03d2 6389     		ldrh	r3, [r4, #10]
 1442 03d4 2A46     		mov	r2, r5
 1443 03d6 0899     		ldr	r1, [sp, #32]
 1444 03d8 1844     		add	r0, r0, r3
 1445 03da FFF7FEFF 		bl	memcpy
 1446              	.LVL197:
 680:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 1447              		.loc 1 680 0
 1448 03de 6389     		ldrh	r3, [r4, #10]
 1449 03e0 2B44     		add	r3, r3, r5
 1450 03e2 6381     		strh	r3, [r4, #10]	@ movhi
 1451 03e4 ECE7     		b	.L100
 1452              	.L146:
 683:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 1453              		.loc 1 683 0
 1454 03e6 BBF80830 		ldrh	r3, [fp, #8]
 1455 03ea 099A     		ldr	r2, [sp, #36]
 1456 03ec 1A44     		add	r2, r2, r3
 1457 03ee ABF80820 		strh	r2, [fp, #8]	@ movhi
 1458              	.LVL198:
 1459              	.L98:
 1460              	.LBE22:
 690:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 1461              		.loc 1 690 0
 1462 03f2 BDF83E30 		ldrh	r3, [sp, #62]
 1463 03f6 A9F86430 		strh	r3, [r9, #100]	@ movhi
 697:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: cannot concatenate when pcb->unsent is empty",
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 53


 1464              		.loc 1 697 0
 1465 03fa 0B9B     		ldr	r3, [sp, #44]
 1466 03fc 002B     		cmp	r3, #0
 1467 03fe 3FD0     		beq	.L102
 698:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (last_unsent != NULL));
 1468              		.loc 1 698 0
 1469 0400 BBF1000F 		cmp	fp, #0
 1470 0404 34D0     		beq	.L147
 1471              	.L103:
 700:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += concat_p->tot_len;
 1472              		.loc 1 700 0
 1473 0406 0B9C     		ldr	r4, [sp, #44]
 1474 0408 2146     		mov	r1, r4
 1475 040a DBF80400 		ldr	r0, [fp, #4]
 1476 040e FFF7FEFF 		bl	pbuf_cat
 1477              	.LVL199:
 701:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else if (extendlen > 0) {
 1478              		.loc 1 701 0
 1479 0412 2389     		ldrh	r3, [r4, #8]
 1480 0414 BBF80820 		ldrh	r2, [fp, #8]
 1481 0418 1344     		add	r3, r3, r2
 1482 041a ABF80830 		strh	r3, [fp, #8]	@ movhi
 1483              	.L104:
 732:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = queue;
 1484              		.loc 1 732 0
 1485 041e BBF1000F 		cmp	fp, #0
 1486 0422 56D0     		beq	.L148
 735:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1487              		.loc 1 735 0
 1488 0424 CBF80070 		str	r7, [fp]
 1489              	.L110:
 741:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_buf -= len;
 1490              		.loc 1 741 0
 1491 0428 D9F85830 		ldr	r3, [r9, #88]
 1492 042c 5344     		add	r3, r3, r10
 1493 042e C9F85830 		str	r3, [r9, #88]
 742:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_queuelen = queuelen;
 1494              		.loc 1 742 0
 1495 0432 B9F86030 		ldrh	r3, [r9, #96]
 1496 0436 A3EB0A0A 		sub	r10, r3, r10
 1497 043a A9F860A0 		strh	r10, [r9, #96]	@ movhi
 743:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1498              		.loc 1 743 0
 1499 043e A9F86260 		strh	r6, [r9, #98]	@ movhi
 747:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: valid queue length",
 1500              		.loc 1 747 0
 1501 0442 1EB1     		cbz	r6, .L111
 748:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unacked != NULL || pcb->unsent != NULL);
 1502              		.loc 1 748 0
 1503 0444 D9F86C30 		ldr	r3, [r9, #108]
 1504 0448 002B     		cmp	r3, #0
 1505 044a 45D0     		beq	.L149
 1506              	.L111:
 753:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_SET_FLAG(seg->tcphdr, TCP_PSH);
 1507              		.loc 1 753 0
 1508 044c B8F1000F 		cmp	r8, #0
 1509 0450 A0D0     		beq	.L72
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 54


 753:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_SET_FLAG(seg->tcphdr, TCP_PSH);
 1510              		.loc 1 753 0 is_stmt 0 discriminator 1
 1511 0452 D8F80C40 		ldr	r4, [r8, #12]
 1512 0456 002C     		cmp	r4, #0
 1513 0458 9CD0     		beq	.L72
 753:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_SET_FLAG(seg->tcphdr, TCP_PSH);
 1514              		.loc 1 753 0 discriminator 2
 1515 045a 069B     		ldr	r3, [sp, #24]
 1516 045c 13F0020F 		tst	r3, #2
 1517 0460 98D1     		bne	.L72
 754:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1518              		.loc 1 754 0 is_stmt 1
 1519 0462 A589     		ldrh	r5, [r4, #12]	@ unaligned
 1520 0464 0820     		movs	r0, #8
 1521 0466 FFF7FEFF 		bl	lwip_htons
 1522              	.LVL200:
 1523 046a 2843     		orrs	r0, r0, r5
 1524 046c A081     		strh	r0, [r4, #12]	@ unaligned
 1525 046e 91E7     		b	.L72
 1526              	.L147:
 698:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (last_unsent != NULL));
 1527              		.loc 1 698 0 discriminator 1
 1528 0470 294B     		ldr	r3, .L152
 1529 0472 40F2BB22 		movw	r2, #699
 1530 0476 2B49     		ldr	r1, .L152+12
 1531 0478 2948     		ldr	r0, .L152+8
 1532 047a FFF7FEFF 		bl	printf
 1533              	.LVL201:
 1534 047e C2E7     		b	.L103
 1535              	.L102:
 702:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 1536              		.loc 1 702 0
 1537 0480 0C9B     		ldr	r3, [sp, #48]
 1538 0482 002B     		cmp	r3, #0
 1539 0484 CBD0     		beq	.L104
 1540              	.LBB23:
 704:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       last_unsent != NULL && last_unsent->p != NULL);
 1541              		.loc 1 704 0
 1542 0486 BBF1000F 		cmp	fp, #0
 1543 048a 06D0     		beq	.L105
 704:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       last_unsent != NULL && last_unsent->p != NULL);
 1544              		.loc 1 704 0 is_stmt 0 discriminator 2
 1545 048c DBF80430 		ldr	r3, [fp, #4]
 1546 0490 1BB1     		cbz	r3, .L105
 1547              	.L106:
 706:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += extendlen;
 1548              		.loc 1 706 0 is_stmt 1
 1549 0492 DBF80430 		ldr	r3, [fp, #4]
 1550              	.LVL202:
 1551 0496 0C98     		ldr	r0, [sp, #48]
 1552 0498 0BE0     		b	.L107
 1553              	.LVL203:
 1554              	.L105:
 704:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       last_unsent != NULL && last_unsent->p != NULL);
 1555              		.loc 1 704 0 discriminator 3
 1556 049a 1F4B     		ldr	r3, .L152
 1557 049c 40F2C122 		movw	r2, #705
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 55


 1558 04a0 2149     		ldr	r1, .L152+16
 1559 04a2 1F48     		ldr	r0, .L152+8
 1560 04a4 FFF7FEFF 		bl	printf
 1561              	.LVL204:
 1562 04a8 F3E7     		b	.L106
 1563              	.LVL205:
 1564              	.L108:
 707:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1565              		.loc 1 707 0 discriminator 3
 1566 04aa 1A89     		ldrh	r2, [r3, #8]
 1567 04ac 0244     		add	r2, r2, r0
 1568 04ae 1A81     		strh	r2, [r3, #8]	@ movhi
 1569              	.LVL206:
 706:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += extendlen;
 1570              		.loc 1 706 0 discriminator 3
 1571 04b0 0B46     		mov	r3, r1
 1572              	.LVL207:
 1573              	.L107:
 706:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += extendlen;
 1574              		.loc 1 706 0 is_stmt 0 discriminator 1
 1575 04b2 1968     		ldr	r1, [r3]
 1576 04b4 0029     		cmp	r1, #0
 1577 04b6 F8D1     		bne	.L108
 709:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     p->len += extendlen;
 1578              		.loc 1 709 0 is_stmt 1
 1579 04b8 1A89     		ldrh	r2, [r3, #8]
 1580 04ba 0C98     		ldr	r0, [sp, #48]
 1581 04bc 0244     		add	r2, r2, r0
 1582 04be 1A81     		strh	r2, [r3, #8]	@ movhi
 710:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += extendlen;
 1583              		.loc 1 710 0
 1584 04c0 5A89     		ldrh	r2, [r3, #10]
 1585 04c2 0244     		add	r2, r2, r0
 1586 04c4 5A81     		strh	r2, [r3, #10]	@ movhi
 711:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1587              		.loc 1 711 0
 1588 04c6 BBF80830 		ldrh	r3, [fp, #8]
 1589              	.LVL208:
 1590 04ca 0344     		add	r3, r3, r0
 1591 04cc ABF80830 		strh	r3, [fp, #8]	@ movhi
 1592 04d0 A5E7     		b	.L104
 1593              	.L148:
 1594              	.LBE23:
 733:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 1595              		.loc 1 733 0
 1596 04d2 C9F86870 		str	r7, [r9, #104]
 1597 04d6 A7E7     		b	.L110
 1598              	.L149:
 748:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unacked != NULL || pcb->unsent != NULL);
 1599              		.loc 1 748 0 discriminator 1
 1600 04d8 D9F86830 		ldr	r3, [r9, #104]
 1601 04dc 002B     		cmp	r3, #0
 1602 04de B5D1     		bne	.L111
 748:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unacked != NULL || pcb->unsent != NULL);
 1603              		.loc 1 748 0 is_stmt 0 discriminator 2
 1604 04e0 0D4B     		ldr	r3, .L152
 1605 04e2 40F2ED22 		movw	r2, #749
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 56


 1606 04e6 1149     		ldr	r1, .L152+20
 1607 04e8 0D48     		ldr	r0, .L152+8
 1608 04ea FFF7FEFF 		bl	printf
 1609              	.LVL209:
 1610 04ee ADE7     		b	.L111
 1611              	.LVL210:
 1612              	.L145:
 769:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unsent != NULL);
 1613              		.loc 1 769 0 is_stmt 1 discriminator 2
 1614 04f0 094B     		ldr	r3, .L152
 1615 04f2 40F20232 		movw	r2, #770
 1616 04f6 0D49     		ldr	r1, .L152+20
 1617 04f8 0948     		ldr	r0, .L152+8
 1618 04fa FFF7FEFF 		bl	printf
 1619              	.LVL211:
 773:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1620              		.loc 1 773 0 discriminator 2
 1621 04fe 4FF0FF33 		mov	r3, #-1
 1622 0502 0A93     		str	r3, [sp, #40]
 1623 0504 46E7     		b	.L72
 1624              	.L123:
 773:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1625              		.loc 1 773 0 is_stmt 0
 1626 0506 4FF0FF33 		mov	r3, #-1
 1627 050a 0A93     		str	r3, [sp, #40]
 1628 050c 42E7     		b	.L72
 1629              	.L124:
 1630 050e 4FF0FF33 		mov	r3, #-1
 1631 0512 0A93     		str	r3, [sp, #40]
 1632 0514 3EE7     		b	.L72
 1633              	.L153:
 1634 0516 00BF     		.align	2
 1635              	.L152:
 1636 0518 00000000 		.word	.LC0
 1637 051c 38010000 		.word	.LC15
 1638 0520 6C000000 		.word	.LC2
 1639 0524 4C010000 		.word	.LC16
 1640 0528 84010000 		.word	.LC17
 1641 052c BC010000 		.word	.LC18
 1642              		.cfi_endproc
 1643              	.LFE157:
 1645              		.section	.text.tcp_enqueue_flags,"ax",%progbits
 1646              		.align	1
 1647              		.global	tcp_enqueue_flags
 1648              		.syntax unified
 1649              		.thumb
 1650              		.thumb_func
 1651              		.fpu fpv5-sp-d16
 1653              	tcp_enqueue_flags:
 1654              	.LFB158:
 786:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 1655              		.loc 1 786 0 is_stmt 1
 1656              		.cfi_startproc
 1657              		@ args = 0, pretend = 0, frame = 0
 1658              		@ frame_needed = 0, uses_anonymous_args = 0
 1659              	.LVL212:
 1660 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 57


 1661              	.LCFI12:
 1662              		.cfi_def_cfa_offset 28
 1663              		.cfi_offset 4, -28
 1664              		.cfi_offset 5, -24
 1665              		.cfi_offset 6, -20
 1666              		.cfi_offset 7, -16
 1667              		.cfi_offset 8, -12
 1668              		.cfi_offset 9, -8
 1669              		.cfi_offset 14, -4
 1670 0004 83B0     		sub	sp, sp, #12
 1671              	.LCFI13:
 1672              		.cfi_def_cfa_offset 40
 1673 0006 0446     		mov	r4, r0
 1674 0008 0D46     		mov	r5, r1
 1675              	.LVL213:
 794:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (flags & (TCP_SYN | TCP_FIN)) != 0);
 1676              		.loc 1 794 0
 1677 000a 11F00307 		ands	r7, r1, #3
 1678 000e 30D0     		beq	.L176
 1679              	.LVL214:
 1680              	.L155:
 798:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((flags & TCP_FIN) == 0)) {
 1681              		.loc 1 798 0
 1682 0010 B4F86230 		ldrh	r3, [r4, #98]
 1683 0014 082B     		cmp	r3, #8
 1684 0016 02D9     		bls	.L156
 798:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((flags & TCP_FIN) == 0)) {
 1685              		.loc 1 798 0 is_stmt 0 discriminator 1
 1686 0018 15F0010F 		tst	r5, #1
 1687 001c 31D0     		beq	.L177
 1688              	.L156:
 807:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optflags = TF_SEG_OPTS_MSS;
 1689              		.loc 1 807 0 is_stmt 1
 1690 001e 15F0020F 		tst	r5, #2
 1691 0022 35D1     		bne	.L169
 789:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = 0;
 1692              		.loc 1 789 0
 1693 0024 4FF00009 		mov	r9, #0
 1694              	.L158:
 1695              	.LVL215:
 824:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1696              		.loc 1 824 0
 1697 0028 B9F1000F 		cmp	r9, #0
 1698 002c 33D0     		beq	.L170
 1699 002e 0426     		movs	r6, #4
 1700              	.L159:
 1701              	.LVL216:
 827:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 1702              		.loc 1 827 0 discriminator 4
 1703 0030 B6B2     		uxth	r6, r6
 1704              	.LVL217:
 1705 0032 0022     		movs	r2, #0
 1706 0034 3146     		mov	r1, r6
 1707 0036 1046     		mov	r0, r2
 1708 0038 FFF7FEFF 		bl	pbuf_alloc
 1709              	.LVL218:
 1710 003c 8046     		mov	r8, r0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 58


 1711 003e 60B3     		cbz	r0, .L178
 832:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (p->len >= optlen));
 1712              		.loc 1 832 0
 1713 0040 4389     		ldrh	r3, [r0, #10]
 1714 0042 9E42     		cmp	r6, r3
 1715 0044 30D8     		bhi	.L179
 1716              	.LVL219:
 1717              	.L161:
 836:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 1718              		.loc 1 836 0
 1719 0046 CDF80090 		str	r9, [sp]
 1720 004a A36D     		ldr	r3, [r4, #88]
 1721 004c 2A46     		mov	r2, r5
 1722 004e 4146     		mov	r1, r8
 1723 0050 2046     		mov	r0, r4
 1724 0052 FFF7FEFF 		bl	tcp_create_segment
 1725              	.LVL220:
 1726 0056 0646     		mov	r6, r0
 1727 0058 70B3     		cbz	r0, .L180
 841:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: invalid segment length", seg->len == 0);
 1728              		.loc 1 841 0
 1729 005a C368     		ldr	r3, [r0, #12]
 1730 005c 13F0030F 		tst	r3, #3
 1731 0060 31D1     		bne	.L181
 1732              	.LVL221:
 1733              	.L163:
 842:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1734              		.loc 1 842 0
 1735 0062 3389     		ldrh	r3, [r6, #8]
 1736 0064 002B     		cmp	r3, #0
 1737 0066 36D1     		bne	.L182
 1738              	.L164:
 851:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = seg;
 1739              		.loc 1 851 0
 1740 0068 A26E     		ldr	r2, [r4, #104]
 1741 006a 002A     		cmp	r2, #0
 1742 006c 3CD1     		bne	.L165
 852:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 1743              		.loc 1 852 0
 1744 006e A666     		str	r6, [r4, #104]
 1745 0070 3EE0     		b	.L166
 1746              	.LVL222:
 1747              	.L176:
 794:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (flags & (TCP_SYN | TCP_FIN)) != 0);
 1748              		.loc 1 794 0 discriminator 1
 1749 0072 364B     		ldr	r3, .L185
 1750 0074 40F21B32 		movw	r2, #795
 1751 0078 3549     		ldr	r1, .L185+4
 1752              	.LVL223:
 1753 007a 3648     		ldr	r0, .L185+8
 1754              	.LVL224:
 1755 007c FFF7FEFF 		bl	printf
 1756              	.LVL225:
 1757 0080 C6E7     		b	.L155
 1758              	.L177:
 803:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 1759              		.loc 1 803 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 59


 1760 0082 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1761 0084 63F07F03 		orn	r3, r3, #127
 1762 0088 A376     		strb	r3, [r4, #26]
 804:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1763              		.loc 1 804 0
 1764 008a 4FF0FF30 		mov	r0, #-1
 1765 008e 4AE0     		b	.L157
 1766              	.L169:
 808:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
 1767              		.loc 1 808 0
 1768 0090 4FF00109 		mov	r9, #1
 1769 0094 C8E7     		b	.L158
 1770              	.LVL226:
 1771              	.L170:
 824:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1772              		.loc 1 824 0
 1773 0096 0026     		movs	r6, #0
 1774 0098 CAE7     		b	.L159
 1775              	.LVL227:
 1776              	.L178:
 828:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 1777              		.loc 1 828 0
 1778 009a A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1779 009c 63F07F03 		orn	r3, r3, #127
 1780 00a0 A376     		strb	r3, [r4, #26]
 830:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1781              		.loc 1 830 0
 1782 00a2 4FF0FF30 		mov	r0, #-1
 1783              	.LVL228:
 1784 00a6 3EE0     		b	.L157
 1785              	.LVL229:
 1786              	.L179:
 832:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (p->len >= optlen));
 1787              		.loc 1 832 0 discriminator 1
 1788 00a8 284B     		ldr	r3, .L185
 1789 00aa 40F24132 		movw	r2, #833
 1790 00ae 2A49     		ldr	r1, .L185+12
 1791 00b0 2848     		ldr	r0, .L185+8
 1792              	.LVL230:
 1793 00b2 FFF7FEFF 		bl	printf
 1794              	.LVL231:
 1795 00b6 C6E7     		b	.L161
 1796              	.LVL232:
 1797              	.L180:
 837:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 1798              		.loc 1 837 0
 1799 00b8 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1800 00ba 63F07F03 		orn	r3, r3, #127
 1801 00be A376     		strb	r3, [r4, #26]
 839:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1802              		.loc 1 839 0
 1803 00c0 4FF0FF30 		mov	r0, #-1
 1804              	.LVL233:
 1805 00c4 2FE0     		b	.L157
 1806              	.LVL234:
 1807              	.L181:
 841:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: invalid segment length", seg->len == 0);
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 60


 1808              		.loc 1 841 0 discriminator 1
 1809 00c6 214B     		ldr	r3, .L185
 1810 00c8 40F24932 		movw	r2, #841
 1811 00cc 2349     		ldr	r1, .L185+16
 1812 00ce 2148     		ldr	r0, .L185+8
 1813              	.LVL235:
 1814 00d0 FFF7FEFF 		bl	printf
 1815              	.LVL236:
 1816 00d4 C5E7     		b	.L163
 1817              	.L182:
 842:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1818              		.loc 1 842 0 discriminator 1
 1819 00d6 1D4B     		ldr	r3, .L185
 1820 00d8 40F24A32 		movw	r2, #842
 1821 00dc 2049     		ldr	r1, .L185+20
 1822 00de 1D48     		ldr	r0, .L185+8
 1823 00e0 FFF7FEFF 		bl	printf
 1824              	.LVL237:
 1825 00e4 C0E7     		b	.L164
 1826              	.LVL238:
 1827              	.L171:
 1828              	.LBB24:
 855:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     useg->next = seg;
 1829              		.loc 1 855 0
 1830 00e6 1A46     		mov	r2, r3
 1831              	.LVL239:
 1832              	.L165:
 855:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     useg->next = seg;
 1833              		.loc 1 855 0 is_stmt 0 discriminator 1
 1834 00e8 1368     		ldr	r3, [r2]
 1835 00ea 002B     		cmp	r3, #0
 1836 00ec FBD1     		bne	.L171
 856:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1837              		.loc 1 856 0 is_stmt 1
 1838 00ee 1660     		str	r6, [r2]
 1839              	.LVL240:
 1840              	.L166:
 1841              	.LBE24:
 860:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 1842              		.loc 1 860 0
 1843 00f0 0023     		movs	r3, #0
 1844 00f2 A4F86430 		strh	r3, [r4, #100]	@ movhi
 864:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->snd_lbb++;
 1845              		.loc 1 864 0
 1846 00f6 17B1     		cbz	r7, .L167
 865:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* optlen does not influence snd_buf */
 1847              		.loc 1 865 0
 1848 00f8 A36D     		ldr	r3, [r4, #88]
 1849 00fa 0133     		adds	r3, r3, #1
 1850 00fc A365     		str	r3, [r4, #88]
 1851              	.L167:
 868:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_FIN;
 1852              		.loc 1 868 0
 1853 00fe 15F0010F 		tst	r5, #1
 1854 0102 03D0     		beq	.L168
 869:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1855              		.loc 1 869 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 61


 1856 0104 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1857 0106 43F02003 		orr	r3, r3, #32
 1858 010a A376     		strb	r3, [r4, #26]
 1859              	.L168:
 873:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_enqueue_flags: %"S16_F" (after enqueued)\n", pcb->snd_queuelen)
 1860              		.loc 1 873 0
 1861 010c 7068     		ldr	r0, [r6, #4]
 1862 010e FFF7FEFF 		bl	pbuf_clen
 1863              	.LVL241:
 1864 0112 B4F86230 		ldrh	r3, [r4, #98]
 1865 0116 1844     		add	r0, r0, r3
 1866 0118 80B2     		uxth	r0, r0
 1867 011a A4F86200 		strh	r0, [r4, #98]	@ movhi
 875:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_enqueue_flags: invalid queue length",
 1868              		.loc 1 875 0
 1869 011e 90B1     		cbz	r0, .L172
 876:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 1870              		.loc 1 876 0
 1871 0120 E36E     		ldr	r3, [r4, #108]
 1872 0122 1BB1     		cbz	r3, .L183
 880:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1873              		.loc 1 880 0
 1874 0124 0020     		movs	r0, #0
 1875              	.LVL242:
 1876              	.L157:
 881:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1877              		.loc 1 881 0
 1878 0126 03B0     		add	sp, sp, #12
 1879              	.LCFI14:
 1880              		.cfi_remember_state
 1881              		.cfi_def_cfa_offset 28
 1882              		@ sp needed
 1883 0128 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1884              	.LVL243:
 1885              	.L183:
 1886              	.LCFI15:
 1887              		.cfi_restore_state
 876:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 1888              		.loc 1 876 0 discriminator 1
 1889 012c A36E     		ldr	r3, [r4, #104]
 1890 012e 0BB1     		cbz	r3, .L184
 880:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1891              		.loc 1 880 0
 1892 0130 0020     		movs	r0, #0
 1893 0132 F8E7     		b	.L157
 1894              	.L184:
 876:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 1895              		.loc 1 876 0 discriminator 2
 1896 0134 054B     		ldr	r3, .L185
 1897 0136 40F26D32 		movw	r2, #877
 1898 013a 0A49     		ldr	r1, .L185+24
 1899 013c 0548     		ldr	r0, .L185+8
 1900 013e FFF7FEFF 		bl	printf
 1901              	.LVL244:
 880:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1902              		.loc 1 880 0 discriminator 2
 1903 0142 0020     		movs	r0, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 62


 1904 0144 EFE7     		b	.L157
 1905              	.L172:
 880:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1906              		.loc 1 880 0 is_stmt 0
 1907 0146 0020     		movs	r0, #0
 1908 0148 EDE7     		b	.L157
 1909              	.L186:
 1910 014a 00BF     		.align	2
 1911              	.L185:
 1912 014c 00000000 		.word	.LC0
 1913 0150 00000000 		.word	.LC19
 1914 0154 6C000000 		.word	.LC2
 1915 0158 58000000 		.word	.LC20
 1916 015c 94000000 		.word	.LC21
 1917 0160 AC000000 		.word	.LC22
 1918 0164 D8000000 		.word	.LC23
 1919              		.cfi_endproc
 1920              	.LFE158:
 1922              		.section	.text.tcp_send_fin,"ax",%progbits
 1923              		.align	1
 1924              		.global	tcp_send_fin
 1925              		.syntax unified
 1926              		.thumb
 1927              		.thumb_func
 1928              		.fpu fpv5-sp-d16
 1930              	tcp_send_fin:
 1931              	.LFB153:
 140:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* first, try to add the fin to the last unsent segment */
 1932              		.loc 1 140 0 is_stmt 1
 1933              		.cfi_startproc
 1934              		@ args = 0, pretend = 0, frame = 0
 1935              		@ frame_needed = 0, uses_anonymous_args = 0
 1936              	.LVL245:
 1937 0000 70B5     		push	{r4, r5, r6, lr}
 1938              	.LCFI16:
 1939              		.cfi_def_cfa_offset 16
 1940              		.cfi_offset 4, -16
 1941              		.cfi_offset 5, -12
 1942              		.cfi_offset 6, -8
 1943              		.cfi_offset 14, -4
 1944 0002 0546     		mov	r5, r0
 142:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct tcp_seg *last_unsent;
 1945              		.loc 1 142 0
 1946 0004 846E     		ldr	r4, [r0, #104]
 1947 0006 0CB9     		cbnz	r4, .L189
 1948 0008 0AE0     		b	.L188
 1949              	.LVL246:
 1950              	.L191:
 1951              	.LBB25:
 145:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1952              		.loc 1 145 0
 1953 000a 1C46     		mov	r4, r3
 1954              	.LVL247:
 1955              	.L189:
 144:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          last_unsent = last_unsent->next);
 1956              		.loc 1 144 0 discriminator 1
 1957 000c 2368     		ldr	r3, [r4]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 63


 1958 000e 002B     		cmp	r3, #0
 1959 0010 FBD1     		bne	.L191
 147:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* no SYN/FIN/RST flag in the header, we can add the FIN flag */
 1960              		.loc 1 147 0
 1961 0012 E368     		ldr	r3, [r4, #12]
 1962 0014 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1963              	.LVL248:
 1964 0016 FFF7FEFF 		bl	lwip_htons
 1965              	.LVL249:
 1966 001a 10F0070F 		tst	r0, #7
 1967 001e 04D0     		beq	.L193
 1968              	.LVL250:
 1969              	.L188:
 1970              	.LBE25:
 155:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1971              		.loc 1 155 0
 1972 0020 0121     		movs	r1, #1
 1973 0022 2846     		mov	r0, r5
 1974 0024 FFF7FEFF 		bl	tcp_enqueue_flags
 1975              	.LVL251:
 156:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1976              		.loc 1 156 0
 1977 0028 70BD     		pop	{r4, r5, r6, pc}
 1978              	.LVL252:
 1979              	.L193:
 1980              	.LBB26:
 149:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags |= TF_FIN;
 1981              		.loc 1 149 0
 1982 002a E668     		ldr	r6, [r4, #12]
 1983 002c B489     		ldrh	r4, [r6, #12]	@ unaligned
 1984              	.LVL253:
 1985 002e 0120     		movs	r0, #1
 1986 0030 FFF7FEFF 		bl	lwip_htons
 1987              	.LVL254:
 1988 0034 2043     		orrs	r0, r0, r4
 1989 0036 B081     		strh	r0, [r6, #12]	@ unaligned
 150:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return ERR_OK;
 1990              		.loc 1 150 0
 1991 0038 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 1992 003a 43F02003 		orr	r3, r3, #32
 1993 003e AB76     		strb	r3, [r5, #26]
 151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1994              		.loc 1 151 0
 1995 0040 0020     		movs	r0, #0
 1996 0042 70BD     		pop	{r4, r5, r6, pc}
 1997              	.LBE26:
 1998              		.cfi_endproc
 1999              	.LFE153:
 2001              		.section	.text.tcp_send_empty_ack,"ax",%progbits
 2002              		.align	1
 2003              		.global	tcp_send_empty_ack
 2004              		.syntax unified
 2005              		.thumb
 2006              		.thumb_func
 2007              		.fpu fpv5-sp-d16
 2009              	tcp_send_empty_ack:
 2010              	.LFB159:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 64


 919:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 2011              		.loc 1 919 0
 2012              		.cfi_startproc
 2013              		@ args = 0, pretend = 0, frame = 0
 2014              		@ frame_needed = 0, uses_anonymous_args = 0
 2015              	.LVL255:
 2016 0000 70B5     		push	{r4, r5, r6, lr}
 2017              	.LCFI17:
 2018              		.cfi_def_cfa_offset 16
 2019              		.cfi_offset 4, -16
 2020              		.cfi_offset 5, -12
 2021              		.cfi_offset 6, -8
 2022              		.cfi_offset 14, -4
 2023 0002 84B0     		sub	sp, sp, #16
 2024              	.LCFI18:
 2025              		.cfi_def_cfa_offset 32
 2026 0004 0446     		mov	r4, r0
 2027              	.LVL256:
 934:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 2028              		.loc 1 934 0
 2029 0006 C06C     		ldr	r0, [r0, #76]
 2030              	.LVL257:
 2031 0008 FFF7FEFF 		bl	lwip_htonl
 2032              	.LVL258:
 2033 000c 0346     		mov	r3, r0
 2034 000e 0022     		movs	r2, #0
 2035 0010 1146     		mov	r1, r2
 2036 0012 2046     		mov	r0, r4
 2037 0014 FFF7FEFF 		bl	tcp_output_alloc_header
 2038              	.LVL259:
 935:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* let tcp_fasttmr retry sending this ACK */
 2039              		.loc 1 935 0
 2040 0018 E0B1     		cbz	r0, .L201
 2041 001a 0646     		mov	r6, r0
 956:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 2042              		.loc 1 956 0
 2043 001c 251D     		adds	r5, r4, #4
 2044 001e 2846     		mov	r0, r5
 2045              	.LVL260:
 2046 0020 FFF7FEFF 		bl	ip4_route
 2047              	.LVL261:
 957:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ERR_RTE;
 2048              		.loc 1 957 0
 2049 0024 E8B1     		cbz	r0, .L199
 967:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->ttl, pcb->tos, IP_PROTO_TCP, netif);
 2050              		.loc 1 967 0
 2051 0026 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 2052 0028 617A     		ldrb	r1, [r4, #9]	@ zero_extendqisi2
 2053 002a 0290     		str	r0, [sp, #8]
 2054 002c 0622     		movs	r2, #6
 2055 002e 0192     		str	r2, [sp, #4]
 2056 0030 0091     		str	r1, [sp]
 2057 0032 2A46     		mov	r2, r5
 2058 0034 2146     		mov	r1, r4
 2059 0036 3046     		mov	r0, r6
 2060              	.LVL262:
 2061 0038 FFF7FEFF 		bl	ip4_output_if
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 65


 2062              	.LVL263:
 2063 003c 0546     		mov	r5, r0
 2064              	.LVL264:
 2065              	.L197:
 971:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2066              		.loc 1 971 0
 2067 003e 3046     		mov	r0, r6
 2068 0040 FFF7FEFF 		bl	pbuf_free
 2069              	.LVL265:
 973:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* let tcp_fasttmr retry sending this ACK */
 2070              		.loc 1 973 0
 2071 0044 85B9     		cbnz	r5, .L202
 978:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2072              		.loc 1 978 0
 2073 0046 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2074 0048 23F00303 		bic	r3, r3, #3
 2075 004c A376     		strb	r3, [r4, #26]
 2076              	.LVL266:
 2077              	.L196:
 982:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2078              		.loc 1 982 0
 2079 004e 2846     		mov	r0, r5
 2080 0050 04B0     		add	sp, sp, #16
 2081              	.LCFI19:
 2082              		.cfi_remember_state
 2083              		.cfi_def_cfa_offset 16
 2084              		@ sp needed
 2085 0052 70BD     		pop	{r4, r5, r6, pc}
 2086              	.LVL267:
 2087              	.L201:
 2088              	.LCFI20:
 2089              		.cfi_restore_state
 937:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_output: (ACK) could not allocate pbuf\n"));
 2090              		.loc 1 937 0
 2091 0054 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2092 0056 43F00303 		orr	r3, r3, #3
 2093 005a A376     		strb	r3, [r4, #26]
 939:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2094              		.loc 1 939 0
 2095 005c 6FF00105 		mvn	r5, #1
 2096 0060 F5E7     		b	.L196
 2097              	.LVL268:
 2098              	.L199:
 958:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 2099              		.loc 1 958 0
 2100 0062 6FF00305 		mvn	r5, #3
 2101 0066 EAE7     		b	.L197
 2102              	.LVL269:
 2103              	.L202:
 975:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 2104              		.loc 1 975 0
 2105 0068 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2106 006a 43F00303 		orr	r3, r3, #3
 2107 006e A376     		strb	r3, [r4, #26]
 2108 0070 EDE7     		b	.L196
 2109              		.cfi_endproc
 2110              	.LFE159:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 66


 2112              		.section	.text.tcp_output,"ax",%progbits
 2113              		.align	1
 2114              		.global	tcp_output
 2115              		.syntax unified
 2116              		.thumb
 2117              		.thumb_func
 2118              		.fpu fpv5-sp-d16
 2120              	tcp_output:
 2121              	.LFB160:
 994:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg, *useg;
 2122              		.loc 1 994 0
 2123              		.cfi_startproc
 2124              		@ args = 0, pretend = 0, frame = 0
 2125              		@ frame_needed = 0, uses_anonymous_args = 0
 2126              	.LVL270:
 2127 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2128              	.LCFI21:
 2129              		.cfi_def_cfa_offset 32
 2130              		.cfi_offset 4, -32
 2131              		.cfi_offset 5, -28
 2132              		.cfi_offset 6, -24
 2133              		.cfi_offset 7, -20
 2134              		.cfi_offset 8, -16
 2135              		.cfi_offset 9, -12
 2136              		.cfi_offset 10, -8
 2137              		.cfi_offset 14, -4
 2138 0004 0546     		mov	r5, r0
1004:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->state != LISTEN);
 2139              		.loc 1 1004 0
 2140 0006 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 2141 0008 012B     		cmp	r3, #1
 2142 000a 1ED0     		beq	.L250
 2143              	.LVL271:
 2144              	.L204:
1011:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
 2145              		.loc 1 1011 0
 2146 000c A54B     		ldr	r3, .L258
 2147 000e 1B68     		ldr	r3, [r3]
 2148 0010 9D42     		cmp	r5, r3
 2149 0012 00F03E81 		beq	.L237
1015:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2150              		.loc 1 1015 0
 2151 0016 B5F85C30 		ldrh	r3, [r5, #92]
 2152 001a B5F84870 		ldrh	r7, [r5, #72]
 2153 001e BB42     		cmp	r3, r7
 2154 0020 00D2     		bcs	.L207
1015:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2155              		.loc 1 1015 0 is_stmt 0 discriminator 1
 2156 0022 1F46     		mov	r7, r3
 2157              	.L207:
 2158              	.LVL272:
1017:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2159              		.loc 1 1017 0 is_stmt 1 discriminator 4
 2160 0024 AC6E     		ldr	r4, [r5, #104]
 2161              	.LVL273:
1025:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      (seg == NULL ||
 2162              		.loc 1 1025 0 discriminator 4
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 67


 2163 0026 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 2164 0028 13F0020F 		tst	r3, #2
 2165 002c 0AD0     		beq	.L208
1025:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      (seg == NULL ||
 2166              		.loc 1 1025 0 is_stmt 0 discriminator 1
 2167 002e A4B1     		cbz	r4, .L209
1027:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      return tcp_send_empty_ack(pcb);
 2168              		.loc 1 1027 0 is_stmt 1
 2169 0030 E368     		ldr	r3, [r4, #12]
 2170 0032 5868     		ldr	r0, [r3, #4]	@ unaligned
 2171 0034 FFF7FEFF 		bl	lwip_htonl
 2172              	.LVL274:
 2173 0038 6B6C     		ldr	r3, [r5, #68]
 2174 003a C31A     		subs	r3, r0, r3
 2175 003c 2089     		ldrh	r0, [r4, #8]
 2176 003e 0344     		add	r3, r3, r0
1026:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len > wnd)) {
 2177              		.loc 1 1026 0
 2178 0040 9F42     		cmp	r7, r3
 2179 0042 0AD3     		bcc	.L209
 2180              	.L208:
1032:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (useg != NULL) {
 2181              		.loc 1 1032 0
 2182 0044 EE6E     		ldr	r6, [r5, #108]
 2183              	.LVL275:
1033:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (; useg->next != NULL; useg = useg->next);
 2184              		.loc 1 1033 0
 2185 0046 76B9     		cbnz	r6, .L211
 2186 0048 10E0     		b	.L210
 2187              	.LVL276:
 2188              	.L250:
1004:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->state != LISTEN);
 2189              		.loc 1 1004 0 discriminator 1
 2190 004a 974B     		ldr	r3, .L258+4
 2191 004c 40F2ED32 		movw	r2, #1005
 2192 0050 9649     		ldr	r1, .L258+8
 2193 0052 9748     		ldr	r0, .L258+12
 2194              	.LVL277:
 2195 0054 FFF7FEFF 		bl	printf
 2196              	.LVL278:
 2197 0058 D8E7     		b	.L204
 2198              	.LVL279:
 2199              	.L209:
1028:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2200              		.loc 1 1028 0
 2201 005a 2846     		mov	r0, r5
 2202 005c FFF7FEFF 		bl	tcp_send_empty_ack
 2203              	.LVL280:
 2204 0060 0346     		mov	r3, r0
 2205 0062 3FE0     		b	.L205
 2206              	.LVL281:
 2207              	.L238:
1034:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2208              		.loc 1 1034 0
 2209 0064 1E46     		mov	r6, r3
 2210              	.LVL282:
 2211              	.L211:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 68


1034:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2212              		.loc 1 1034 0 is_stmt 0 discriminator 1
 2213 0066 3368     		ldr	r3, [r6]
 2214 0068 002B     		cmp	r3, #0
 2215 006a FBD1     		bne	.L238
 2216              	.L210:
1037:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 2217              		.loc 1 1037 0 is_stmt 1
 2218 006c 281D     		adds	r0, r5, #4
 2219 006e FFF7FEFF 		bl	ip4_route
 2220              	.LVL283:
1038:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_RTE;
 2221              		.loc 1 1038 0
 2222 0072 8046     		mov	r8, r0
 2223 0074 0028     		cmp	r0, #0
 2224 0076 00F00E81 		beq	.L239
1043:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, &pcb->remote_ip);
 2225              		.loc 1 1043 0
 2226 007a 0DB1     		cbz	r5, .L212
1043:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, &pcb->remote_ip);
 2227              		.loc 1 1043 0 is_stmt 0 discriminator 1
 2228 007c 2B68     		ldr	r3, [r5]
 2229 007e 33B9     		cbnz	r3, .L213
 2230              	.L212:
 2231              	.LVL284:
 2232              	.LBB27:
1045:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return ERR_RTE;
 2233              		.loc 1 1045 0 is_stmt 1 discriminator 1
 2234 0080 18F1040F 		cmn	r8, #4
 2235 0084 00F00A81 		beq	.L240
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2236              		.loc 1 1048 0
 2237 0088 D8F80430 		ldr	r3, [r8, #4]
 2238 008c 2B60     		str	r3, [r5]
 2239              	.LVL285:
 2240              	.L213:
 2241              	.LBE27:
1080:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len > wnd &&
 2242              		.loc 1 1080 0
 2243 008e 002C     		cmp	r4, #0
 2244 0090 00F0A280 		beq	.L216
1081:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       wnd > 0 && wnd == pcb->snd_wnd && pcb->unacked == NULL) {
 2245              		.loc 1 1081 0 discriminator 1
 2246 0094 E368     		ldr	r3, [r4, #12]
 2247 0096 5868     		ldr	r0, [r3, #4]	@ unaligned
 2248              	.LVL286:
 2249 0098 FFF7FEFF 		bl	lwip_htonl
 2250              	.LVL287:
 2251 009c 6B6C     		ldr	r3, [r5, #68]
 2252 009e C31A     		subs	r3, r0, r3
 2253 00a0 2089     		ldrh	r0, [r4, #8]
 2254 00a2 0344     		add	r3, r3, r0
1080:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len > wnd &&
 2255              		.loc 1 1080 0 discriminator 1
 2256 00a4 9F42     		cmp	r7, r3
 2257 00a6 80F09780 		bcs	.L216
1081:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       wnd > 0 && wnd == pcb->snd_wnd && pcb->unacked == NULL) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 69


 2258              		.loc 1 1081 0
 2259 00aa 002F     		cmp	r7, #0
 2260 00ac 00F09480 		beq	.L216
1082:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Start the persist timer */
 2261              		.loc 1 1082 0
 2262 00b0 B5F85C30 		ldrh	r3, [r5, #92]
 2263 00b4 9F42     		cmp	r7, r3
 2264 00b6 40F08F80 		bne	.L216
1082:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Start the persist timer */
 2265              		.loc 1 1082 0 is_stmt 0 discriminator 1
 2266 00ba EB6E     		ldr	r3, [r5, #108]
 2267 00bc 002B     		cmp	r3, #0
 2268 00be 40F08B80 		bne	.L216
1084:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->persist_cnt = 0;
 2269              		.loc 1 1084 0 is_stmt 1
 2270 00c2 95F89530 		ldrb	r3, [r5, #149]	@ zero_extendqisi2
 2271 00c6 23B9     		cbnz	r3, .L217
1085:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->persist_backoff = 1;
 2272              		.loc 1 1085 0
 2273 00c8 85F89430 		strb	r3, [r5, #148]
1086:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2274              		.loc 1 1086 0
 2275 00cc 0123     		movs	r3, #1
 2276 00ce 85F89530 		strb	r3, [r5, #149]
 2277              	.L217:
1171:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* last unsent has been removed, reset unsent_oversize */
 2278              		.loc 1 1171 0
 2279 00d2 AB6E     		ldr	r3, [r5, #104]
 2280 00d4 002B     		cmp	r3, #0
 2281 00d6 00F0D980 		beq	.L251
 2282              	.L236:
1177:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
 2283              		.loc 1 1177 0
 2284 00da AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 2285 00dc 03F07F03 		and	r3, r3, #127
 2286 00e0 AB76     		strb	r3, [r5, #26]
1178:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 2287              		.loc 1 1178 0
 2288 00e2 0023     		movs	r3, #0
 2289              	.LVL288:
 2290              	.L205:
1179:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2291              		.loc 1 1179 0
 2292 00e4 1846     		mov	r0, r3
 2293 00e6 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2294              	.LVL289:
 2295              	.L256:
1093:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 (TCPH_FLAGS(seg->tcphdr) & TCP_RST) == 0);
 2296              		.loc 1 1093 0 discriminator 1
 2297 00ea 6F4B     		ldr	r3, .L258+4
 2298 00ec 40F24642 		movw	r2, #1094
 2299 00f0 7049     		ldr	r1, .L258+16
 2300 00f2 6F48     		ldr	r0, .L258+12
 2301 00f4 FFF7FEFF 		bl	printf
 2302              	.LVL290:
 2303 00f8 84E0     		b	.L218
 2304              	.L257:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 70


1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2305              		.loc 1 1102 0 discriminator 8
 2306 00fa 1A89     		ldrh	r2, [r3, #8]
 2307 00fc 6B8E     		ldrh	r3, [r5, #50]
 2308 00fe 9A42     		cmp	r2, r3
 2309 0100 80F09180 		bcs	.L244
 2310              	.L220:
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2311              		.loc 1 1102 0 is_stmt 0 discriminator 10
 2312 0104 B5F86030 		ldrh	r3, [r5, #96]
 2313 0108 002B     		cmp	r3, #0
 2314 010a 00F08E80 		beq	.L245
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2315              		.loc 1 1102 0 discriminator 12
 2316 010e B5F86230 		ldrh	r3, [r5, #98]
 2317 0112 082B     		cmp	r3, #8
 2318 0114 40F28B80 		bls	.L246
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2319              		.loc 1 1102 0
 2320 0118 0123     		movs	r3, #1
 2321 011a 02E0     		b	.L219
 2322              	.L241:
 2323 011c 0123     		movs	r3, #1
 2324 011e 00E0     		b	.L219
 2325              	.L242:
 2326 0120 0123     		movs	r3, #1
 2327              	.L219:
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2328              		.loc 1 1102 0 discriminator 16
 2329 0122 1BB9     		cbnz	r3, .L221
1103:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       break;
 2330              		.loc 1 1103 0 is_stmt 1 discriminator 17
 2331 0124 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2332              		.loc 1 1102 0 discriminator 17
 2333 0126 13F0A00F 		tst	r3, #160
 2334 012a D2D0     		beq	.L217
 2335              	.L221:
1115:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCPH_SET_FLAG(seg->tcphdr, TCP_ACK);
 2336              		.loc 1 1115 0
 2337 012c 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 2338 012e 022B     		cmp	r3, #2
 2339 0130 0AD0     		beq	.L222
1116:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2340              		.loc 1 1116 0
 2341 0132 D4F80CA0 		ldr	r10, [r4, #12]
 2342 0136 BAF80C90 		ldrh	r9, [r10, #12]	@ unaligned
 2343 013a 1020     		movs	r0, #16
 2344 013c FFF7FEFF 		bl	lwip_htons
 2345              	.LVL291:
 2346 0140 49EA0000 		orr	r0, r9, r0
 2347 0144 AAF80C00 		strh	r0, [r10, #12]	@ unaligned
 2348              	.L222:
1122:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (err != ERR_OK) {
 2349              		.loc 1 1122 0
 2350 0148 4246     		mov	r2, r8
 2351 014a 2946     		mov	r1, r5
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 71


 2352 014c 2046     		mov	r0, r4
 2353 014e FFF7FEFF 		bl	tcp_output_segment
 2354              	.LVL292:
1123:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* segment could not be sent, for whatever reason */
 2355              		.loc 1 1123 0
 2356 0152 0346     		mov	r3, r0
 2357 0154 0028     		cmp	r0, #0
 2358 0156 6CD1     		bne	.L252
1128:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->state != SYN_SENT) {
 2359              		.loc 1 1128 0
 2360 0158 2368     		ldr	r3, [r4]
 2361 015a AB66     		str	r3, [r5, #104]
1129:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags &= ~(TF_ACK_DELAY | TF_ACK_NOW);
 2362              		.loc 1 1129 0
 2363 015c 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 2364 015e 022B     		cmp	r3, #2
 2365 0160 03D0     		beq	.L224
1130:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2366              		.loc 1 1130 0
 2367 0162 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 2368 0164 23F00303 		bic	r3, r3, #3
 2369 0168 AB76     		strb	r3, [r5, #26]
 2370              	.L224:
1132:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
 2371              		.loc 1 1132 0
 2372 016a E368     		ldr	r3, [r4, #12]
 2373 016c 5868     		ldr	r0, [r3, #4]	@ unaligned
 2374              	.LVL293:
 2375 016e FFF7FEFF 		bl	lwip_htonl
 2376              	.LVL294:
 2377 0172 8146     		mov	r9, r0
 2378 0174 B4F808A0 		ldrh	r10, [r4, #8]
 2379 0178 E368     		ldr	r3, [r4, #12]
 2380 017a 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2381 017c FFF7FEFF 		bl	lwip_htons
 2382              	.LVL295:
 2383 0180 10F0030F 		tst	r0, #3
 2384 0184 5AD0     		beq	.L247
 2385 0186 0120     		movs	r0, #1
 2386              	.L225:
1132:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
 2387              		.loc 1 1132 0 is_stmt 0 discriminator 4
 2388 0188 5044     		add	r0, r0, r10
 2389 018a 4844     		add	r0, r0, r9
 2390              	.LVL296:
1133:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->snd_nxt = snd_nxt;
 2391              		.loc 1 1133 0 is_stmt 1 discriminator 4
 2392 018c EB6C     		ldr	r3, [r5, #76]
 2393 018e 1B1A     		subs	r3, r3, r0
 2394 0190 002B     		cmp	r3, #0
 2395 0192 55DB     		blt	.L253
 2396              	.L226:
1137:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->next = NULL;
 2397              		.loc 1 1137 0
 2398 0194 B4F80890 		ldrh	r9, [r4, #8]
 2399 0198 E368     		ldr	r3, [r4, #12]
 2400 019a 9889     		ldrh	r0, [r3, #12]	@ unaligned
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 72


 2401              	.LVL297:
 2402 019c FFF7FEFF 		bl	lwip_htons
 2403              	.LVL298:
 2404 01a0 10F0030F 		tst	r0, #3
 2405 01a4 4ED0     		beq	.L248
 2406 01a6 0123     		movs	r3, #1
 2407              	.L227:
1137:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->next = NULL;
 2408              		.loc 1 1137 0 is_stmt 0 discriminator 4
 2409 01a8 13EB090F 		cmn	r3, r9
 2410 01ac 6AD0     		beq	.L228
1138:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* unacked list is empty? */
 2411              		.loc 1 1138 0 is_stmt 1
 2412 01ae 0023     		movs	r3, #0
 2413 01b0 2360     		str	r3, [r4]
1140:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         pcb->unacked = seg;
 2414              		.loc 1 1140 0
 2415 01b2 EB6E     		ldr	r3, [r5, #108]
 2416 01b4 002B     		cmp	r3, #0
 2417 01b6 47D0     		beq	.L254
1148:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           /* add segment to before tail of unacked list, keeping the list sorted */
 2418              		.loc 1 1148 0
 2419 01b8 E368     		ldr	r3, [r4, #12]
 2420 01ba 5868     		ldr	r0, [r3, #4]	@ unaligned
 2421 01bc FFF7FEFF 		bl	lwip_htonl
 2422              	.LVL299:
 2423 01c0 8146     		mov	r9, r0
 2424 01c2 F368     		ldr	r3, [r6, #12]
 2425 01c4 5868     		ldr	r0, [r3, #4]	@ unaligned
 2426 01c6 FFF7FEFF 		bl	lwip_htonl
 2427              	.LVL300:
 2428 01ca A9EB0000 		sub	r0, r9, r0
 2429 01ce 0028     		cmp	r0, #0
 2430 01d0 3DDB     		blt	.L255
1159:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           useg = useg->next;
 2431              		.loc 1 1159 0
 2432 01d2 3460     		str	r4, [r6]
 2433              	.LVL301:
1160:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
 2434              		.loc 1 1160 0
 2435 01d4 2646     		mov	r6, r4
 2436              	.LVL302:
 2437              	.L230:
1167:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2438              		.loc 1 1167 0
 2439 01d6 AC6E     		ldr	r4, [r5, #104]
 2440              	.LVL303:
 2441              	.L216:
1091:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len <= wnd) {
 2442              		.loc 1 1091 0
 2443 01d8 002C     		cmp	r4, #0
 2444 01da 3FF47AAF 		beq	.L217
1092:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("RST not expected here!",
 2445              		.loc 1 1092 0 discriminator 1
 2446 01de E368     		ldr	r3, [r4, #12]
 2447 01e0 5868     		ldr	r0, [r3, #4]	@ unaligned
 2448 01e2 FFF7FEFF 		bl	lwip_htonl
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 73


 2449              	.LVL304:
 2450 01e6 6B6C     		ldr	r3, [r5, #68]
 2451 01e8 C01A     		subs	r0, r0, r3
 2452 01ea 2389     		ldrh	r3, [r4, #8]
 2453 01ec 1844     		add	r0, r0, r3
1091:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len <= wnd) {
 2454              		.loc 1 1091 0 discriminator 1
 2455 01ee 8742     		cmp	r7, r0
 2456 01f0 FFF46FAF 		bcc	.L217
1093:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 (TCPH_FLAGS(seg->tcphdr) & TCP_RST) == 0);
 2457              		.loc 1 1093 0
 2458 01f4 E368     		ldr	r3, [r4, #12]
 2459 01f6 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2460 01f8 FFF7FEFF 		bl	lwip_htons
 2461              	.LVL305:
 2462 01fc 10F0040F 		tst	r0, #4
 2463 0200 7FF473AF 		bne	.L256
 2464              	.L218:
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2465              		.loc 1 1102 0
 2466 0204 EB6E     		ldr	r3, [r5, #108]
 2467 0206 002B     		cmp	r3, #0
 2468 0208 88D0     		beq	.L241
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2469              		.loc 1 1102 0 is_stmt 0 discriminator 2
 2470 020a AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 2471 020c 13F0440F 		tst	r3, #68
 2472 0210 86D1     		bne	.L242
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2473              		.loc 1 1102 0 discriminator 4
 2474 0212 AB6E     		ldr	r3, [r5, #104]
 2475 0214 002B     		cmp	r3, #0
 2476 0216 3FF475AF 		beq	.L220
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2477              		.loc 1 1102 0 discriminator 5
 2478 021a 1A68     		ldr	r2, [r3]
 2479 021c 002A     		cmp	r2, #0
 2480 021e 3FF46CAF 		beq	.L257
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2481              		.loc 1 1102 0
 2482 0222 0123     		movs	r3, #1
 2483 0224 7DE7     		b	.L219
 2484              	.L244:
 2485 0226 0123     		movs	r3, #1
 2486 0228 7BE7     		b	.L219
 2487              	.L245:
 2488 022a 0123     		movs	r3, #1
 2489 022c 79E7     		b	.L219
 2490              	.L246:
 2491 022e 0023     		movs	r3, #0
 2492 0230 77E7     		b	.L219
 2493              	.LVL306:
 2494              	.L252:
1125:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return err;
 2495              		.loc 1 1125 0 is_stmt 1
 2496 0232 AA7E     		ldrb	r2, [r5, #26]	@ zero_extendqisi2
 2497 0234 62F07F02 		orn	r2, r2, #127
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 74


 2498 0238 AA76     		strb	r2, [r5, #26]
1126:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2499              		.loc 1 1126 0
 2500 023a 53E7     		b	.L205
 2501              	.LVL307:
 2502              	.L247:
1132:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
 2503              		.loc 1 1132 0
 2504 023c 0020     		movs	r0, #0
 2505 023e A3E7     		b	.L225
 2506              	.LVL308:
 2507              	.L253:
1134:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2508              		.loc 1 1134 0
 2509 0240 E864     		str	r0, [r5, #76]
 2510 0242 A7E7     		b	.L226
 2511              	.LVL309:
 2512              	.L248:
1137:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->next = NULL;
 2513              		.loc 1 1137 0
 2514 0244 0023     		movs	r3, #0
 2515 0246 AFE7     		b	.L227
 2516              	.L254:
1141:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         useg = seg;
 2517              		.loc 1 1141 0
 2518 0248 EC66     		str	r4, [r5, #108]
 2519              	.LVL310:
1142:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* unacked list is not empty? */
 2520              		.loc 1 1142 0
 2521 024a 2646     		mov	r6, r4
 2522 024c C3E7     		b	.L230
 2523              	.LVL311:
 2524              	.L255:
 2525              	.LBB28:
1150:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           while (*cur_seg &&
 2526              		.loc 1 1150 0
 2527 024e 05F16C0A 		add	r10, r5, #108
 2528              	.LVL312:
1151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
 2529              		.loc 1 1151 0
 2530 0252 01E0     		b	.L232
 2531              	.L234:
1153:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           }
 2532              		.loc 1 1153 0
 2533 0254 DAF800A0 		ldr	r10, [r10]
 2534              	.LVL313:
 2535              	.L232:
1151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
 2536              		.loc 1 1151 0
 2537 0258 DAF80030 		ldr	r3, [r10]
 2538 025c 63B1     		cbz	r3, .L233
1152:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               cur_seg = &((*cur_seg)->next );
 2539              		.loc 1 1152 0 discriminator 1
 2540 025e DB68     		ldr	r3, [r3, #12]
 2541 0260 5868     		ldr	r0, [r3, #4]	@ unaligned
 2542 0262 FFF7FEFF 		bl	lwip_htonl
 2543              	.LVL314:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 75


 2544 0266 8146     		mov	r9, r0
 2545 0268 E368     		ldr	r3, [r4, #12]
 2546 026a 5868     		ldr	r0, [r3, #4]	@ unaligned
 2547 026c FFF7FEFF 		bl	lwip_htonl
 2548              	.LVL315:
 2549 0270 A9EB0000 		sub	r0, r9, r0
1151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
 2550              		.loc 1 1151 0 discriminator 1
 2551 0274 0028     		cmp	r0, #0
 2552 0276 EDDB     		blt	.L234
 2553              	.L233:
1155:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           (*cur_seg) = seg;
 2554              		.loc 1 1155 0
 2555 0278 DAF80030 		ldr	r3, [r10]
 2556 027c 2360     		str	r3, [r4]
1156:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         } else {
 2557              		.loc 1 1156 0
 2558 027e CAF80040 		str	r4, [r10]
 2559              	.LBE28:
 2560 0282 A8E7     		b	.L230
 2561              	.LVL316:
 2562              	.L228:
1165:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2563              		.loc 1 1165 0
 2564 0284 2046     		mov	r0, r4
 2565 0286 FFF7FEFF 		bl	tcp_seg_free
 2566              	.LVL317:
 2567 028a A4E7     		b	.L230
 2568              	.L251:
1173:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2569              		.loc 1 1173 0
 2570 028c A5F86430 		strh	r3, [r5, #100]	@ movhi
 2571 0290 23E7     		b	.L236
 2572              	.LVL318:
 2573              	.L237:
1012:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2574              		.loc 1 1012 0
 2575 0292 0023     		movs	r3, #0
 2576 0294 26E7     		b	.L205
 2577              	.LVL319:
 2578              	.L239:
1039:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2579              		.loc 1 1039 0
 2580 0296 6FF00303 		mvn	r3, #3
 2581 029a 23E7     		b	.L205
 2582              	.LVL320:
 2583              	.L240:
 2584              	.LBB29:
1046:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2585              		.loc 1 1046 0
 2586 029c 6FF00303 		mvn	r3, #3
 2587 02a0 20E7     		b	.L205
 2588              	.L259:
 2589 02a2 00BF     		.align	2
 2590              	.L258:
 2591 02a4 00000000 		.word	tcp_input_pcb
 2592 02a8 00000000 		.word	.LC0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 76


 2593 02ac 00000000 		.word	.LC24
 2594 02b0 6C000000 		.word	.LC2
 2595 02b4 28000000 		.word	.LC25
 2596              	.LBE29:
 2597              		.cfi_endproc
 2598              	.LFE160:
 2600              		.section	.text.tcp_rst,"ax",%progbits
 2601              		.align	1
 2602              		.global	tcp_rst
 2603              		.syntax unified
 2604              		.thumb
 2605              		.thumb_func
 2606              		.fpu fpv5-sp-d16
 2608              	tcp_rst:
 2609              	.LFB162:
1322:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1323:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1324:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Send a TCP RESET packet (empty segment with RST flag set) either to
1325:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * abort a connection or to show that there is no matching local connection
1326:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * for a received segment.
1327:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1328:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_abort() (to abort a local connection), tcp_input() (if no
1329:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * matching local pcb was found), tcp_listen_input() (if incoming segment
1330:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * has ACK flag set) and tcp_process() (received segment in the wrong state)
1331:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1332:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Since a RST segment is in most cases not sent for an active connection,
1333:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * tcp_rst() has a number of arguments that are taken from a tcp_pcb for
1334:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * most other segment output functions.
1335:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1336:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param seqno the sequence number to use for the outgoing segment
1337:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param ackno the acknowledge number to use for the outgoing segment
1338:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param local_ip the local IP address to send the segment from
1339:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param remote_ip the remote IP address to send the segment to
1340:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param local_port the local TCP port to send the segment from
1341:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param remote_port the remote TCP port to send the segment to
1342:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1343:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** void
1344:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_rst(u32_t seqno, u32_t ackno,
1345:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   const ip_addr_t *local_ip, const ip_addr_t *remote_ip,
1346:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t local_port, u16_t remote_port)
1347:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2610              		.loc 1 1347 0
 2611              		.cfi_startproc
 2612              		@ args = 8, pretend = 0, frame = 0
 2613              		@ frame_needed = 0, uses_anonymous_args = 0
 2614              	.LVL321:
 2615 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 2616              	.LCFI22:
 2617              		.cfi_def_cfa_offset 28
 2618              		.cfi_offset 4, -28
 2619              		.cfi_offset 5, -24
 2620              		.cfi_offset 6, -20
 2621              		.cfi_offset 7, -16
 2622              		.cfi_offset 8, -12
 2623              		.cfi_offset 9, -8
 2624              		.cfi_offset 14, -4
 2625 0004 85B0     		sub	sp, sp, #20
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 77


 2626              	.LCFI23:
 2627              		.cfi_def_cfa_offset 48
 2628 0006 8046     		mov	r8, r0
 2629 0008 0F46     		mov	r7, r1
 2630 000a 9146     		mov	r9, r2
 2631 000c 1E46     		mov	r6, r3
1348:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
1349:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
1350:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
1351:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = pbuf_alloc(PBUF_IP, TCP_HLEN, PBUF_RAM);
 2632              		.loc 1 1351 0
 2633 000e 0022     		movs	r2, #0
 2634              	.LVL322:
 2635 0010 1421     		movs	r1, #20
 2636              	.LVL323:
 2637 0012 0120     		movs	r0, #1
 2638              	.LVL324:
 2639 0014 FFF7FEFF 		bl	pbuf_alloc
 2640              	.LVL325:
1352:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 2641              		.loc 1 1352 0
 2642 0018 B0B3     		cbz	r0, .L260
 2643 001a 0546     		mov	r5, r0
1353:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_rst: could not allocate memory for pbuf\n"));
1354:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return;
1355:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1356:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("check that first pbuf can hold struct tcp_hdr",
 2644              		.loc 1 1356 0
 2645 001c 4389     		ldrh	r3, [r0, #10]
 2646 001e 132B     		cmp	r3, #19
 2647 0020 35D9     		bls	.L265
 2648              	.LVL326:
 2649              	.L262:
1357:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (p->len >= sizeof(struct tcp_hdr)));
1358:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1359:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr = (struct tcp_hdr *)p->payload;
 2650              		.loc 1 1359 0
 2651 0022 6C68     		ldr	r4, [r5, #4]
 2652              	.LVL327:
1360:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->src = lwip_htons(local_port);
 2653              		.loc 1 1360 0
 2654 0024 BDF83000 		ldrh	r0, [sp, #48]
 2655 0028 FFF7FEFF 		bl	lwip_htons
 2656              	.LVL328:
 2657 002c 2080     		strh	r0, [r4]	@ unaligned
1361:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->dest = lwip_htons(remote_port);
 2658              		.loc 1 1361 0
 2659 002e BDF83400 		ldrh	r0, [sp, #52]
 2660 0032 FFF7FEFF 		bl	lwip_htons
 2661              	.LVL329:
 2662 0036 6080     		strh	r0, [r4, #2]	@ unaligned
1362:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->seqno = lwip_htonl(seqno);
 2663              		.loc 1 1362 0
 2664 0038 4046     		mov	r0, r8
 2665 003a FFF7FEFF 		bl	lwip_htonl
 2666              	.LVL330:
 2667 003e 6060     		str	r0, [r4, #4]	@ unaligned
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 78


1363:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->ackno = lwip_htonl(ackno);
 2668              		.loc 1 1363 0
 2669 0040 3846     		mov	r0, r7
 2670 0042 FFF7FEFF 		bl	lwip_htonl
 2671              	.LVL331:
 2672 0046 A060     		str	r0, [r4, #8]	@ unaligned
1364:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCPH_HDRLEN_FLAGS_SET(tcphdr, TCP_HLEN/4, TCP_RST | TCP_ACK);
 2673              		.loc 1 1364 0
 2674 0048 45F21400 		movw	r0, #20500
 2675 004c FFF7FEFF 		bl	lwip_htons
 2676              	.LVL332:
 2677 0050 A081     		strh	r0, [r4, #12]	@ unaligned
1365:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
1366:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->wnd = PP_HTONS(((TCP_WND >> TCP_RCV_SCALE) & 0xFFFF));
1367:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else
1368:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->wnd = PP_HTONS(TCP_WND);
 2678              		.loc 1 1368 0
 2679 0052 0023     		movs	r3, #0
 2680 0054 0822     		movs	r2, #8
 2681 0056 A273     		strb	r2, [r4, #14]
 2682 0058 6022     		movs	r2, #96
 2683 005a E273     		strb	r2, [r4, #15]
1369:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->chksum = 0;
 2684              		.loc 1 1370 0
 2685 005c 2374     		strb	r3, [r4, #16]
 2686 005e 6374     		strb	r3, [r4, #17]
1371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->urgp = 0;
 2687              		.loc 1 1371 0
 2688 0060 A374     		strb	r3, [r4, #18]
 2689 0062 E374     		strb	r3, [r4, #19]
1372:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1373:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCP_STATS_INC(tcp.xmit);
1374:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   MIB2_STATS_INC(mib2.tcpoutrsts);
1375:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1376:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(local_ip, remote_ip);
 2690              		.loc 1 1376 0
 2691 0064 3046     		mov	r0, r6
 2692 0066 FFF7FEFF 		bl	ip4_route
 2693              	.LVL333:
1377:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif != NULL) {
 2694              		.loc 1 1377 0
 2695 006a 50B1     		cbz	r0, .L263
1378:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
1379:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
1380:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcphdr->chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
1381:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                         local_ip, remote_ip);
1382:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1384:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Send output with hardcoded TTL/HL since we have no access to the pcb */
1385:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ip_output_if(p, local_ip, remote_ip, TCP_TTL, 0, IP_PROTO_TCP, netif);
 2696              		.loc 1 1385 0
 2697 006c 0290     		str	r0, [sp, #8]
 2698 006e 0623     		movs	r3, #6
 2699 0070 0193     		str	r3, [sp, #4]
 2700 0072 0023     		movs	r3, #0
 2701 0074 0093     		str	r3, [sp]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 79


 2702 0076 FF23     		movs	r3, #255
 2703 0078 3246     		mov	r2, r6
 2704 007a 4946     		mov	r1, r9
 2705 007c 2846     		mov	r0, r5
 2706              	.LVL334:
 2707 007e FFF7FEFF 		bl	ip4_output_if
 2708              	.LVL335:
 2709              	.L263:
1386:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1387:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pbuf_free(p);
 2710              		.loc 1 1387 0
 2711 0082 2846     		mov	r0, r5
 2712 0084 FFF7FEFF 		bl	pbuf_free
 2713              	.LVL336:
 2714              	.L260:
1388:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_rst: seqno %"U32_F" ackno %"U32_F".\n", seqno, ackno));
1389:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 2715              		.loc 1 1389 0
 2716 0088 05B0     		add	sp, sp, #20
 2717              	.LCFI24:
 2718              		.cfi_remember_state
 2719              		.cfi_def_cfa_offset 28
 2720              		@ sp needed
 2721 008a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2722              	.LVL337:
 2723              	.L265:
 2724              	.LCFI25:
 2725              		.cfi_restore_state
1356:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (p->len >= sizeof(struct tcp_hdr)));
 2726              		.loc 1 1356 0 discriminator 1
 2727 008e 044B     		ldr	r3, .L266
 2728 0090 40F24D52 		movw	r2, #1357
 2729 0094 0349     		ldr	r1, .L266+4
 2730 0096 0448     		ldr	r0, .L266+8
 2731              	.LVL338:
 2732 0098 FFF7FEFF 		bl	printf
 2733              	.LVL339:
 2734 009c C1E7     		b	.L262
 2735              	.L267:
 2736 009e 00BF     		.align	2
 2737              	.L266:
 2738 00a0 00000000 		.word	.LC0
 2739 00a4 00000000 		.word	.LC6
 2740 00a8 6C000000 		.word	.LC2
 2741              		.cfi_endproc
 2742              	.LFE162:
 2744              		.section	.text.tcp_rexmit_rto,"ax",%progbits
 2745              		.align	1
 2746              		.global	tcp_rexmit_rto
 2747              		.syntax unified
 2748              		.thumb
 2749              		.thumb_func
 2750              		.fpu fpv5-sp-d16
 2752              	tcp_rexmit_rto:
 2753              	.LFB163:
1390:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1391:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 80


1392:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Requeue all unacked segments for retransmission
1393:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1394:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_slowtmr() for slow retransmission.
1395:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1396:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to re-enqueue all unacked segments
1397:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1398:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** void
1399:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_rexmit_rto(struct tcp_pcb *pcb)
1400:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2754              		.loc 1 1400 0
 2755              		.cfi_startproc
 2756              		@ args = 0, pretend = 0, frame = 0
 2757              		@ frame_needed = 0, uses_anonymous_args = 0
 2758              	.LVL340:
1401:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
1402:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1403:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unacked == NULL) {
 2759              		.loc 1 1403 0
 2760 0000 C26E     		ldr	r2, [r0, #108]
 2761 0002 0AB1     		cbz	r2, .L276
1400:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
 2762              		.loc 1 1400 0
 2763 0004 08B5     		push	{r3, lr}
 2764              	.LCFI26:
 2765              		.cfi_def_cfa_offset 8
 2766              		.cfi_offset 3, -8
 2767              		.cfi_offset 14, -4
 2768 0006 01E0     		b	.L270
 2769              	.L276:
 2770              	.LCFI27:
 2771              		.cfi_def_cfa_offset 0
 2772              		.cfi_restore 3
 2773              		.cfi_restore 14
 2774 0008 7047     		bx	lr
 2775              	.LVL341:
 2776              	.L272:
 2777              	.LCFI28:
 2778              		.cfi_def_cfa_offset 8
 2779              		.cfi_offset 3, -8
 2780              		.cfi_offset 14, -4
1404:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return;
1405:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1406:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1407:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Move all unacked segments to the head of the unsent queue */
1408:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   for (seg = pcb->unacked; seg->next != NULL; seg = seg->next);
 2781              		.loc 1 1408 0
 2782 000a 1A46     		mov	r2, r3
 2783              	.LVL342:
 2784              	.L270:
 2785              		.loc 1 1408 0 is_stmt 0 discriminator 1
 2786 000c 1368     		ldr	r3, [r2]
 2787 000e 002B     		cmp	r3, #0
 2788 0010 FBD1     		bne	.L272
1409:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* concatenate unsent queue after unacked queue */
1410:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->next = pcb->unsent;
 2789              		.loc 1 1410 0 is_stmt 1
 2790 0012 836E     		ldr	r3, [r0, #104]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 81


 2791 0014 1360     		str	r3, [r2]
1411:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
1412:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* if last unsent changed, we need to update unsent_oversize */
1413:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent == NULL) {
1414:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent_oversize = seg->oversize_left;
1415:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1416:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
1417:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* unsent queue is the concatenated queue (of unacked, unsent) */
1418:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unsent = pcb->unacked;
 2792              		.loc 1 1418 0
 2793 0016 C36E     		ldr	r3, [r0, #108]
 2794 0018 8366     		str	r3, [r0, #104]
1419:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* unacked queue is now empty */
1420:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unacked = NULL;
 2795              		.loc 1 1420 0
 2796 001a 0023     		movs	r3, #0
 2797 001c C366     		str	r3, [r0, #108]
1421:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1422:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* increment number of retransmissions */
1423:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->nrtx < 0xFF) {
 2798              		.loc 1 1423 0
 2799 001e 90F84230 		ldrb	r3, [r0, #66]	@ zero_extendqisi2
 2800 0022 FF2B     		cmp	r3, #255
 2801 0024 02D0     		beq	.L271
1424:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ++pcb->nrtx;
 2802              		.loc 1 1424 0
 2803 0026 0133     		adds	r3, r3, #1
 2804 0028 80F84230 		strb	r3, [r0, #66]
 2805              	.L271:
1425:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1426:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1427:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Don't take any RTT measurements after retransmitting. */
1428:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->rttest = 0;
 2806              		.loc 1 1428 0
 2807 002c 0023     		movs	r3, #0
 2808 002e 4363     		str	r3, [r0, #52]
1429:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1430:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Do the actual retransmission */
1431:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcp_output(pcb);
 2809              		.loc 1 1431 0
 2810 0030 FFF7FEFF 		bl	tcp_output
 2811              	.LVL343:
 2812 0034 08BD     		pop	{r3, pc}
 2813              		.cfi_endproc
 2814              	.LFE163:
 2816              		.section	.text.tcp_rexmit,"ax",%progbits
 2817              		.align	1
 2818              		.global	tcp_rexmit
 2819              		.syntax unified
 2820              		.thumb
 2821              		.thumb_func
 2822              		.fpu fpv5-sp-d16
 2824              	tcp_rexmit:
 2825              	.LFB164:
1432:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
1433:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1434:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 82


1435:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Requeue the first unacked segment for retransmission
1436:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1437:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_receive() for fast retransmit.
1438:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1439:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to retransmit the first unacked segment
1440:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1441:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** void
1442:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_rexmit(struct tcp_pcb *pcb)
1443:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2826              		.loc 1 1443 0
 2827              		.cfi_startproc
 2828              		@ args = 0, pretend = 0, frame = 0
 2829              		@ frame_needed = 0, uses_anonymous_args = 0
 2830              	.LVL344:
 2831 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2832              	.LCFI29:
 2833              		.cfi_def_cfa_offset 24
 2834              		.cfi_offset 3, -24
 2835              		.cfi_offset 4, -20
 2836              		.cfi_offset 5, -16
 2837              		.cfi_offset 6, -12
 2838              		.cfi_offset 7, -8
 2839              		.cfi_offset 14, -4
1444:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
1445:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg **cur_seg;
1446:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1447:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unacked == NULL) {
 2840              		.loc 1 1447 0
 2841 0002 C66E     		ldr	r6, [r0, #108]
 2842 0004 16B3     		cbz	r6, .L277
 2843 0006 0746     		mov	r7, r0
 2844              	.LVL345:
1448:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return;
1449:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1450:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1451:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Move the first unacked segment to the unsent queue */
1452:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Keep the unsent queue sorted. */
1453:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg = pcb->unacked;
1454:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unacked = seg->next;
 2845              		.loc 1 1454 0
 2846 0008 3368     		ldr	r3, [r6]
 2847 000a C366     		str	r3, [r0, #108]
1455:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1456:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   cur_seg = &(pcb->unsent);
 2848              		.loc 1 1456 0
 2849 000c 00F16805 		add	r5, r0, #104
 2850              	.LVL346:
1457:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (*cur_seg &&
 2851              		.loc 1 1457 0
 2852 0010 00E0     		b	.L279
 2853              	.LVL347:
 2854              	.L281:
1458:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
1459:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       cur_seg = &((*cur_seg)->next );
 2855              		.loc 1 1459 0
 2856 0012 2D68     		ldr	r5, [r5]
 2857              	.LVL348:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 83


 2858              	.L279:
1457:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (*cur_seg &&
 2859              		.loc 1 1457 0
 2860 0014 2B68     		ldr	r3, [r5]
 2861 0016 5BB1     		cbz	r3, .L280
1458:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
 2862              		.loc 1 1458 0 discriminator 1
 2863 0018 DB68     		ldr	r3, [r3, #12]
 2864 001a 5868     		ldr	r0, [r3, #4]	@ unaligned
 2865 001c FFF7FEFF 		bl	lwip_htonl
 2866              	.LVL349:
 2867 0020 0446     		mov	r4, r0
 2868 0022 F368     		ldr	r3, [r6, #12]
 2869 0024 5868     		ldr	r0, [r3, #4]	@ unaligned
 2870 0026 FFF7FEFF 		bl	lwip_htonl
 2871              	.LVL350:
 2872 002a 201A     		subs	r0, r4, r0
1457:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (*cur_seg &&
 2873              		.loc 1 1457 0 discriminator 1
 2874 002c 0028     		cmp	r0, #0
 2875 002e F0DB     		blt	.L281
 2876              	.L280:
1460:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1461:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->next = *cur_seg;
 2877              		.loc 1 1461 0
 2878 0030 2B68     		ldr	r3, [r5]
 2879 0032 3360     		str	r3, [r6]
1462:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *cur_seg = seg;
 2880              		.loc 1 1462 0
 2881 0034 2E60     		str	r6, [r5]
1463:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
1464:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->next == NULL) {
 2882              		.loc 1 1464 0
 2883 0036 3368     		ldr	r3, [r6]
 2884 0038 4BB1     		cbz	r3, .L285
 2885              	.L282:
1465:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* the retransmitted segment is last in unsent, so reset unsent_oversize */
1466:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent_oversize = 0;
1467:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1468:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
1469:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1470:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->nrtx < 0xFF) {
 2886              		.loc 1 1470 0
 2887 003a 97F84230 		ldrb	r3, [r7, #66]	@ zero_extendqisi2
 2888 003e FF2B     		cmp	r3, #255
 2889 0040 02D0     		beq	.L283
1471:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ++pcb->nrtx;
 2890              		.loc 1 1471 0
 2891 0042 0133     		adds	r3, r3, #1
 2892 0044 87F84230 		strb	r3, [r7, #66]
 2893              	.L283:
1472:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1473:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1474:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Don't take any rtt measurements after retransmitting. */
1475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->rttest = 0;
 2894              		.loc 1 1475 0
 2895 0048 0023     		movs	r3, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 84


 2896 004a 7B63     		str	r3, [r7, #52]
 2897              	.LVL351:
 2898              	.L277:
 2899 004c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2900              	.LVL352:
 2901              	.L285:
1466:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2902              		.loc 1 1466 0
 2903 004e A7F86430 		strh	r3, [r7, #100]	@ movhi
 2904 0052 F2E7     		b	.L282
 2905              		.cfi_endproc
 2906              	.LFE164:
 2908              		.section	.text.tcp_rexmit_fast,"ax",%progbits
 2909              		.align	1
 2910              		.global	tcp_rexmit_fast
 2911              		.syntax unified
 2912              		.thumb
 2913              		.thumb_func
 2914              		.fpu fpv5-sp-d16
 2916              	tcp_rexmit_fast:
 2917              	.LFB165:
1476:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1477:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Do the actual retransmission. */
1478:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   MIB2_STATS_INC(mib2.tcpretranssegs);
1479:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* No need to call tcp_output: we are always called from tcp_input()
1480:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      and thus tcp_output directly returns. */
1481:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
1482:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1483:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1484:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1485:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Handle retransmission after three dupacks received
1486:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1487:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to retransmit the first unacked segment
1488:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1489:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** void
1490:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_rexmit_fast(struct tcp_pcb *pcb)
1491:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2918              		.loc 1 1491 0
 2919              		.cfi_startproc
 2920              		@ args = 0, pretend = 0, frame = 0
 2921              		@ frame_needed = 0, uses_anonymous_args = 0
 2922              	.LVL353:
1492:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unacked != NULL && !(pcb->flags & TF_INFR)) {
 2923              		.loc 1 1492 0
 2924 0000 C36E     		ldr	r3, [r0, #108]
 2925 0002 1BB1     		cbz	r3, .L294
 2926              		.loc 1 1492 0 is_stmt 0 discriminator 1
 2927 0004 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 2928 0006 13F0040F 		tst	r3, #4
 2929 000a 00D0     		beq	.L297
 2930              	.L294:
 2931 000c 7047     		bx	lr
 2932              	.L297:
1491:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unacked != NULL && !(pcb->flags & TF_INFR)) {
 2933              		.loc 1 1491 0 is_stmt 1
 2934 000e 10B5     		push	{r4, lr}
 2935              	.LCFI30:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 85


 2936              		.cfi_def_cfa_offset 8
 2937              		.cfi_offset 4, -8
 2938              		.cfi_offset 14, -4
 2939 0010 0446     		mov	r4, r0
1493:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* This is fast retransmit. Retransmit the first unacked segment. */
1494:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_FR_DEBUG,
1495:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 ("tcp_receive: dupacks %"U16_F" (%"U32_F
1496:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  "), fast retransmit %"U32_F"\n",
1497:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  (u16_t)pcb->dupacks, pcb->lastack,
1498:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  lwip_ntohl(pcb->unacked->tcphdr->seqno)));
1499:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_rexmit(pcb);
 2940              		.loc 1 1499 0
 2941 0012 FFF7FEFF 		bl	tcp_rexmit
 2942              	.LVL354:
1500:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1501:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Set ssthresh to half of the minimum of the current
1502:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * cwnd and the advertised window */
1503:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->ssthresh = LWIP_MIN(pcb->cwnd, pcb->snd_wnd) / 2;
 2943              		.loc 1 1503 0
 2944 0016 B4F84830 		ldrh	r3, [r4, #72]
 2945 001a B4F85C20 		ldrh	r2, [r4, #92]
 2946 001e 9342     		cmp	r3, r2
 2947 0020 19D2     		bcs	.L288
 2948              		.loc 1 1503 0 is_stmt 0 discriminator 1
 2949 0022 C3F34F02 		ubfx	r2, r3, #1, #16
 2950              	.L290:
 2951              		.loc 1 1503 0 discriminator 4
 2952 0026 A4F84A20 		strh	r2, [r4, #74]	@ movhi
1504:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1505:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* The minimum value for ssthresh should be 2 MSS */
1506:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->ssthresh < (2U * pcb->mss)) {
 2953              		.loc 1 1506 0 is_stmt 1 discriminator 4
 2954 002a 638E     		ldrh	r3, [r4, #50]
 2955 002c B2EB430F 		cmp	r2, r3, lsl #1
 2956 0030 02D2     		bcs	.L292
1507:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_DEBUGF(TCP_FR_DEBUG,
1508:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   ("tcp_receive: The minimum value for ssthresh %"TCPWNDSIZE_F
1509:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                    " should be min 2 mss %"U16_F"...\n",
1510:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                    pcb->ssthresh, (u16_t)(2*pcb->mss)));
1511:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->ssthresh = 2*pcb->mss;
 2957              		.loc 1 1511 0
 2958 0032 5A00     		lsls	r2, r3, #1
 2959 0034 A4F84A20 		strh	r2, [r4, #74]	@ movhi
 2960              	.L292:
1512:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1513:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1514:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->cwnd = pcb->ssthresh + 3 * pcb->mss;
 2961              		.loc 1 1514 0
 2962 0038 B4F84A20 		ldrh	r2, [r4, #74]
 2963 003c 03EB4303 		add	r3, r3, r3, lsl #1
 2964 0040 12FA83F3 		uxtah	r3, r2, r3
 2965 0044 A4F84830 		strh	r3, [r4, #72]	@ movhi
1515:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_INFR;
 2966              		.loc 1 1515 0
 2967 0048 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2968 004a 43F00403 		orr	r3, r3, #4
 2969 004e A376     		strb	r3, [r4, #26]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 86


1516:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1517:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Reset the retransmission timer to prevent immediate rto retransmissions */
1518:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtime = 0;
 2970              		.loc 1 1518 0
 2971 0050 0023     		movs	r3, #0
 2972 0052 2386     		strh	r3, [r4, #48]	@ movhi
 2973 0054 10BD     		pop	{r4, pc}
 2974              	.LVL355:
 2975              	.L288:
1503:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2976              		.loc 1 1503 0 discriminator 2
 2977 0056 C2F34F02 		ubfx	r2, r2, #1, #16
 2978 005a E4E7     		b	.L290
 2979              		.cfi_endproc
 2980              	.LFE165:
 2982              		.section	.text.tcp_keepalive,"ax",%progbits
 2983              		.align	1
 2984              		.global	tcp_keepalive
 2985              		.syntax unified
 2986              		.thumb
 2987              		.thumb_func
 2988              		.fpu fpv5-sp-d16
 2990              	tcp_keepalive:
 2991              	.LFB166:
1519:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1520:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
1521:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1522:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1523:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1524:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Send keepalive packets to keep a connection active although
1525:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * no data is sent over it.
1526:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1527:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_slowtmr()
1528:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1529:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to send a keepalive packet
1530:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1531:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
1532:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_keepalive(struct tcp_pcb *pcb)
1533:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2992              		.loc 1 1533 0
 2993              		.cfi_startproc
 2994              		@ args = 0, pretend = 0, frame = 0
 2995              		@ frame_needed = 0, uses_anonymous_args = 0
 2996              	.LVL356:
 2997 0000 70B5     		push	{r4, r5, r6, lr}
 2998              	.LCFI31:
 2999              		.cfi_def_cfa_offset 16
 3000              		.cfi_offset 4, -16
 3001              		.cfi_offset 5, -12
 3002              		.cfi_offset 6, -8
 3003              		.cfi_offset 14, -4
 3004 0002 84B0     		sub	sp, sp, #16
 3005              	.LCFI32:
 3006              		.cfi_def_cfa_offset 32
 3007 0004 0446     		mov	r4, r0
1534:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
1535:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 87


1536:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
1537:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1538:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_keepalive: sending KEEPALIVE probe to "));
1539:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   ip_addr_debug_print(TCP_DEBUG, &pcb->remote_ip);
1540:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("\n"));
1541:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1542:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_keepalive: tcp_ticks %"U32_F"   pcb->tmr %"U32_F" pcb->keep_cnt_sent
1543:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                           tcp_ticks, pcb->tmr, (u16_t)pcb->keep_cnt_sent));
1544:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1545:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = tcp_output_alloc_header(pcb, 0, 0, lwip_htonl(pcb->snd_nxt - 1));
 3008              		.loc 1 1545 0
 3009 0006 C06C     		ldr	r0, [r0, #76]
 3010              	.LVL357:
 3011 0008 0138     		subs	r0, r0, #1
 3012 000a FFF7FEFF 		bl	lwip_htonl
 3013              	.LVL358:
 3014 000e 0346     		mov	r3, r0
 3015 0010 0022     		movs	r2, #0
 3016 0012 1146     		mov	r1, r2
 3017 0014 2046     		mov	r0, r4
 3018 0016 FFF7FEFF 		bl	tcp_output_alloc_header
 3019              	.LVL359:
1546:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 3020              		.loc 1 1546 0
 3021 001a D0B1     		cbz	r0, .L301
 3022 001c 0546     		mov	r5, r0
1547:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_DEBUG,
1548:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 ("tcp_keepalive: could not allocate memory for pbuf\n"));
1549:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
1550:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1551:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
 3023              		.loc 1 1551 0
 3024 001e 261D     		adds	r6, r4, #4
 3025 0020 3046     		mov	r0, r6
 3026              	.LVL360:
 3027 0022 FFF7FEFF 		bl	ip4_route
 3028              	.LVL361:
1552:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 3029              		.loc 1 1552 0
 3030 0026 88B1     		cbz	r0, .L302
1553:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ERR_RTE;
1554:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
1555:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
1556:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
1557:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       struct tcp_hdr *tcphdr = (struct tcp_hdr *)p->payload;
1558:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcphdr->chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
1559:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         &pcb->local_ip, &pcb->remote_ip);
1560:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1561:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* CHECKSUM_GEN_TCP */
1562:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.xmit);
1563:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1564:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Send output to IP */
1565:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
1566:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ip_output_if(p, &pcb->local_ip, &pcb->remote_ip, pcb->ttl, 0, IP_PROTO_TCP, netif);
 3031              		.loc 1 1566 0
 3032 0028 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 3033 002a 0290     		str	r0, [sp, #8]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 88


 3034 002c 0622     		movs	r2, #6
 3035 002e 0192     		str	r2, [sp, #4]
 3036 0030 0022     		movs	r2, #0
 3037 0032 0092     		str	r2, [sp]
 3038 0034 3246     		mov	r2, r6
 3039 0036 2146     		mov	r1, r4
 3040 0038 2846     		mov	r0, r5
 3041              	.LVL362:
 3042 003a FFF7FEFF 		bl	ip4_output_if
 3043              	.LVL363:
 3044 003e 0446     		mov	r4, r0
 3045              	.LVL364:
 3046              	.L300:
1567:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, NULL);
1568:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1569:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pbuf_free(p);
 3047              		.loc 1 1569 0
 3048 0040 2846     		mov	r0, r5
 3049 0042 FFF7FEFF 		bl	pbuf_free
 3050              	.LVL365:
 3051              	.L299:
1570:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1571:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_keepalive: seqno %"U32_F" ackno %"U32_F" err %d.\n",
1572:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                           pcb->snd_nxt - 1, pcb->rcv_nxt, (int)err));
1573:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return err;
1574:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 3052              		.loc 1 1574 0
 3053 0046 2046     		mov	r0, r4
 3054 0048 04B0     		add	sp, sp, #16
 3055              	.LCFI33:
 3056              		.cfi_remember_state
 3057              		.cfi_def_cfa_offset 16
 3058              		@ sp needed
 3059 004a 70BD     		pop	{r4, r5, r6, pc}
 3060              	.LVL366:
 3061              	.L302:
 3062              	.LCFI34:
 3063              		.cfi_restore_state
1553:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 3064              		.loc 1 1553 0
 3065 004c 6FF00304 		mvn	r4, #3
 3066              	.LVL367:
 3067 0050 F6E7     		b	.L300
 3068              	.LVL368:
 3069              	.L301:
1549:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 3070              		.loc 1 1549 0
 3071 0052 4FF0FF34 		mov	r4, #-1
 3072              	.LVL369:
 3073 0056 F6E7     		b	.L299
 3074              		.cfi_endproc
 3075              	.LFE166:
 3077              		.section	.text.tcp_zero_window_probe,"ax",%progbits
 3078              		.align	1
 3079              		.global	tcp_zero_window_probe
 3080              		.syntax unified
 3081              		.thumb
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 89


 3082              		.thumb_func
 3083              		.fpu fpv5-sp-d16
 3085              	tcp_zero_window_probe:
 3086              	.LFB167:
1575:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1576:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1577:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1578:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Send persist timer zero-window probes to keep a connection active
1579:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * when a window update is lost.
1580:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1581:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_slowtmr()
1582:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1583:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to send a zero-window probe packet
1584:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1585:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
1586:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_zero_window_probe(struct tcp_pcb *pcb)
1587:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 3087              		.loc 1 1587 0
 3088              		.cfi_startproc
 3089              		@ args = 0, pretend = 0, frame = 0
 3090              		@ frame_needed = 0, uses_anonymous_args = 0
 3091              	.LVL370:
 3092 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3093              	.LCFI35:
 3094              		.cfi_def_cfa_offset 24
 3095              		.cfi_offset 4, -24
 3096              		.cfi_offset 5, -20
 3097              		.cfi_offset 6, -16
 3098              		.cfi_offset 7, -12
 3099              		.cfi_offset 8, -8
 3100              		.cfi_offset 14, -4
 3101 0004 84B0     		sub	sp, sp, #16
 3102              	.LCFI36:
 3103              		.cfi_def_cfa_offset 40
1588:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
1589:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
1590:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
1591:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
1592:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t len;
1593:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t is_fin;
1594:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u32_t snd_nxt;
1595:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
1596:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1597:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_zero_window_probe: sending ZERO WINDOW probe to "));
1598:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   ip_addr_debug_print(TCP_DEBUG, &pcb->remote_ip);
1599:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("\n"));
1600:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1601:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG,
1602:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               ("tcp_zero_window_probe: tcp_ticks %"U32_F
1603:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                "   pcb->tmr %"U32_F" pcb->keep_cnt_sent %"U16_F"\n",
1604:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                tcp_ticks, pcb->tmr, (u16_t)pcb->keep_cnt_sent));
1605:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1606:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg = pcb->unacked;
 3104              		.loc 1 1606 0
 3105 0006 C56E     		ldr	r5, [r0, #108]
 3106              	.LVL371:
1607:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 90


1608:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg == NULL) {
 3107              		.loc 1 1608 0
 3108 0008 75B1     		cbz	r5, .L318
 3109              	.L305:
1609:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg = pcb->unsent;
1610:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1611:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg == NULL) {
 3110              		.loc 1 1611 0
 3111 000a 002D     		cmp	r5, #0
 3112 000c 5DD0     		beq	.L312
 3113 000e 0446     		mov	r4, r0
1612:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* nothing to send, zero window probe not needed */
1613:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
1614:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1615:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1616:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   is_fin = ((TCPH_FLAGS(seg->tcphdr) & TCP_FIN) != 0) && (seg->len == 0);
 3114              		.loc 1 1616 0
 3115 0010 EB68     		ldr	r3, [r5, #12]
 3116 0012 9889     		ldrh	r0, [r3, #12]	@ unaligned
 3117              	.LVL372:
 3118 0014 FFF7FEFF 		bl	lwip_htons
 3119              	.LVL373:
 3120 0018 10F0010F 		tst	r0, #1
 3121 001c 06D0     		beq	.L313
 3122              		.loc 1 1616 0 is_stmt 0 discriminator 1
 3123 001e 2B89     		ldrh	r3, [r5, #8]
 3124 0020 002B     		cmp	r3, #0
 3125 0022 40D0     		beq	.L314
 3126              		.loc 1 1616 0
 3127 0024 0022     		movs	r2, #0
 3128 0026 02E0     		b	.L307
 3129              	.LVL374:
 3130              	.L318:
1609:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg = pcb->unsent;
 3131              		.loc 1 1609 0 is_stmt 1
 3132 0028 856E     		ldr	r5, [r0, #104]
 3133              	.LVL375:
 3134 002a EEE7     		b	.L305
 3135              	.LVL376:
 3136              	.L313:
 3137              		.loc 1 1616 0
 3138 002c 0022     		movs	r2, #0
 3139              	.L307:
 3140              	.LVL377:
1617:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* we want to send one seqno: either FIN or data (no options) */
1618:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   len = is_fin ? 0 : 1;
 3141              		.loc 1 1618 0 discriminator 6
 3142 002e 02F0FF06 		and	r6, r2, #255
 3143              	.LVL378:
1619:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1620:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = tcp_output_alloc_header(pcb, 0, len, seg->tcphdr->seqno);
 3144              		.loc 1 1620 0 discriminator 6
 3145 0032 EB68     		ldr	r3, [r5, #12]
 3146 0034 5B68     		ldr	r3, [r3, #4]	@ unaligned
 3147 0036 82F00102 		eor	r2, r2, #1
 3148              	.LVL379:
 3149 003a 0021     		movs	r1, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 91


 3150 003c 2046     		mov	r0, r4
 3151 003e FFF7FEFF 		bl	tcp_output_alloc_header
 3152              	.LVL380:
1621:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 3153              		.loc 1 1621 0 discriminator 6
 3154 0042 0746     		mov	r7, r0
 3155 0044 0028     		cmp	r0, #0
 3156 0046 42D0     		beq	.L315
1622:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_zero_window_probe: no memory for pbuf\n"));
1623:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
1624:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1625:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr = (struct tcp_hdr *)p->payload;
 3157              		.loc 1 1625 0
 3158 0048 D0F80480 		ldr	r8, [r0, #4]
 3159              	.LVL381:
1626:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1627:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (is_fin) {
 3160              		.loc 1 1627 0
 3161 004c 6EB3     		cbz	r6, .L308
1628:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* FIN segment, no data */
1629:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_FLAGS_SET(tcphdr, TCP_ACK | TCP_FIN);
 3162              		.loc 1 1629 0
 3163 004e B8F80C60 		ldrh	r6, [r8, #12]	@ unaligned
 3164 0052 26F47C56 		bic	r6, r6, #16128
 3165 0056 B6B2     		uxth	r6, r6
 3166 0058 1120     		movs	r0, #17
 3167              	.LVL382:
 3168 005a FFF7FEFF 		bl	lwip_htons
 3169              	.LVL383:
 3170 005e 3043     		orrs	r0, r0, r6
 3171 0060 A8F80C00 		strh	r0, [r8, #12]	@ unaligned
 3172              	.L309:
1630:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
1631:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Data segment, copy in one byte from the head of the unacked queue */
1632:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     char *d = ((char *)p->payload + TCP_HLEN);
1633:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Depending on whether the segment has already been sent (unacked) or not
1634:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        (unsent), seg->p->payload points to the IP header or TCP header.
1635:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        Ensure we copy the first TCP data byte: */
1636:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_copy_partial(seg->p, d, 1, seg->p->tot_len - seg->len);
1637:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1638:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1639:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* The byte may be acknowledged without the window being opened. */
1640:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   snd_nxt = lwip_ntohl(seg->tcphdr->seqno) + 1;
 3173              		.loc 1 1640 0
 3174 0064 EB68     		ldr	r3, [r5, #12]
 3175 0066 5868     		ldr	r0, [r3, #4]	@ unaligned
 3176 0068 FFF7FEFF 		bl	lwip_htonl
 3177              	.LVL384:
 3178 006c 0130     		adds	r0, r0, #1
 3179              	.LVL385:
1641:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
 3180              		.loc 1 1641 0
 3181 006e E36C     		ldr	r3, [r4, #76]
 3182 0070 1B1A     		subs	r3, r3, r0
 3183 0072 002B     		cmp	r3, #0
 3184 0074 24DB     		blt	.L319
 3185              	.L310:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 92


1642:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->snd_nxt = snd_nxt;
1643:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1644:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1645:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
 3186              		.loc 1 1645 0
 3187 0076 251D     		adds	r5, r4, #4
 3188              	.LVL386:
 3189 0078 2846     		mov	r0, r5
 3190              	.LVL387:
 3191 007a FFF7FEFF 		bl	ip4_route
 3192              	.LVL388:
1646:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 3193              		.loc 1 1646 0
 3194 007e 08B3     		cbz	r0, .L316
1647:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ERR_RTE;
1648:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
1649:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
1650:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
1651:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcphdr->chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
1652:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         &pcb->local_ip, &pcb->remote_ip);
1653:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1654:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1655:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.xmit);
1656:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1657:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Send output to IP */
1658:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
1659:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ip_output_if(p, &pcb->local_ip, &pcb->remote_ip, pcb->ttl,
 3195              		.loc 1 1659 0
 3196 0080 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 3197 0082 0290     		str	r0, [sp, #8]
 3198 0084 0622     		movs	r2, #6
 3199 0086 0192     		str	r2, [sp, #4]
 3200 0088 0022     		movs	r2, #0
 3201 008a 0092     		str	r2, [sp]
 3202 008c 2A46     		mov	r2, r5
 3203 008e 2146     		mov	r1, r4
 3204 0090 3846     		mov	r0, r7
 3205              	.LVL389:
 3206 0092 FFF7FEFF 		bl	ip4_output_if
 3207              	.LVL390:
 3208 0096 0446     		mov	r4, r0
 3209              	.LVL391:
 3210              	.L311:
1660:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       0, IP_PROTO_TCP, netif);
1661:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, NULL);
1662:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1663:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1664:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pbuf_free(p);
 3211              		.loc 1 1664 0
 3212 0098 3846     		mov	r0, r7
 3213 009a FFF7FEFF 		bl	pbuf_free
 3214              	.LVL392:
 3215              	.L306:
1665:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1666:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_zero_window_probe: seqno %"U32_F
1667:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                           " ackno %"U32_F" err %d.\n",
1668:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                           pcb->snd_nxt - 1, pcb->rcv_nxt, (int)err));
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 93


1669:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return err;
1670:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 3216              		.loc 1 1670 0
 3217 009e 2046     		mov	r0, r4
 3218 00a0 04B0     		add	sp, sp, #16
 3219              	.LCFI37:
 3220              		.cfi_remember_state
 3221              		.cfi_def_cfa_offset 24
 3222              		@ sp needed
 3223 00a2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3224              	.LVL393:
 3225              	.L314:
 3226              	.LCFI38:
 3227              		.cfi_restore_state
1616:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* we want to send one seqno: either FIN or data (no options) */
 3228              		.loc 1 1616 0
 3229 00a6 0122     		movs	r2, #1
 3230 00a8 C1E7     		b	.L307
 3231              	.LVL394:
 3232              	.L308:
 3233              	.LBB30:
1636:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 3234              		.loc 1 1636 0
 3235 00aa 6868     		ldr	r0, [r5, #4]
 3236              	.LVL395:
 3237 00ac 0389     		ldrh	r3, [r0, #8]
 3238 00ae 2A89     		ldrh	r2, [r5, #8]
 3239 00b0 9B1A     		subs	r3, r3, r2
 3240 00b2 9BB2     		uxth	r3, r3
 3241 00b4 0122     		movs	r2, #1
 3242 00b6 08F11401 		add	r1, r8, #20
 3243              	.LVL396:
 3244 00ba FFF7FEFF 		bl	pbuf_copy_partial
 3245              	.LVL397:
 3246 00be D1E7     		b	.L309
 3247              	.LVL398:
 3248              	.L319:
 3249              	.LBE30:
1642:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 3250              		.loc 1 1642 0
 3251 00c0 E064     		str	r0, [r4, #76]
 3252 00c2 D8E7     		b	.L310
 3253              	.LVL399:
 3254              	.L316:
1647:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 3255              		.loc 1 1647 0
 3256 00c4 6FF00304 		mvn	r4, #3
 3257              	.LVL400:
 3258 00c8 E6E7     		b	.L311
 3259              	.LVL401:
 3260              	.L312:
1613:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 3261              		.loc 1 1613 0
 3262 00ca 0024     		movs	r4, #0
 3263 00cc E7E7     		b	.L306
 3264              	.LVL402:
 3265              	.L315:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 94


1623:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 3266              		.loc 1 1623 0
 3267 00ce 4FF0FF34 		mov	r4, #-1
 3268              	.LVL403:
 3269 00d2 E4E7     		b	.L306
 3270              		.cfi_endproc
 3271              	.LFE167:
 3273              		.section	.rodata.tcp_create_segment.str1.4,"aMS",%progbits,1
 3274              		.align	2
 3275              	.LC5:
 3276 0000 702D3E74 		.ascii	"p->tot_len >= optlen\000"
 3276      6F745F6C 
 3276      656E203E 
 3276      3D206F70 
 3276      746C656E 
 3277              		.section	.rodata.tcp_enqueue_flags.str1.4,"aMS",%progbits,1
 3278              		.align	2
 3279              	.LC19:
 3280 0000 7463705F 		.ascii	"tcp_enqueue_flags: need either TCP_SYN or TCP_FIN i"
 3280      656E7175 
 3280      6575655F 
 3280      666C6167 
 3280      733A206E 
 3281 0033 6E20666C 		.ascii	"n flags (programmer violates API)\000"
 3281      61677320 
 3281      2870726F 
 3281      6772616D 
 3281      6D657220 
 3282 0055 000000   		.space	3
 3283              	.LC20:
 3284 0058 7463705F 		.ascii	"tcp_enqueue_flags: check that first pbuf can hold o"
 3284      656E7175 
 3284      6575655F 
 3284      666C6167 
 3284      733A2063 
 3285 008b 70746C65 		.ascii	"ptlen\000"
 3285      6E00
 3286 0091 000000   		.space	3
 3287              	.LC21:
 3288 0094 7365672D 		.ascii	"seg->tcphdr not aligned\000"
 3288      3E746370 
 3288      68647220 
 3288      6E6F7420 
 3288      616C6967 
 3289              	.LC22:
 3290 00ac 7463705F 		.ascii	"tcp_enqueue_flags: invalid segment length\000"
 3290      656E7175 
 3290      6575655F 
 3290      666C6167 
 3290      733A2069 
 3291 00d6 0000     		.space	2
 3292              	.LC23:
 3293 00d8 7463705F 		.ascii	"tcp_enqueue_flags: invalid queue length\000"
 3293      656E7175 
 3293      6575655F 
 3293      666C6167 
 3293      733A2069 
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 95


 3294              		.section	.rodata.tcp_output.str1.4,"aMS",%progbits,1
 3295              		.align	2
 3296              	.LC24:
 3297 0000 646F6E27 		.ascii	"don't call tcp_output for listen-pcbs\000"
 3297      74206361 
 3297      6C6C2074 
 3297      63705F6F 
 3297      75747075 
 3298 0026 0000     		.space	2
 3299              	.LC25:
 3300 0028 52535420 		.ascii	"RST not expected here!\000"
 3300      6E6F7420 
 3300      65787065 
 3300      63746564 
 3300      20686572 
 3301              		.section	.rodata.tcp_output_alloc_header.str1.4,"aMS",%progbits,1
 3302              		.align	2
 3303              	.LC6:
 3304 0000 63686563 		.ascii	"check that first pbuf can hold struct tcp_hdr\000"
 3304      6B207468 
 3304      61742066 
 3304      69727374 
 3304      20706275 
 3305              		.section	.rodata.tcp_pbuf_prealloc.str1.4,"aMS",%progbits,1
 3306              		.align	2
 3307              	.LC4:
 3308 0000 6E656564 		.ascii	"need unchained pbuf\000"
 3308      20756E63 
 3308      6861696E 
 3308      65642070 
 3308      62756600 
 3309              		.section	.rodata.tcp_write.str1.4,"aMS",%progbits,1
 3310              		.align	2
 3311              	.LC7:
 3312 0000 7463705F 		.ascii	"tcp_write: arg == NULL (programmer violates API)\000"
 3312      77726974 
 3312      653A2061 
 3312      7267203D 
 3312      3D204E55 
 3313 0031 000000   		.space	3
 3314              	.LC8:
 3315 0034 6D73735F 		.ascii	"mss_local is too small\000"
 3315      6C6F6361 
 3315      6C206973 
 3315      20746F6F 
 3315      20736D61 
 3316 004b 00       		.space	1
 3317              	.LC9:
 3318 004c 696E636F 		.ascii	"inconsistent oversize vs. space\000"
 3318      6E736973 
 3318      74656E74 
 3318      206F7665 
 3318      7273697A 
 3319              	.LC10:
 3320 006c 696E636F 		.ascii	"inconsistent oversize vs. len\000"
 3320      6E736973 
 3320      74656E74 
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 96


 3320      206F7665 
 3320      7273697A 
 3321 008a 0000     		.space	2
 3322              	.LC11:
 3323 008c 7463705F 		.ascii	"tcp_write: ROM pbufs cannot be oversized\000"
 3323      77726974 
 3323      653A2052 
 3323      4F4D2070 
 3323      62756673 
 3324 00b5 000000   		.space	3
 3325              	.LC12:
 3326 00b8 756E7365 		.ascii	"unsent_oversize mismatch (pcb->unsent is NULL)\000"
 3326      6E745F6F 
 3326      76657273 
 3326      697A6520 
 3326      6D69736D 
 3327 00e7 00       		.space	1
 3328              	.LC13:
 3329 00e8 7463705F 		.ascii	"tcp_write: check that first pbuf can hold the compl"
 3329      77726974 
 3329      653A2063 
 3329      6865636B 
 3329      20746861 
 3330 011b 65746520 		.ascii	"ete seglen\000"
 3330      7365676C 
 3330      656E00
 3331 0126 0000     		.space	2
 3332              	.LC14:
 3333 0128 6F766572 		.ascii	"oversize == 0\000"
 3333      73697A65 
 3333      203D3D20 
 3333      3000
 3334 0136 0000     		.space	2
 3335              	.LC15:
 3336 0138 70726576 		.ascii	"prev_seg != NULL\000"
 3336      5F736567 
 3336      20213D20 
 3336      4E554C4C 
 3336      00
 3337 0149 000000   		.space	3
 3338              	.LC16:
 3339 014c 7463705F 		.ascii	"tcp_write: cannot concatenate when pcb->unsent is e"
 3339      77726974 
 3339      653A2063 
 3339      616E6E6F 
 3339      7420636F 
 3340 017f 6D707479 		.ascii	"mpty\000"
 3340      00
 3341              	.LC17:
 3342 0184 7463705F 		.ascii	"tcp_write: extension of reference requires referenc"
 3342      77726974 
 3342      653A2065 
 3342      7874656E 
 3342      73696F6E 
 3343 01b7 6500     		.ascii	"e\000"
 3344 01b9 000000   		.space	3
 3345              	.LC18:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 97


 3346 01bc 7463705F 		.ascii	"tcp_write: valid queue length\000"
 3346      77726974 
 3346      653A2076 
 3346      616C6964 
 3346      20717565 
 3347              		.section	.rodata.tcp_write_checks.str1.4,"aMS",%progbits,1
 3348              		.align	2
 3349              	.LC0:
 3350 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/tcp_out.c\000"
 3350      6C657761 
 3350      7265732F 
 3350      54686972 
 3350      645F5061 
 3351              	.LC1:
 3352 0030 7463705F 		.ascii	"tcp_write: pbufs on queue => at least one queue non"
 3352      77726974 
 3352      653A2070 
 3352      62756673 
 3352      206F6E20 
 3353 0063 2D656D70 		.ascii	"-empty\000"
 3353      747900
 3354 006a 0000     		.space	2
 3355              	.LC2:
 3356 006c 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 3356      7274696F 
 3356      6E202225 
 3356      73222066 
 3356      61696C65 
 3357              	.LC3:
 3358 0094 7463705F 		.ascii	"tcp_write: no pbufs on queue => both queues empty\000"
 3358      77726974 
 3358      653A206E 
 3358      6F207062 
 3358      75667320 
 3359              		.text
 3360              	.Letext0:
 3361              		.file 2 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\machine\\_default_types.h"
 3362              		.file 3 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 3363              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 3364              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 3365              		.file 6 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\lock.h"
 3366              		.file 7 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_types.h"
 3367              		.file 8 "c:\\gcc_toolchain\\6_2017-q1-update\\lib\\gcc\\arm-none-eabi\\6.3.1\\include\\stddef.h"
 3368              		.file 9 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\reent.h"
 3369              		.file 10 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\stdlib.h"
 3370              		.file 11 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\time.h"
 3371              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 3372              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 3373              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 3374              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 3375              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 3376              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 3377              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 3378              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 3379              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 3380              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 3381              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 98


 3382              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 3383              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 3384              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 3385              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4.h"
 3386              		.file 27 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\stdio.h"
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 99


DEFINED SYMBOLS
                            *ABS*:00000000 tcp_out.c
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:18     .text.tcp_write_checks:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:24     .text.tcp_write_checks:00000000 tcp_write_checks
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:157    .text.tcp_write_checks:00000094 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:165    .text.tcp_pbuf_prealloc:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:171    .text.tcp_pbuf_prealloc:00000000 tcp_pbuf_prealloc
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:268    .text.tcp_pbuf_prealloc:00000074 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:275    .text.tcp_create_segment:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:281    .text.tcp_create_segment:00000000 tcp_create_segment
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:421    .text.tcp_create_segment:000000b4 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:428    .text.tcp_output_alloc_header:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:434    .text.tcp_output_alloc_header:00000000 tcp_output_alloc_header
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:540    .text.tcp_output_alloc_header:00000088 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:547    .text.tcp_output_segment:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:553    .text.tcp_output_segment:00000000 tcp_output_segment
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:708    .text.tcp_output_segment:000000b8 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:713    .text.tcp_write:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:720    .text.tcp_write:00000000 tcp_write
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:1327   .text.tcp_write:00000324 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:1341   .text.tcp_write:0000034c $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:1636   .text.tcp_write:00000518 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:1646   .text.tcp_enqueue_flags:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:1653   .text.tcp_enqueue_flags:00000000 tcp_enqueue_flags
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:1912   .text.tcp_enqueue_flags:0000014c $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:1923   .text.tcp_send_fin:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:1930   .text.tcp_send_fin:00000000 tcp_send_fin
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2002   .text.tcp_send_empty_ack:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2009   .text.tcp_send_empty_ack:00000000 tcp_send_empty_ack
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2113   .text.tcp_output:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2120   .text.tcp_output:00000000 tcp_output
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2591   .text.tcp_output:000002a4 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2601   .text.tcp_rst:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2608   .text.tcp_rst:00000000 tcp_rst
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2738   .text.tcp_rst:000000a0 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2745   .text.tcp_rexmit_rto:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2752   .text.tcp_rexmit_rto:00000000 tcp_rexmit_rto
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2817   .text.tcp_rexmit:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2824   .text.tcp_rexmit:00000000 tcp_rexmit
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2909   .text.tcp_rexmit_fast:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2916   .text.tcp_rexmit_fast:00000000 tcp_rexmit_fast
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2983   .text.tcp_keepalive:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:2990   .text.tcp_keepalive:00000000 tcp_keepalive
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:3078   .text.tcp_zero_window_probe:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:3085   .text.tcp_zero_window_probe:00000000 tcp_zero_window_probe
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:3274   .rodata.tcp_create_segment.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:3278   .rodata.tcp_enqueue_flags.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:3295   .rodata.tcp_output.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:3302   .rodata.tcp_output_alloc_header.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:3306   .rodata.tcp_pbuf_prealloc.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:3310   .rodata.tcp_write.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s:3348   .rodata.tcp_write_checks.str1.4:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
printf
pbuf_alloc
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc5b7Yfp.s 			page 100


memp_malloc
pbuf_header
lwip_htons
lwip_htonl
pbuf_free
tcp_seg_free
ip4_output_if
tcp_eff_send_mss_impl
tcp_ticks
memcpy
pbuf_clen
pbuf_cat
tcp_segs_free
ip4_route
tcp_input_pcb
pbuf_copy_partial
