ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"pbuf.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.pbuf_skip_const,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-sp-d16
  24              	pbuf_skip_const:
  25              	.LFB174:
  26              		.file 1 "Middlewares/Third_Party/LwIP/src/core/pbuf.c"
   1:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Packet buffer management
   4:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
   5:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
   6:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
   7:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @defgroup pbuf Packet buffers (PBUF)
   8:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup infrastructure
   9:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  10:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Packets are built from the pbuf data structure. It supports dynamic
  11:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * memory allocation for packet contents or can reference externally
  12:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * managed packet contents both in RAM and ROM. Quick allocation for
  13:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * incoming packets is provided through pools with fixed sized pbufs.
  14:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  15:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * A packet may span over multiple pbufs, chained as a singly linked
  16:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * list. This is called a "pbuf chain".
  17:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  18:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Multiple packets may be queued, also using this singly linked list.
  19:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This is called a "packet queue".
  20:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  21:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * So, a packet queue consists of one or more pbuf chains, each of
  22:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * which consist of one or more pbufs. CURRENTLY, PACKET QUEUES ARE
  23:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * NOT SUPPORTED!!! Use helper structs to queue multiple packets.
  24:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  25:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The differences between a pbuf chain and a packet queue are very
  26:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * precise but subtle.
  27:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  28:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The last pbuf of a packet has a ->tot_len field that equals the
  29:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * ->len field. It can be found by traversing the list. If the last
  30:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * pbuf of a packet has a ->next field other than NULL, more packets
  31:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * are on the queue.
  32:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 2


  33:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Therefore, looping through a pbuf of a single packet, has an
  34:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * loop end condition (tot_len == p->len), NOT (next == NULL).
  35:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  36:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Example of custom pbuf usage for zero-copy RX:
  37:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   @code{.c}
  38:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** typedef struct my_custom_pbuf
  39:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  40:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    struct pbuf_custom p;
  41:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    void* dma_descriptor;
  42:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** } my_custom_pbuf_t;
  43:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  44:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** LWIP_MEMPOOL_DECLARE(RX_POOL, 10, sizeof(my_custom_pbuf_t), "Zero-copy RX PBUF pool");
  45:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  46:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void my_pbuf_free_custom(void* p)
  47:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  48:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   my_custom_pbuf_t* my_puf = (my_custom_pbuf_t*)p;
  49:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  50:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LOCK_INTERRUPTS();
  51:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   free_rx_dma_descriptor(my_pbuf->dma_descriptor);
  52:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_MEMPOOL_FREE(RX_POOL, my_pbuf);
  53:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   UNLOCK_INTERRUPTS();
  54:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
  55:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  56:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void eth_rx_irq()
  57:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  58:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   dma_descriptor*   dma_desc = get_RX_DMA_descriptor_from_ethernet();
  59:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   my_custom_pbuf_t* my_pbuf  = (my_custom_pbuf_t*)LWIP_MEMPOOL_ALLOC(RX_POOL);
  60:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  61:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   my_pbuf->p.custom_free_function = my_pbuf_free_custom;
  62:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   my_pbuf->dma_descriptor         = dma_desc;
  63:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  64:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   invalidate_cpu_cache(dma_desc->rx_data, dma_desc->rx_length);
  65:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   
  66:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf* p = pbuf_alloced_custom(PBUF_RAW,
  67:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      dma_desc->rx_length,
  68:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      PBUF_REF,
  69:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      &my_pbuf->p,
  70:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      dma_desc->rx_data,
  71:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      dma_desc->max_buffer_size);
  72:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  73:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if(netif->input(p, netif) != ERR_OK) {
  74:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     pbuf_free(p);
  75:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
  76:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
  77:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   @endcode
  78:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
  79:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  80:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /*
  81:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  82:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * All rights reserved.
  83:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  84:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Redistribution and use in source and binary forms, with or without modification,
  85:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * are permitted provided that the following conditions are met:
  86:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  87:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  88:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    this list of conditions and the following disclaimer.
  89:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 3


  90:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    this list of conditions and the following disclaimer in the documentation
  91:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    and/or other materials provided with the distribution.
  92:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 3. The name of the author may not be used to endorse or promote products
  93:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    derived from this software without specific prior written permission.
  94:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  95:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  96:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  97:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  98:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  99:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
 100:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 101:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 102:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
 103:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
 104:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * OF SUCH DAMAGE.
 105:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 106:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This file is part of the lwIP TCP/IP stack.
 107:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 108:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Author: Adam Dunkels <adam@sics.se>
 109:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 110:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 111:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 112:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/opt.h"
 113:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 114:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/stats.h"
 115:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/def.h"
 116:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/mem.h"
 117:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/memp.h"
 118:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/pbuf.h"
 119:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/sys.h"
 120:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_TCP && TCP_QUEUE_OOSEQ
 121:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/priv/tcp_priv.h"
 122:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif
 123:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_CHECKSUM_ON_COPY
 124:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/inet_chksum.h"
 125:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif
 126:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 127:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include <string.h>
 128:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 129:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define SIZEOF_STRUCT_PBUF        LWIP_MEM_ALIGN_SIZE(sizeof(struct pbuf))
 130:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /* Since the pool is created in memp, PBUF_POOL_BUFSIZE will be automatically
 131:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    aligned there. Therefore, PBUF_POOL_BUFSIZE_ALIGNED can be used here. */
 132:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_BUFSIZE_ALIGNED LWIP_MEM_ALIGN_SIZE(PBUF_POOL_BUFSIZE)
 133:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 134:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ
 135:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_IS_EMPTY()
 136:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #else /* !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ */
 137:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 138:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !NO_SYS
 139:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #ifndef PBUF_POOL_FREE_OOSEQ_QUEUE_CALL
 140:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/tcpip.h"
 141:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_FREE_OOSEQ_QUEUE_CALL()  do { \
 142:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (tcpip_callback_with_block(pbuf_free_ooseq_callback, NULL, 0) != ERR_OK) { \
 143:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       SYS_ARCH_PROTECT(old_level); \
 144:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pbuf_free_ooseq_pending = 0; \
 145:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       SYS_ARCH_UNPROTECT(old_level); \
 146:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } } while(0)
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 4


 147:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 148:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 149:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 150:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** volatile u8_t pbuf_free_ooseq_pending;
 151:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_IS_EMPTY() pbuf_pool_is_empty()
 152:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 153:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 154:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Attempt to reclaim some memory from queued out-of-sequence TCP segments
 155:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * if we run out of pool pbufs. It's better to give priority to new packets
 156:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * if we're running out.
 157:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 158:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This must be done in the correct thread context therefore this function
 159:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * can only be used with NO_SYS=0 and through tcpip_callback.
 160:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 161:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !NO_SYS
 162:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static
 163:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 164:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 165:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free_ooseq(void)
 166:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 167:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct tcp_pcb* pcb;
 168:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_SET(pbuf_free_ooseq_pending, 0);
 169:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (pcb = tcp_active_pcbs; NULL != pcb; pcb = pcb->next) {
 171:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (NULL != pcb->ooseq) {
 172:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /** Free the ooseq pbufs of one PCB only */
 173:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free_ooseq: freeing out-of-sequence pbufs\n")
 174:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       tcp_segs_free(pcb->ooseq);
 175:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pcb->ooseq = NULL;
 176:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return;
 177:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 178:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 179:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 180:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 181:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !NO_SYS
 182:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 183:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Just a callback function for tcpip_callback() that calls pbuf_free_ooseq().
 184:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 185:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static void
 186:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free_ooseq_callback(void *arg)
 187:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 188:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(arg);
 189:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free_ooseq();
 190:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 191:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 192:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 193:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /** Queue a call to pbuf_free_ooseq if not already queued. */
 194:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static void
 195:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_pool_is_empty(void)
 196:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 197:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #ifndef PBUF_POOL_FREE_OOSEQ_QUEUE_CALL
 198:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_SET(pbuf_free_ooseq_pending, 1);
 199:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #else /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 200:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t queued;
 201:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_DECL_PROTECT(old_level);
 202:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_PROTECT(old_level);
 203:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   queued = pbuf_free_ooseq_pending;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 5


 204:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free_ooseq_pending = 1;
 205:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_UNPROTECT(old_level);
 206:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 207:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (!queued) {
 208:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* queue a call to pbuf_free_ooseq if not already queued */
 209:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     PBUF_POOL_FREE_OOSEQ_QUEUE_CALL();
 210:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 211:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 212:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 213:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ */
 214:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 215:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 216:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 217:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Allocates a pbuf of the given type (possibly a chain for PBUF_POOL type).
 218:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 219:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The actual memory allocated for the pbuf is determined by the
 220:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * layer at which the pbuf is allocated and the requested size
 221:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (from the size parameter).
 222:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 223:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param layer flag to define header size
 224:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param length size of the pbuf's payload
 225:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param type this parameter decides how and where the pbuf
 226:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * should be allocated as follows:
 227:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 228:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_RAM: buffer memory for pbuf is allocated as one large
 229:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             chunk. This includes protocol headers as well.
 230:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_ROM: no buffer memory is allocated for the pbuf, even for
 231:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             protocol headers. Additional headers must be prepended
 232:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             by allocating another pbuf and chain in to the front of
 233:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             the ROM pbuf. It is assumed that the memory used is really
 234:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             similar to ROM in that it is immutable and will not be
 235:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             changed. Memory which is dynamic should generally not
 236:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             be attached to PBUF_ROM pbufs. Use PBUF_REF instead.
 237:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_REF: no buffer memory is allocated for the pbuf, even for
 238:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             protocol headers. It is assumed that the pbuf is only
 239:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             being used in a single thread. If the pbuf gets queued,
 240:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             then pbuf_take should be called to copy the buffer.
 241:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_POOL: the pbuf is allocated as a pbuf chain, with pbufs from
 242:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *              the pbuf pool that is allocated during pbuf_init().
 243:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 244:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the allocated pbuf. If multiple pbufs where allocated, this
 245:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * is the first pbuf of a pbuf chain.
 246:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 247:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
 248:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_alloc(pbuf_layer layer, u16_t length, pbuf_type type)
 249:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 250:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p, *q, *r;
 251:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset;
 252:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   s32_t rem_len; /* remaining length */
 253:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F")\n", length));
 254:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 255:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* determine header offset */
 256:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   switch (layer) {
 257:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_TRANSPORT:
 258:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for transport (often TCP) layer header */
 259:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN + PBUF_IP_HLEN + PBUF_TRANSPORT_HLEN;
 260:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 6


 261:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_IP:
 262:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for IP layer header */
 263:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN + PBUF_IP_HLEN;
 264:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 265:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_LINK:
 266:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for link layer header */
 267:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN;
 268:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 269:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW_TX:
 270:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for encapsulating link layer headers (e.g. 802.11) */
 271:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN;
 272:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 273:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW:
 274:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* no offset (e.g. RX buffers or chain successors) */
 275:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = 0;
 276:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 277:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 278:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: bad pbuf layer", 0);
 279:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 280:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 281:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 282:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   switch (type) {
 283:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_POOL:
 284:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* allocate head of pbuf chain into p */
 285:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 286:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc: allocated pbuf %p\n", (void *)p));
 287:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 288:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       PBUF_POOL_IS_EMPTY();
 289:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 290:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 291:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 292:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 293:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 294:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* make the payload pointer point 'offset' bytes into pbuf data memory */
 295:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->payload = LWIP_MEM_ALIGN((void *)((u8_t *)p + (SIZEOF_STRUCT_PBUF + offset)));
 296:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: pbuf p->payload properly aligned",
 297:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****             ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 298:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* the total length of the pbuf chain is the requested size */
 299:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->tot_len = length;
 300:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set the length of the first pbuf in the chain */
 301:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = LWIP_MIN(length, PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset));
 302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("check p->payload + p->len does not overflow pbuf",
 303:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 ((u8_t*)p->payload + p->len <=
 304:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (u8_t*)p + SIZEOF_STRUCT_PBUF + PBUF_POOL_BUFSIZE_ALIGNED));
 305:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("PBUF_POOL_BUFSIZE must be bigger than MEM_ALIGNMENT",
 306:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       (PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset)) > 0 );
 307:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set reference count (needed here in case we fail) */
 308:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->ref = 1;
 309:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 310:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* now allocate the tail of the pbuf chain */
 311:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 312:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* remember first pbuf for linkage in next iteration */
 313:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     r = p;
 314:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* remaining length to be allocated */
 315:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     rem_len = length - p->len;
 316:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* any remaining pbufs to be allocated? */
 317:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     while (rem_len > 0) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 7


 318:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 319:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (q == NULL) {
 320:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         PBUF_POOL_IS_EMPTY();
 321:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* free chain so far allocated */
 322:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pbuf_free(p);
 323:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* bail out unsuccessfully */
 324:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return NULL;
 325:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 326:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->type = type;
 327:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->flags = 0;
 328:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->next = NULL;
 329:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* make previous pbuf point to this pbuf */
 330:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       r->next = q;
 331:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* set total length of this pbuf and next in chain */
 332:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("rem_len < max_u16_t", rem_len < 0xffff);
 333:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->tot_len = (u16_t)rem_len;
 334:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf length is pool size, unless smaller sized tail */
 335:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->len = LWIP_MIN((u16_t)rem_len, PBUF_POOL_BUFSIZE_ALIGNED);
 336:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->payload = (void *)((u8_t *)q + SIZEOF_STRUCT_PBUF);
 337:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("pbuf_alloc: pbuf q->payload properly aligned",
 338:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               ((mem_ptr_t)q->payload % MEM_ALIGNMENT) == 0);
 339:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("check p->payload + p->len does not overflow pbuf",
 340:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ((u8_t*)p->payload + p->len <=
 341:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                    (u8_t*)p + SIZEOF_STRUCT_PBUF + PBUF_POOL_BUFSIZE_ALIGNED));
 342:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->ref = 1;
 343:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* calculate remaining length to be allocated */
 344:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       rem_len -= q->len;
 345:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember this pbuf for linkage in next iteration */
 346:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       r = q;
 347:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 348:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* end of chain */
 349:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /*r->next = NULL;*/
 350:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 351:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 352:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAM:
 353:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     {
 354:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       mem_size_t alloc_len = LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF + offset) + LWIP_MEM_ALIGN_SIZE
 355:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       
 356:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* bug #50040: Check for integer overflow when calculating alloc_len */
 357:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (alloc_len < LWIP_MEM_ALIGN_SIZE(length)) {
 358:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return NULL;
 359:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 360:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     
 361:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* If pbuf is to be allocated in RAM, allocate memory for it. */
 362:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = (struct pbuf*)mem_malloc(alloc_len);
 363:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 364:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 365:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 366:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 367:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 368:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Set up internal structure of the pbuf. */
 369:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->payload = LWIP_MEM_ALIGN((void *)((u8_t *)p + SIZEOF_STRUCT_PBUF + offset));
 370:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = p->tot_len = length;
 371:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 372:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 373:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 374:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: pbuf->payload properly aligned",
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 8


 375:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****            ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 376:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 377:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf references existing (non-volatile static constant) ROM payload? */
 378:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_ROM:
 379:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf references existing (externally allocated) RAM payload? */
 380:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_REF:
 381:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* only allocate memory for the pbuf structure */
 382:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = (struct pbuf *)memp_malloc(MEMP_PBUF);
 383:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 384:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 385:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ("pbuf_alloc: Could not allocate MEMP_PBUF for PBUF_%s.\n",
 386:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   (type == PBUF_ROM) ? "ROM" : "REF"));
 387:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 388:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 389:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* caller must set this field properly, afterwards */
 390:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->payload = NULL;
 391:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = p->tot_len = length;
 392:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 393:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 394:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 395:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 396:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: erroneous type", 0);
 397:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 398:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 399:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* set reference count */
 400:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->ref = 1;
 401:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* set flags */
 402:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->flags = 0;
 403:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F") == %p\n", length, (void *)
 404:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return p;
 405:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 406:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 407:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 408:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 409:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 410:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Initialize a custom pbuf (already allocated).
 411:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 412:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param l flag to define header size
 413:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param length size of the pbuf's payload
 414:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param type type of the pbuf (only used to treat the pbuf accordingly, as
 415:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        this function allocates no memory)
 416:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pointer to the custom pbuf to initialize (already allocated)
 417:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param payload_mem pointer to the buffer that is used for payload and headers,
 418:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        must be at least big enough to hold 'length' plus the header size,
 419:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        may be NULL if set later.
 420:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        ATTENTION: The caller is responsible for correct alignment of this buffer!!
 421:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param payload_mem_len the size of the 'payload_mem' buffer, must be at least
 422:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        big enough to hold 'length' plus the header size
 423:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 424:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf*
 425:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_alloced_custom(pbuf_layer l, u16_t length, pbuf_type type, struct pbuf_custom *p,
 426:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                     void *payload_mem, u16_t payload_mem_len)
 427:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 428:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset;
 429:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloced_custom(length=%"U16_F")\n", length));
 430:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 431:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* determine header offset */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 9


 432:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   switch (l) {
 433:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_TRANSPORT:
 434:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for transport (often TCP) layer header */
 435:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN + PBUF_IP_HLEN + PBUF_TRANSPORT_HLEN;
 436:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 437:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_IP:
 438:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for IP layer header */
 439:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN + PBUF_IP_HLEN;
 440:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 441:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_LINK:
 442:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for link layer header */
 443:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN;
 444:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 445:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW_TX:
 446:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for encapsulating link layer headers (e.g. 802.11) */
 447:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN;
 448:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 449:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW:
 450:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = 0;
 451:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 452:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 453:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloced_custom: bad pbuf layer", 0);
 454:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 455:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 456:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 457:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (LWIP_MEM_ALIGN_SIZE(offset) + length > payload_mem_len) {
 458:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 459:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 460:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 461:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 462:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.next = NULL;
 463:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (payload_mem != NULL) {
 464:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->pbuf.payload = (u8_t *)payload_mem + LWIP_MEM_ALIGN_SIZE(offset);
 465:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 466:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->pbuf.payload = NULL;
 467:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 468:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.flags = PBUF_FLAG_IS_CUSTOM;
 469:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.len = p->pbuf.tot_len = length;
 470:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.type = type;
 471:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.ref = 1;
 472:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return &p->pbuf;
 473:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 474:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 475:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 476:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 477:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 478:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Shrink a pbuf chain to a desired length.
 479:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 480:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to shrink.
 481:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param new_len desired new length of pbuf chain
 482:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 483:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Depending on the desired length, the first few pbufs in a chain might
 484:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * be skipped and left unchanged. The new last pbuf in the chain will be
 485:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * resized, and any remaining pbufs will be freed.
 486:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 487:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note If the pbuf is ROM/REF, only the ->tot_len and ->len fields are adjusted.
 488:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note May not be called on a packet queue.
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 10


 489:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 490:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note Despite its name, pbuf_realloc cannot grow the size of a pbuf (chain).
 491:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 492:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 493:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_realloc(struct pbuf *p, u16_t new_len)
 494:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 495:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 496:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t rem_len; /* remaining length */
 497:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   s32_t grow;
 498:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 499:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_realloc: p != NULL", p != NULL);
 500:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_realloc: sane p->type", p->type == PBUF_POOL ||
 501:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_ROM ||
 502:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_RAM ||
 503:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_REF);
 504:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 505:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* desired length larger than current length? */
 506:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (new_len >= p->tot_len) {
 507:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enlarging not yet supported */
 508:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return;
 509:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 510:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 511:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* the pbuf chain grows by (new_len - p->tot_len) bytes
 512:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    * (which may be negative in case of shrinking) */
 513:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   grow = new_len - p->tot_len;
 514:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 515:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* first, step over any pbufs that should remain in the chain */
 516:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   rem_len = new_len;
 517:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = p;
 518:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* should this pbuf be kept? */
 519:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (rem_len > q->len) {
 520:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 521:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     rem_len -= q->len;
 522:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease total length indicator */
 523:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("grow < max_u16_t", grow < 0xffff);
 524:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q->tot_len += (u16_t)grow;
 525:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 526:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
 527:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_realloc: q != NULL", q != NULL);
 528:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 529:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* we have now reached the new last pbuf (in q) */
 530:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* rem_len == desired length for pbuf q */
 531:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 532:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* shrink allocated memory for PBUF_RAM */
 533:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* (other types merely adjust their length fields */
 534:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q->type == PBUF_RAM) && (rem_len != q->len)
 535:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 536:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       && ((q->flags & PBUF_FLAG_IS_CUSTOM) == 0)
 537:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 538:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      ) {
 539:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* reallocate and adjust the length of the pbuf that will be split */
 540:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = (struct pbuf *)mem_trim(q, (u16_t)((u8_t *)q->payload - (u8_t *)q) + rem_len);
 541:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 542:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 543:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* adjust length fields for new last pbuf */
 544:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->len = rem_len;
 545:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->tot_len = q->len;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 11


 546:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 547:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* any remaining pbufs in chain? */
 548:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q->next != NULL) {
 549:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* free remaining pbufs in chain */
 550:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     pbuf_free(q->next);
 551:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 552:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* q is last packet in chain */
 553:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->next = NULL;
 554:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 555:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 556:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 557:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 558:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to hide or reveal headers in the payload.
 559:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @see pbuf_header.
 560:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 561:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 562:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param header_size_increment Number of bytes to increment header size.
 563:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param force Allow 'header_size_increment > 0' for PBUF_REF/PBUF_ROM types
 564:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 565:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 566:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 567:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 568:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static u8_t
 569:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_header_impl(struct pbuf *p, s16_t header_size_increment, u8_t force)
 570:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 571:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
 572:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   void *payload;
 573:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 574:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 575:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 576:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((header_size_increment == 0) || (p == NULL)) {
 577:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
 578:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 579:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 580:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (header_size_increment < 0) {
 581:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     increment_magnitude = (u16_t)-header_size_increment;
 582:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Check that we aren't going to move off the end of the pbuf */
 583:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ERROR("increment_magnitude <= p->len", (increment_magnitude <= p->len), return 1;);
 584:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 585:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     increment_magnitude = (u16_t)header_size_increment;
 586:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if 0
 587:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Can't assert these as some callers speculatively call
 588:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****          pbuf_header() to see if it's OK.  Will return 1 below instead. */
 589:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Check that we've got the correct type of pbuf to work with */
 590:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p->type == PBUF_RAM || p->type == PBUF_POOL",
 591:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 p->type == PBUF_RAM || p->type == PBUF_POOL);
 592:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Check that we aren't going to move off the beginning of the pbuf */
 593:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p->payload - increment_magnitude >= p + SIZEOF_STRUCT_PBUF",
 594:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 (u8_t *)p->payload - increment_magnitude >= (u8_t *)p + SIZEOF_STRUCT_PBUF);
 595:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif
 596:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 597:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 598:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   type = p->type;
 599:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* remember current payload pointer */
 600:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   payload = p->payload;
 601:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 602:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf types containing payloads? */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 12


 603:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (type == PBUF_RAM || type == PBUF_POOL) {
 604:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set new payload pointer */
 605:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->payload = (u8_t *)p->payload - header_size_increment;
 606:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* boundary check fails? */
 607:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((u8_t *)p->payload < (u8_t *)p + SIZEOF_STRUCT_PBUF) {
 608:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 609:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         ("pbuf_header: failed as %p < %p (not enough space for new header size)\n",
 610:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         (void *)p->payload, (void *)((u8_t *)p + SIZEOF_STRUCT_PBUF)));
 611:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* restore old payload pointer */
 612:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p->payload = payload;
 613:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* bail out unsuccessfully */
 614:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return 1;
 615:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 616:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf types referring to external payloads? */
 617:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else if (type == PBUF_REF || type == PBUF_ROM) {
 618:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* hide a header in the payload? */
 619:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((header_size_increment < 0) && (increment_magnitude <= p->len)) {
 620:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* increase payload pointer */
 621:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p->payload = (u8_t *)p->payload - header_size_increment;
 622:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else if ((header_size_increment > 0) && force) {
 623:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p->payload = (u8_t *)p->payload - header_size_increment;
 624:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 625:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* cannot expand payload to front (yet!)
 626:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****        * bail out unsuccessfully */
 627:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return 1;
 628:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 629:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 630:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Unknown type */
 631:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("bad pbuf type", 0);
 632:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 1;
 633:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 634:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 635:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->len += header_size_increment;
 636:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->tot_len += header_size_increment;
 637:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 638:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_header: old %p new %p (%"S16_F")\n",
 639:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     (void *)payload, (void *)p->payload, header_size_increment));
 640:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 641:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
 642:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 643:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 644:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 645:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to hide or reveal headers in the payload.
 646:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 647:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the ->payload pointer so that space for a header
 648:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (dis)appears in the pbuf payload.
 649:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 650:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->payload, ->tot_len and ->len fields are adjusted.
 651:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 652:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 653:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param header_size_increment Number of bytes to increment header size which
 654:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * increases the size of the pbuf. New space is on the front.
 655:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (Using a negative value decreases the header size.)
 656:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * If hdr_size_inc is 0, this function does nothing and returns successful.
 657:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 658:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * PBUF_ROM and PBUF_REF type buffers cannot have their sizes increased, so
 659:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the call will fail. A check is made that the increase in header size does
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 13


 660:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * not move the payload pointer in front of the start of the buffer.
 661:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 662:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 663:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 664:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 665:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_header(struct pbuf *p, s16_t header_size_increment)
 666:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 667:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    return pbuf_header_impl(p, header_size_increment, 0);
 668:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 669:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 670:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 671:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Same as pbuf_header but does not check if 'header_size > 0' is allowed.
 672:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This is used internally only, to allow PBUF_REF for RX.
 673:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 674:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 675:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_header_force(struct pbuf *p, s16_t header_size_increment)
 676:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 677:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    return pbuf_header_impl(p, header_size_increment, 1);
 678:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 679:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 680:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 681:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 682:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Dereference a pbuf chain or queue and deallocate any no-longer-used
 683:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * pbufs at the head of this chain or queue.
 684:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 685:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Decrements the pbuf reference count. If it reaches zero, the pbuf is
 686:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * deallocated.
 687:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 688:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * For a pbuf chain, this is repeated for each pbuf in the chain,
 689:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * up to the first pbuf which has a non-zero reference count after
 690:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * decrementing. So, when all reference counts are one, the whole
 691:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * chain is free'd.
 692:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 693:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p The pbuf (chain) to be dereferenced.
 694:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 695:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of pbufs that were de-allocated
 696:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * from the head of the chain.
 697:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 698:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note MUST NOT be called on a packet queue (Not verified to work yet).
 699:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note the reference counter of a pbuf equals the number of pointers
 700:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * that refer to the pbuf (or into the pbuf).
 701:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 702:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @internal examples:
 703:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 704:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Assuming existing chains a->b->c with the following reference
 705:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * counts, calling pbuf_free(a) results in:
 706:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 707:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1->2->3 becomes ...1->3
 708:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 3->3->3 becomes 2->3->3
 709:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1->1->2 becomes ......1
 710:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 2->1->1 becomes 1->1->1
 711:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1->1->1 becomes .......
 712:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 713:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 714:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 715:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free(struct pbuf *p)
 716:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 14


 717:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
 718:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 719:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t count;
 720:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 721:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p == NULL) {
 722:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 723:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 724:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 725:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       ("pbuf_free(p == NULL) was called.\n"));
 726:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
 727:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 728:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free(%p)\n", (void *)p));
 729:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 730:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   PERF_START;
 731:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 732:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_free: sane type",
 733:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type == PBUF_RAM || p->type == PBUF_ROM ||
 734:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type == PBUF_REF || p->type == PBUF_POOL);
 735:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 736:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   count = 0;
 737:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* de-allocate all consecutive pbufs from the head of the chain that
 738:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    * obtain a zero reference count after decrementing*/
 739:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (p != NULL) {
 740:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t ref;
 741:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_DECL_PROTECT(old_level);
 742:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Since decrementing ref cannot be guaranteed to be a single machine operation
 743:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      * we must protect it. We put the new ref into a local variable to prevent
 744:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      * further protection. */
 745:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_PROTECT(old_level);
 746:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* all pbufs in a chain are referenced at least once */
 747:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_free: p->ref > 0", p->ref > 0);
 748:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 749:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ref = --(p->ref);
 750:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_UNPROTECT(old_level);
 751:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* this pbuf is no longer referenced to? */
 752:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (ref == 0) {
 753:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember next pbuf in chain for next iteration */
 754:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q = p->next;
 755:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: deallocating %p\n", (void *)p));
 756:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       type = p->type;
 757:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 758:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* is this a custom pbuf? */
 759:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if ((p->flags & PBUF_FLAG_IS_CUSTOM) != 0) {
 760:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         struct pbuf_custom *pc = (struct pbuf_custom*)p;
 761:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         LWIP_ASSERT("pc->custom_free_function != NULL", pc->custom_free_function != NULL);
 762:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 763:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       } else
 764:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 765:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       {
 766:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* is this a pbuf from the pool? */
 767:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         if (type == PBUF_POOL) {
 768:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF_POOL, p);
 769:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* is this a ROM or RAM referencing pbuf? */
 770:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         } else if (type == PBUF_ROM || type == PBUF_REF) {
 771:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF, p);
 772:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* type == PBUF_RAM */
 773:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         } else {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 15


 774:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           mem_free(p);
 775:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         }
 776:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 777:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       count++;
 778:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* proceed to next pbuf */
 779:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = q;
 780:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* p->ref > 0, this pbuf is still referenced to */
 781:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* (and so the remaining pbufs in chain as well) */
 782:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 783:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: %p has ref %"U16_F", ending here.\n", 
 784:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* stop walking through the chain */
 785:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = NULL;
 786:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 787:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 788:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   PERF_STOP("pbuf_free");
 789:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return number of de-allocated pbufs */
 790:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return count;
 791:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 792:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 793:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 794:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Count number of pbufs in a chain
 795:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 796:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p first pbuf of chain
 797:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of pbufs in a chain
 798:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 799:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
 800:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_clen(const struct pbuf *p)
 801:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 802:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t len;
 803:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 804:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   len = 0;
 805:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (p != NULL) {
 806:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ++len;
 807:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = p->next;
 808:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 809:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return len;
 810:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 811:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 812:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 813:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 814:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Increment the reference count of the pbuf.
 815:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 816:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to increase reference counter of
 817:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 818:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 819:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 820:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_ref(struct pbuf *p)
 821:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 822:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf given? */
 823:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p != NULL) {
 824:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_INC(p->ref, 1);
 825:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 826:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 827:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 828:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 829:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 830:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 16


 831:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Concatenate two pbufs (each may be a pbuf chain) and take over
 832:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the caller's reference of the tail pbuf.
 833:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 834:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note The caller MAY NOT reference the tail pbuf afterwards.
 835:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Use pbuf_chain() for that purpose.
 836:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 837:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @see pbuf_chain()
 838:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 839:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 840:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_cat(struct pbuf *h, struct pbuf *t)
 841:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 842:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
 843:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 844:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("(h != NULL) && (t != NULL) (programmer violates API)",
 845:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 846:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 847:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* proceed to last pbuf of chain */
 848:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (p = h; p->next != NULL; p = p->next) {
 849:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 850:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->tot_len += t->tot_len;
 851:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 852:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* { p is last pbuf of first h chain, p->next == NULL } */
 853:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->tot_len == p->len (of last pbuf in chain)", p->tot_len == p->len);
 854:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 855:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* add total length of second chain to last pbuf total of first chain */
 856:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->tot_len += t->tot_len;
 857:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 858:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->next = t;
 859:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* p->next now references t, but the caller will drop its reference to t,
 860:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    * so netto there is no change to the reference count of t.
 861:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    */
 862:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 863:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 864:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 865:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 866:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Chain two pbufs (or pbuf chains) together.
 867:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 868:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The caller MUST call pbuf_free(t) once it has stopped
 869:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * using it. Use pbuf_cat() instead if you no longer use t.
 870:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 871:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param h head pbuf (chain)
 872:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param t tail pbuf (chain)
 873:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note The pbufs MUST belong to the same packet.
 874:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note MAY NOT be called on a packet queue.
 875:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 876:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->tot_len fields of all pbufs of the head chain are adjusted.
 877:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->next field of the last pbuf of the head chain is adjusted.
 878:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->ref field of the first pbuf of the tail chain is adjusted.
 879:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 880:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 881:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 882:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_chain(struct pbuf *h, struct pbuf *t)
 883:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 884:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_cat(h, t);
 885:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* t is now referenced by h */
 886:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_ref(t);
 887:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_chain: %p references %p\n", (void *)h, (void *)t)
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 17


 888:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 889:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 890:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 891:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Dechains the first pbuf from its succeeding pbufs in the chain.
 892:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 893:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Makes p->tot_len field equal to p->len.
 894:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to dechain
 895:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return remainder of the pbuf chain, or NULL if it was de-allocated.
 896:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note May not be called on a packet queue.
 897:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 898:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
 899:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_dechain(struct pbuf *p)
 900:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 901:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 902:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t tail_gone = 1;
 903:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* tail */
 904:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = p->next;
 905:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf has successor in chain? */
 906:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q != NULL) {
 907:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 908:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p->tot_len == p->len + q->tot_len", q->tot_len == p->tot_len - p->len);
 909:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enforce invariant if assertion is disabled */
 910:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q->tot_len = p->tot_len - p->len;
 911:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decouple pbuf from remainder */
 912:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 913:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* total length of pbuf p is its own length only */
 914:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->tot_len = p->len;
 915:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* q is no longer referenced by p, free it */
 916:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_dechain: unreferencing %p\n", (void *)q));
 917:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     tail_gone = pbuf_free(q);
 918:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (tail_gone > 0) {
 919:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE,
 920:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ("pbuf_dechain: deallocated %p (as it is no longer referenced)\n", (void *)q));
 921:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 922:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* return remaining tail or NULL if deallocated */
 923:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 924:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 925:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->tot_len == p->len", p->tot_len == p->len);
 926:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 927:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 928:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 929:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 930:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 931:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Create PBUF_RAM copies of pbufs.
 932:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 933:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Used to queue packets on behalf of the lwIP stack, such as
 934:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * ARP based queueing.
 935:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 936:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note You MUST explicitly use p = pbuf_take(p);
 937:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 938:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note Only one packet is copied, no packet queue!
 939:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 940:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p_to pbuf destination of the copy
 941:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p_from pbuf source of the copy
 942:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 943:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if pbuf was copied
 944:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         ERR_ARG if one of the pbufs is NULL or p_to is not big
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 18


 945:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *                 enough to hold p_from
 946:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 947:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
 948:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_copy(struct pbuf *p_to, const struct pbuf *p_from)
 949:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 950:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset_to=0, offset_from=0, len;
 951:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 952:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy(%p, %p)\n",
 953:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     (const void*)p_to, (const void*)p_from));
 954:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 955:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* is the target big enough to hold the source? */
 956:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy: target not big enough to hold source", ((p_to != NULL) &&
 957:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 958:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 959:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* iterate through pbuf chain */
 960:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   do
 961:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   {
 962:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* copy one part of the original chain */
 963:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((p_to->len - offset_to) >= (p_from->len - offset_from)) {
 964:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* complete current p_from fits into current p_to */
 965:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       len = p_from->len - offset_from;
 966:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 967:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* current p_from does not fit into current p_to */
 968:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       len = p_to->len - offset_to;
 969:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 970:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     MEMCPY((u8_t*)p_to->payload + offset_to, (u8_t*)p_from->payload + offset_from, len);
 971:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_to += len;
 972:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_from += len;
 973:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_to <= p_to->len", offset_to <= p_to->len);
 974:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 975:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 976:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_from (if any) */
 977:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset_from = 0;
 978:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_from = p_from->next;
 979:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 980:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_to == p_to->len) {
 981:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_to (if any) */
 982:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset_to = 0;
 983:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_to = p_to->next;
 984:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("p_to != NULL", (p_to != NULL) || (p_from == NULL) , return ERR_ARG;);
 985:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 986:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 987:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((p_from != NULL) && (p_from->len == p_from->tot_len)) {
 988:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 989:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("pbuf_copy() does not allow packet queues!",
 990:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 991:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 992:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((p_to != NULL) && (p_to->len == p_to->tot_len)) {
 993:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 994:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("pbuf_copy() does not allow packet queues!",
 995:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   (p_to->next == NULL), return ERR_VAL;);
 996:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 997:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } while (p_from);
 998:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy: end of chain reached.\n"));
 999:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
1000:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1001:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 19


1002:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1003:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1004:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copy (part of) the contents of a packet buffer
1005:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * to an application supplied buffer.
1006:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1007:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buf the pbuf from which to copy data
1008:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr the application supplied buffer
1009:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of data to copy (dataptr must be big enough). No more
1010:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * than buf->tot_len will be copied, irrespective of len
1011:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into the packet buffer from where to begin copying len bytes
1012:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of bytes copied, or 0 on failure
1013:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1014:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1015:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_copy_partial(const struct pbuf *buf, void *dataptr, u16_t len, u16_t offset)
1016:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1017:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf *p;
1018:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t left;
1019:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t buf_copy_len;
1020:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t copied_total = 0;
1021:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1022:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid buf", (buf != NULL), return 0;);
1023:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
1024:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1025:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   left = 0;
1026:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1027:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((buf == NULL) || (dataptr == NULL)) {
1028:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
1029:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1030:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1031:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* Note some systems use byte copy if dataptr or one of the pbuf payload pointers are unaligned. 
1032:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (p = buf; len != 0 && p != NULL; p = p->next) {
1033:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
1034:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
1035:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset -= p->len;
1036:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
1037:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* copy from this buffer. maybe only partially. */
1038:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       buf_copy_len = p->len - offset;
1039:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
1040:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         buf_copy_len = len;
1041:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1042:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* copy the necessary parts of the buffer */
1043:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       MEMCPY(&((char*)dataptr)[left], &((char*)p->payload)[offset], buf_copy_len);
1044:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       copied_total += buf_copy_len;
1045:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       left += buf_copy_len;
1046:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       len -= buf_copy_len;
1047:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset = 0;
1048:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1049:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1050:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return copied_total;
1051:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1052:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1053:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_TCP && TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1054:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1055:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This method modifies a 'pbuf chain', so that its total length is
1056:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * smaller than 64K. The remainder of the original pbuf chain is stored
1057:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * in *rest.
1058:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This function never creates new pbufs, but splits an existing chain
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 20


1059:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * in two parts. The tot_len of the modified packet queue will likely be
1060:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * smaller than 64K.
1061:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 'packet queues' are not supported by this function.
1062:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1063:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the pbuf queue to be split
1064:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param rest pointer to store the remainder (after the first 64K)
1065:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1066:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void pbuf_split_64k(struct pbuf *p, struct pbuf **rest)
1067:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1068:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   *rest = NULL;
1069:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((p != NULL) && (p->next != NULL)) {
1070:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t tot_len_front = p->len;
1071:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     struct pbuf *i = p;
1072:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     struct pbuf *r = p->next;
1073:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1074:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* continue until the total length (summed up as u16_t) overflows */
1075:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     while ((r != NULL) && ((u16_t)(tot_len_front + r->len) > tot_len_front)) {
1076:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       tot_len_front += r->len;
1077:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       i = r;
1078:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       r = r->next;
1079:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1080:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* i now points to last packet of the first segment. Set next
1081:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****        pointer to NULL */
1082:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     i->next = NULL;
1083:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1084:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (r != NULL) {
1085:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* Update the tot_len field in the first part */
1086:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       for (i = p; i != NULL; i = i->next) {
1087:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         i->tot_len -= r->tot_len;
1088:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         LWIP_ASSERT("tot_len/len mismatch in last pbuf",
1089:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                     (i->next != NULL) || (i->tot_len == i->len));
1090:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1091:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (p->flags & PBUF_FLAG_TCP_FIN) {
1092:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         r->flags |= PBUF_FLAG_TCP_FIN;
1093:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1094:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1095:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* tot_len field in rest does not need modifications */
1096:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* reference counters do not need modifications */
1097:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       *rest = r;
1098:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1099:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1100:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1101:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_TCP && TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1102:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1103:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /* Actual implementation of pbuf_skip() but returning const pointer... */
1104:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static const struct pbuf*
1105:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_skip_const(const struct pbuf* in, u16_t in_offset, u16_t* out_offset)
1106:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  27              		.loc 1 1106 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
1107:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset_left = in_offset;
1108:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf* q = in;
1109:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 21


1110:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* get the correct pbuf */
1111:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while ((q != NULL) && (q->len <= offset_left)) {
  33              		.loc 1 1111 0
  34 0000 02E0     		b	.L2
  35              	.LVL1:
  36              	.L4:
1112:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left -= q->len;
  37              		.loc 1 1112 0
  38 0002 C91A     		subs	r1, r1, r3
  39              	.LVL2:
  40 0004 89B2     		uxth	r1, r1
  41              	.LVL3:
1113:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
  42              		.loc 1 1113 0
  43 0006 0068     		ldr	r0, [r0]
  44              	.LVL4:
  45              	.L2:
1111:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left -= q->len;
  46              		.loc 1 1111 0
  47 0008 10B1     		cbz	r0, .L3
1111:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left -= q->len;
  48              		.loc 1 1111 0 is_stmt 0 discriminator 1
  49 000a 4389     		ldrh	r3, [r0, #10]
  50 000c 9942     		cmp	r1, r3
  51 000e F8D2     		bcs	.L4
  52              	.L3:
1114:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1115:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (out_offset != NULL) {
  53              		.loc 1 1115 0 is_stmt 1
  54 0010 02B1     		cbz	r2, .L5
1116:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     *out_offset = offset_left;
  55              		.loc 1 1116 0
  56 0012 1180     		strh	r1, [r2]	@ movhi
  57              	.L5:
1117:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1118:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return q;
1119:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
  58              		.loc 1 1119 0
  59 0014 7047     		bx	lr
  60              		.cfi_endproc
  61              	.LFE174:
  63              		.section	.text.pbuf_header_impl,"ax",%progbits
  64              		.align	1
  65              		.syntax unified
  66              		.thumb
  67              		.thumb_func
  68              		.fpu fpv5-sp-d16
  70              	pbuf_header_impl:
  71              	.LFB163:
 570:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
  72              		.loc 1 570 0
  73              		.cfi_startproc
  74              		@ args = 0, pretend = 0, frame = 0
  75              		@ frame_needed = 0, uses_anonymous_args = 0
  76              	.LVL5:
  77 0000 70B5     		push	{r4, r5, r6, lr}
  78              	.LCFI0:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 22


  79              		.cfi_def_cfa_offset 16
  80              		.cfi_offset 4, -16
  81              		.cfi_offset 5, -12
  82              		.cfi_offset 6, -8
  83              		.cfi_offset 14, -4
  84 0002 0C46     		mov	r4, r1
  85 0004 1646     		mov	r6, r2
 575:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((header_size_increment == 0) || (p == NULL)) {
  86              		.loc 1 575 0
  87 0006 0546     		mov	r5, r0
  88 0008 D8B1     		cbz	r0, .L18
  89              	.LVL6:
  90              	.L7:
 576:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
  91              		.loc 1 576 0
  92 000a 002D     		cmp	r5, #0
  93 000c 18BF     		it	ne
  94 000e 002C     		cmpne	r4, #0
  95 0010 4DD0     		beq	.L15
 580:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     increment_magnitude = (u16_t)-header_size_increment;
  96              		.loc 1 580 0
  97 0012 002C     		cmp	r4, #0
  98 0014 1DDB     		blt	.L19
 585:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if 0
  99              		.loc 1 585 0
 100 0016 A2B2     		uxth	r2, r4
 101              	.LVL7:
 102              	.L10:
 598:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* remember current payload pointer */
 103              		.loc 1 598 0
 104 0018 2B7B     		ldrb	r3, [r5, #12]	@ zero_extendqisi2
 105              	.LVL8:
 600:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 106              		.loc 1 600 0
 107 001a 6968     		ldr	r1, [r5, #4]
 108              	.LVL9:
 603:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set new payload pointer */
 109              		.loc 1 603 0
 110 001c 032B     		cmp	r3, #3
 111 001e 18BF     		it	ne
 112 0020 002B     		cmpne	r3, #0
 113 0022 28D1     		bne	.L11
 605:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* boundary check fails? */
 114              		.loc 1 605 0
 115 0024 0B1B     		subs	r3, r1, r4
 116              	.LVL10:
 117 0026 6B60     		str	r3, [r5, #4]
 607:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 118              		.loc 1 607 0
 119 0028 05F11002 		add	r2, r5, #16
 120              	.LVL11:
 121 002c 9342     		cmp	r3, r2
 122 002e 1FD3     		bcc	.L20
 123              	.LVL12:
 124              	.L12:
 635:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->tot_len += header_size_increment;
 125              		.loc 1 635 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 23


 126 0030 A4B2     		uxth	r4, r4
 127 0032 6B89     		ldrh	r3, [r5, #10]
 128 0034 2344     		add	r3, r3, r4
 129 0036 6B81     		strh	r3, [r5, #10]	@ movhi
 636:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 130              		.loc 1 636 0
 131 0038 2B89     		ldrh	r3, [r5, #8]
 132 003a 1C44     		add	r4, r4, r3
 133 003c 2C81     		strh	r4, [r5, #8]	@ movhi
 641:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 134              		.loc 1 641 0
 135 003e 0020     		movs	r0, #0
 136 0040 70BD     		pop	{r4, r5, r6, pc}
 137              	.LVL13:
 138              	.L18:
 575:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((header_size_increment == 0) || (p == NULL)) {
 139              		.loc 1 575 0 discriminator 1
 140 0042 1D4B     		ldr	r3, .L22
 141 0044 40F23F22 		movw	r2, #575
 142              	.LVL14:
 143 0048 1C49     		ldr	r1, .L22+4
 144              	.LVL15:
 145 004a 1D48     		ldr	r0, .L22+8
 146              	.LVL16:
 147 004c FFF7FEFF 		bl	printf
 148              	.LVL17:
 149 0050 DBE7     		b	.L7
 150              	.L19:
 581:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Check that we aren't going to move off the end of the pbuf */
 151              		.loc 1 581 0
 152 0052 A2B2     		uxth	r2, r4
 153 0054 5242     		negs	r2, r2
 154 0056 92B2     		uxth	r2, r2
 155              	.LVL18:
 583:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 156              		.loc 1 583 0
 157 0058 6B89     		ldrh	r3, [r5, #10]
 158 005a 9A42     		cmp	r2, r3
 159 005c DCD9     		bls	.L10
 583:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 160              		.loc 1 583 0 is_stmt 0 discriminator 1
 161 005e 164B     		ldr	r3, .L22
 162 0060 40F24722 		movw	r2, #583
 163              	.LVL19:
 164 0064 1749     		ldr	r1, .L22+12
 165 0066 1648     		ldr	r0, .L22+8
 166 0068 FFF7FEFF 		bl	printf
 167              	.LVL20:
 168 006c 0120     		movs	r0, #1
 169 006e 70BD     		pop	{r4, r5, r6, pc}
 170              	.LVL21:
 171              	.L20:
 612:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* bail out unsuccessfully */
 172              		.loc 1 612 0 is_stmt 1
 173 0070 6960     		str	r1, [r5, #4]
 614:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 174              		.loc 1 614 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 24


 175 0072 0120     		movs	r0, #1
 176 0074 70BD     		pop	{r4, r5, r6, pc}
 177              	.LVL22:
 178              	.L11:
 617:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* hide a header in the payload? */
 179              		.loc 1 617 0
 180 0076 013B     		subs	r3, r3, #1
 181              	.LVL23:
 182 0078 9BB2     		uxth	r3, r3
 183              	.LVL24:
 184 007a 012B     		cmp	r3, #1
 185 007c 0ED8     		bhi	.L13
 619:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* increase payload pointer */
 186              		.loc 1 619 0
 187 007e 002C     		cmp	r4, #0
 188 0080 06DB     		blt	.L21
 189              	.L14:
 622:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p->payload = (u8_t *)p->payload - header_size_increment;
 190              		.loc 1 622 0
 191 0082 002E     		cmp	r6, #0
 192 0084 18BF     		it	ne
 193 0086 002C     		cmpne	r4, #0
 194 0088 13DD     		ble	.L16
 623:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 195              		.loc 1 623 0
 196 008a 091B     		subs	r1, r1, r4
 197              	.LVL25:
 198 008c 6960     		str	r1, [r5, #4]
 199              	.LVL26:
 200 008e CFE7     		b	.L12
 201              	.LVL27:
 202              	.L21:
 619:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* increase payload pointer */
 203              		.loc 1 619 0 discriminator 1
 204 0090 6B89     		ldrh	r3, [r5, #10]
 205 0092 9A42     		cmp	r2, r3
 206 0094 F5D8     		bhi	.L14
 621:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else if ((header_size_increment > 0) && force) {
 207              		.loc 1 621 0
 208 0096 091B     		subs	r1, r1, r4
 209              	.LVL28:
 210 0098 6960     		str	r1, [r5, #4]
 211              	.LVL29:
 212 009a C9E7     		b	.L12
 213              	.LVL30:
 214              	.L13:
 631:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 1;
 215              		.loc 1 631 0 discriminator 1
 216 009c 064B     		ldr	r3, .L22
 217 009e 40F27722 		movw	r2, #631
 218              	.LVL31:
 219 00a2 0949     		ldr	r1, .L22+16
 220              	.LVL32:
 221 00a4 0648     		ldr	r0, .L22+8
 222 00a6 FFF7FEFF 		bl	printf
 223              	.LVL33:
 632:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 25


 224              		.loc 1 632 0 discriminator 1
 225 00aa 0120     		movs	r0, #1
 226 00ac 70BD     		pop	{r4, r5, r6, pc}
 227              	.LVL34:
 228              	.L15:
 577:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 229              		.loc 1 577 0
 230 00ae 0020     		movs	r0, #0
 231 00b0 70BD     		pop	{r4, r5, r6, pc}
 232              	.LVL35:
 233              	.L16:
 627:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 234              		.loc 1 627 0
 235 00b2 0120     		movs	r0, #1
 642:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 236              		.loc 1 642 0
 237 00b4 70BD     		pop	{r4, r5, r6, pc}
 238              	.LVL36:
 239              	.L23:
 240 00b6 00BF     		.align	2
 241              	.L22:
 242 00b8 00000000 		.word	.LC0
 243 00bc 30000000 		.word	.LC1
 244 00c0 3C000000 		.word	.LC2
 245 00c4 64000000 		.word	.LC3
 246 00c8 84000000 		.word	.LC4
 247              		.cfi_endproc
 248              	.LFE163:
 250              		.section	.text.pbuf_pool_is_empty,"ax",%progbits
 251              		.align	1
 252              		.syntax unified
 253              		.thumb
 254              		.thumb_func
 255              		.fpu fpv5-sp-d16
 257              	pbuf_pool_is_empty:
 258              	.LFB159:
 196:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #ifndef PBUF_POOL_FREE_OOSEQ_QUEUE_CALL
 259              		.loc 1 196 0
 260              		.cfi_startproc
 261              		@ args = 0, pretend = 0, frame = 0
 262              		@ frame_needed = 0, uses_anonymous_args = 0
 263 0000 10B5     		push	{r4, lr}
 264              	.LCFI1:
 265              		.cfi_def_cfa_offset 8
 266              		.cfi_offset 4, -8
 267              		.cfi_offset 14, -4
 202:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   queued = pbuf_free_ooseq_pending;
 268              		.loc 1 202 0
 269 0002 FFF7FEFF 		bl	sys_arch_protect
 270              	.LVL37:
 203:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free_ooseq_pending = 1;
 271              		.loc 1 203 0
 272 0006 0C4B     		ldr	r3, .L28
 273 0008 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 274 000a E4B2     		uxtb	r4, r4
 275              	.LVL38:
 204:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_UNPROTECT(old_level);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 26


 276              		.loc 1 204 0
 277 000c 0122     		movs	r2, #1
 278 000e 1A70     		strb	r2, [r3]
 205:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 279              		.loc 1 205 0
 280 0010 FFF7FEFF 		bl	sys_arch_unprotect
 281              	.LVL39:
 207:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* queue a call to pbuf_free_ooseq if not already queued */
 282              		.loc 1 207 0
 283 0014 04B1     		cbz	r4, .L27
 284              	.L24:
 285 0016 10BD     		pop	{r4, pc}
 286              	.LVL40:
 287              	.L27:
 209:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 288              		.loc 1 209 0
 289 0018 0022     		movs	r2, #0
 290 001a 1146     		mov	r1, r2
 291 001c 0748     		ldr	r0, .L28+4
 292 001e FFF7FEFF 		bl	tcpip_callback_with_block
 293              	.LVL41:
 294 0022 0028     		cmp	r0, #0
 295 0024 F7D0     		beq	.L24
 209:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 296              		.loc 1 209 0 is_stmt 0 discriminator 1
 297 0026 FFF7FEFF 		bl	sys_arch_protect
 298              	.LVL42:
 299 002a 0022     		movs	r2, #0
 300 002c 024B     		ldr	r3, .L28
 301 002e 1A70     		strb	r2, [r3]
 302 0030 FFF7FEFF 		bl	sys_arch_unprotect
 303              	.LVL43:
 212:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ */
 304              		.loc 1 212 0 is_stmt 1 discriminator 1
 305 0034 EFE7     		b	.L24
 306              	.L29:
 307 0036 00BF     		.align	2
 308              	.L28:
 309 0038 00000000 		.word	pbuf_free_ooseq_pending
 310 003c 00000000 		.word	pbuf_free_ooseq_callback
 311              		.cfi_endproc
 312              	.LFE159:
 314              		.section	.text.pbuf_free_ooseq,"ax",%progbits
 315              		.align	1
 316              		.syntax unified
 317              		.thumb
 318              		.thumb_func
 319              		.fpu fpv5-sp-d16
 321              	pbuf_free_ooseq:
 322              	.LFB157:
 166:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct tcp_pcb* pcb;
 323              		.loc 1 166 0
 324              		.cfi_startproc
 325              		@ args = 0, pretend = 0, frame = 0
 326              		@ frame_needed = 0, uses_anonymous_args = 0
 327 0000 10B5     		push	{r4, lr}
 328              	.LCFI2:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 27


 329              		.cfi_def_cfa_offset 8
 330              		.cfi_offset 4, -8
 331              		.cfi_offset 14, -4
 332              	.LBB2:
 168:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 333              		.loc 1 168 0
 334 0002 FFF7FEFF 		bl	sys_arch_protect
 335              	.LVL44:
 336 0006 0022     		movs	r2, #0
 337 0008 084B     		ldr	r3, .L38
 338 000a 1A70     		strb	r2, [r3]
 339 000c FFF7FEFF 		bl	sys_arch_unprotect
 340              	.LVL45:
 341              	.LBE2:
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (NULL != pcb->ooseq) {
 342              		.loc 1 170 0
 343 0010 074B     		ldr	r3, .L38+4
 344 0012 1C68     		ldr	r4, [r3]
 345              	.LVL46:
 346              	.L31:
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (NULL != pcb->ooseq) {
 347              		.loc 1 170 0 is_stmt 0 discriminator 1
 348 0014 44B1     		cbz	r4, .L36
 171:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /** Free the ooseq pbufs of one PCB only */
 349              		.loc 1 171 0 is_stmt 1
 350 0016 206F     		ldr	r0, [r4, #112]
 351 0018 08B9     		cbnz	r0, .L37
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (NULL != pcb->ooseq) {
 352              		.loc 1 170 0 discriminator 2
 353 001a E468     		ldr	r4, [r4, #12]
 354              	.LVL47:
 355 001c FAE7     		b	.L31
 356              	.L37:
 174:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pcb->ooseq = NULL;
 357              		.loc 1 174 0
 358 001e FFF7FEFF 		bl	tcp_segs_free
 359              	.LVL48:
 175:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return;
 360              		.loc 1 175 0
 361 0022 0023     		movs	r3, #0
 362 0024 2367     		str	r3, [r4, #112]
 176:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 363              		.loc 1 176 0
 364 0026 10BD     		pop	{r4, pc}
 365              	.LVL49:
 366              	.L36:
 367 0028 10BD     		pop	{r4, pc}
 368              	.LVL50:
 369              	.L39:
 370 002a 00BF     		.align	2
 371              	.L38:
 372 002c 00000000 		.word	pbuf_free_ooseq_pending
 373 0030 00000000 		.word	tcp_active_pcbs
 374              		.cfi_endproc
 375              	.LFE157:
 377              		.section	.text.pbuf_free_ooseq_callback,"ax",%progbits
 378              		.align	1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 28


 379              		.syntax unified
 380              		.thumb
 381              		.thumb_func
 382              		.fpu fpv5-sp-d16
 384              	pbuf_free_ooseq_callback:
 385              	.LFB158:
 187:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(arg);
 386              		.loc 1 187 0
 387              		.cfi_startproc
 388              		@ args = 0, pretend = 0, frame = 0
 389              		@ frame_needed = 0, uses_anonymous_args = 0
 390              	.LVL51:
 391 0000 08B5     		push	{r3, lr}
 392              	.LCFI3:
 393              		.cfi_def_cfa_offset 8
 394              		.cfi_offset 3, -8
 395              		.cfi_offset 14, -4
 189:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 396              		.loc 1 189 0
 397 0002 FFF7FEFF 		bl	pbuf_free_ooseq
 398              	.LVL52:
 399 0006 08BD     		pop	{r3, pc}
 400              		.cfi_endproc
 401              	.LFE158:
 403              		.section	.text.pbuf_alloced_custom,"ax",%progbits
 404              		.align	1
 405              		.global	pbuf_alloced_custom
 406              		.syntax unified
 407              		.thumb
 408              		.thumb_func
 409              		.fpu fpv5-sp-d16
 411              	pbuf_alloced_custom:
 412              	.LFB161:
 427:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset;
 413              		.loc 1 427 0
 414              		.cfi_startproc
 415              		@ args = 8, pretend = 0, frame = 0
 416              		@ frame_needed = 0, uses_anonymous_args = 0
 417              	.LVL53:
 418 0000 70B5     		push	{r4, r5, r6, lr}
 419              	.LCFI4:
 420              		.cfi_def_cfa_offset 16
 421              		.cfi_offset 4, -16
 422              		.cfi_offset 5, -12
 423              		.cfi_offset 6, -8
 424              		.cfi_offset 14, -4
 425 0002 049C     		ldr	r4, [sp, #16]
 432:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_TRANSPORT:
 426              		.loc 1 432 0
 427 0004 0428     		cmp	r0, #4
 428 0006 0AD8     		bhi	.L43
 429 0008 DFE800F0 		tbb	[pc, r0]
 430              	.L45:
 431 000c 12       		.byte	(.L44-.L45)/2
 432 000d 14       		.byte	(.L53-.L45)/2
 433 000e 03       		.byte	(.L47-.L45)/2
 434 000f 05       		.byte	(.L48-.L45)/2
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 29


 435 0010 07       		.byte	(.L49-.L45)/2
 436 0011 00       		.p2align 1
 437              	.L47:
 438              	.LVL54:
 443:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 439              		.loc 1 443 0
 440 0012 0E20     		movs	r0, #14
 441              	.LVL55:
 444:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW_TX:
 442              		.loc 1 444 0
 443 0014 0FE0     		b	.L46
 444              	.LVL56:
 445              	.L48:
 447:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 446              		.loc 1 447 0
 447 0016 0020     		movs	r0, #0
 448              	.LVL57:
 448:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW:
 449              		.loc 1 448 0
 450 0018 0DE0     		b	.L46
 451              	.LVL58:
 452              	.L49:
 450:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 453              		.loc 1 450 0
 454 001a 0020     		movs	r0, #0
 455              	.LVL59:
 451:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 456              		.loc 1 451 0
 457 001c 0BE0     		b	.L46
 458              	.LVL60:
 459              	.L43:
 453:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 460              		.loc 1 453 0 discriminator 1
 461 001e 134B     		ldr	r3, .L56
 462              	.LVL61:
 463 0020 40F2C512 		movw	r2, #453
 464              	.LVL62:
 465 0024 1249     		ldr	r1, .L56+4
 466              	.LVL63:
 467 0026 1348     		ldr	r0, .L56+8
 468              	.LVL64:
 469 0028 FFF7FEFF 		bl	printf
 470              	.LVL65:
 454:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 471              		.loc 1 454 0 discriminator 1
 472 002c 0020     		movs	r0, #0
 473 002e 70BD     		pop	{r4, r5, r6, pc}
 474              	.LVL66:
 475              	.L44:
 435:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 476              		.loc 1 435 0
 477 0030 3620     		movs	r0, #54
 478              	.LVL67:
 479 0032 00E0     		b	.L46
 480              	.LVL68:
 481              	.L53:
 439:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 30


 482              		.loc 1 439 0
 483 0034 2220     		movs	r0, #34
 484              	.LVL69:
 485              	.L46:
 457:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 486              		.loc 1 457 0
 487 0036 0330     		adds	r0, r0, #3
 488              	.LVL70:
 489 0038 20F00300 		bic	r0, r0, #3
 490 003c 0E18     		adds	r6, r1, r0
 491 003e BDF81450 		ldrh	r5, [sp, #20]
 492 0042 AE42     		cmp	r6, r5
 493 0044 10D8     		bhi	.L54
 462:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (payload_mem != NULL) {
 494              		.loc 1 462 0
 495 0046 0025     		movs	r5, #0
 496 0048 1D60     		str	r5, [r3]
 463:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->pbuf.payload = (u8_t *)payload_mem + LWIP_MEM_ALIGN_SIZE(offset);
 497              		.loc 1 463 0
 498 004a 54B1     		cbz	r4, .L51
 464:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 499              		.loc 1 464 0
 500 004c 2044     		add	r0, r0, r4
 501 004e 5860     		str	r0, [r3, #4]
 502              	.L52:
 468:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.len = p->pbuf.tot_len = length;
 503              		.loc 1 468 0
 504 0050 0220     		movs	r0, #2
 505 0052 5873     		strb	r0, [r3, #13]
 469:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.type = type;
 506              		.loc 1 469 0
 507 0054 1981     		strh	r1, [r3, #8]	@ movhi
 508 0056 5981     		strh	r1, [r3, #10]	@ movhi
 470:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.ref = 1;
 509              		.loc 1 470 0
 510 0058 1A73     		strb	r2, [r3, #12]
 471:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return &p->pbuf;
 511              		.loc 1 471 0
 512 005a 0122     		movs	r2, #1
 513              	.LVL71:
 514 005c DA81     		strh	r2, [r3, #14]	@ movhi
 472:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 515              		.loc 1 472 0
 516 005e 1846     		mov	r0, r3
 517 0060 70BD     		pop	{r4, r5, r6, pc}
 518              	.LVL72:
 519              	.L51:
 466:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 520              		.loc 1 466 0
 521 0062 0020     		movs	r0, #0
 522 0064 5860     		str	r0, [r3, #4]
 523 0066 F3E7     		b	.L52
 524              	.L54:
 459:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 525              		.loc 1 459 0
 526 0068 0020     		movs	r0, #0
 473:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 31


 527              		.loc 1 473 0
 528 006a 70BD     		pop	{r4, r5, r6, pc}
 529              	.LVL73:
 530              	.L57:
 531              		.align	2
 532              	.L56:
 533 006c 00000000 		.word	.LC0
 534 0070 00000000 		.word	.LC5
 535 0074 3C000000 		.word	.LC2
 536              		.cfi_endproc
 537              	.LFE161:
 539              		.section	.text.pbuf_header,"ax",%progbits
 540              		.align	1
 541              		.global	pbuf_header
 542              		.syntax unified
 543              		.thumb
 544              		.thumb_func
 545              		.fpu fpv5-sp-d16
 547              	pbuf_header:
 548              	.LFB164:
 666:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    return pbuf_header_impl(p, header_size_increment, 0);
 549              		.loc 1 666 0
 550              		.cfi_startproc
 551              		@ args = 0, pretend = 0, frame = 0
 552              		@ frame_needed = 0, uses_anonymous_args = 0
 553              	.LVL74:
 554 0000 08B5     		push	{r3, lr}
 555              	.LCFI5:
 556              		.cfi_def_cfa_offset 8
 557              		.cfi_offset 3, -8
 558              		.cfi_offset 14, -4
 667:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 559              		.loc 1 667 0
 560 0002 0022     		movs	r2, #0
 561 0004 FFF7FEFF 		bl	pbuf_header_impl
 562              	.LVL75:
 668:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 563              		.loc 1 668 0
 564 0008 08BD     		pop	{r3, pc}
 565              		.cfi_endproc
 566              	.LFE164:
 568              		.section	.text.pbuf_header_force,"ax",%progbits
 569              		.align	1
 570              		.global	pbuf_header_force
 571              		.syntax unified
 572              		.thumb
 573              		.thumb_func
 574              		.fpu fpv5-sp-d16
 576              	pbuf_header_force:
 577              	.LFB165:
 676:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    return pbuf_header_impl(p, header_size_increment, 1);
 578              		.loc 1 676 0
 579              		.cfi_startproc
 580              		@ args = 0, pretend = 0, frame = 0
 581              		@ frame_needed = 0, uses_anonymous_args = 0
 582              	.LVL76:
 583 0000 08B5     		push	{r3, lr}
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 32


 584              	.LCFI6:
 585              		.cfi_def_cfa_offset 8
 586              		.cfi_offset 3, -8
 587              		.cfi_offset 14, -4
 677:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 588              		.loc 1 677 0
 589 0002 0122     		movs	r2, #1
 590 0004 FFF7FEFF 		bl	pbuf_header_impl
 591              	.LVL77:
 678:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 592              		.loc 1 678 0
 593 0008 08BD     		pop	{r3, pc}
 594              		.cfi_endproc
 595              	.LFE165:
 597              		.section	.text.pbuf_free,"ax",%progbits
 598              		.align	1
 599              		.global	pbuf_free
 600              		.syntax unified
 601              		.thumb
 602              		.thumb_func
 603              		.fpu fpv5-sp-d16
 605              	pbuf_free:
 606              	.LFB166:
 716:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
 607              		.loc 1 716 0
 608              		.cfi_startproc
 609              		@ args = 0, pretend = 0, frame = 0
 610              		@ frame_needed = 0, uses_anonymous_args = 0
 611              	.LVL78:
 612 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 613              	.LCFI7:
 614              		.cfi_def_cfa_offset 24
 615              		.cfi_offset 3, -24
 616              		.cfi_offset 4, -20
 617              		.cfi_offset 5, -16
 618              		.cfi_offset 6, -12
 619              		.cfi_offset 7, -8
 620              		.cfi_offset 14, -4
 721:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 621              		.loc 1 721 0
 622 0002 28B1     		cbz	r0, .L77
 623 0004 0446     		mov	r4, r0
 732:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type == PBUF_RAM || p->type == PBUF_ROM ||
 624              		.loc 1 732 0
 625 0006 037B     		ldrb	r3, [r0, #12]	@ zero_extendqisi2
 626 0008 032B     		cmp	r3, #3
 627 000a 0BD8     		bhi	.L78
 628              	.LVL79:
 629              	.L65:
 716:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
 630              		.loc 1 716 0
 631 000c 0026     		movs	r6, #0
 632 000e 1FE0     		b	.L68
 633              	.LVL80:
 634              	.L77:
 722:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 635              		.loc 1 722 0 discriminator 1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 33


 636 0010 2B4B     		ldr	r3, .L82
 637 0012 40F2D222 		movw	r2, #722
 638 0016 2B49     		ldr	r1, .L82+4
 639 0018 2B48     		ldr	r0, .L82+8
 640              	.LVL81:
 641 001a FFF7FEFF 		bl	printf
 642              	.LVL82:
 726:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 643              		.loc 1 726 0 discriminator 1
 644 001e 0026     		movs	r6, #0
 645              	.LVL83:
 646              	.L64:
 791:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 647              		.loc 1 791 0
 648 0020 3046     		mov	r0, r6
 649 0022 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 650              	.LVL84:
 651              	.L78:
 732:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type == PBUF_RAM || p->type == PBUF_ROM ||
 652              		.loc 1 732 0 discriminator 1
 653 0024 264B     		ldr	r3, .L82
 654 0026 40F2DE22 		movw	r2, #734
 655 002a 2849     		ldr	r1, .L82+12
 656 002c 2648     		ldr	r0, .L82+8
 657              	.LVL85:
 658 002e FFF7FEFF 		bl	printf
 659              	.LVL86:
 660 0032 EBE7     		b	.L65
 661              	.LVL87:
 662              	.L79:
 663              	.LBB3:
 747:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 664              		.loc 1 747 0 discriminator 1
 665 0034 224B     		ldr	r3, .L82
 666 0036 40F2EB22 		movw	r2, #747
 667 003a 2549     		ldr	r1, .L82+16
 668 003c 2248     		ldr	r0, .L82+8
 669              	.LVL88:
 670 003e FFF7FEFF 		bl	printf
 671              	.LVL89:
 672 0042 0DE0     		b	.L67
 673              	.LVL90:
 674              	.L70:
 675              	.LBB4:
 762:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       } else
 676              		.loc 1 762 0
 677 0044 2369     		ldr	r3, [r4, #16]
 678 0046 2046     		mov	r0, r4
 679 0048 9847     		blx	r3
 680              	.LVL91:
 681              	.L71:
 682              	.LBE4:
 777:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* proceed to next pbuf */
 683              		.loc 1 777 0
 684 004a 0136     		adds	r6, r6, #1
 685              	.LVL92:
 686 004c F6B2     		uxtb	r6, r6
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 34


 687              	.LVL93:
 779:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* p->ref > 0, this pbuf is still referenced to */
 688              		.loc 1 779 0
 689 004e 2C46     		mov	r4, r5
 690              	.LVL94:
 691              	.L68:
 692              	.LBE3:
 739:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t ref;
 693              		.loc 1 739 0
 694 0050 002C     		cmp	r4, #0
 695 0052 E5D0     		beq	.L64
 696              	.LBB6:
 745:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* all pbufs in a chain are referenced at least once */
 697              		.loc 1 745 0
 698 0054 FFF7FEFF 		bl	sys_arch_protect
 699              	.LVL95:
 700 0058 0746     		mov	r7, r0
 701              	.LVL96:
 747:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 702              		.loc 1 747 0
 703 005a E389     		ldrh	r3, [r4, #14]
 704 005c 002B     		cmp	r3, #0
 705 005e E9D0     		beq	.L79
 706              	.LVL97:
 707              	.L67:
 749:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_UNPROTECT(old_level);
 708              		.loc 1 749 0
 709 0060 E589     		ldrh	r5, [r4, #14]
 710 0062 013D     		subs	r5, r5, #1
 711 0064 ADB2     		uxth	r5, r5
 712 0066 E581     		strh	r5, [r4, #14]	@ movhi
 713              	.LVL98:
 750:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* this pbuf is no longer referenced to? */
 714              		.loc 1 750 0
 715 0068 3846     		mov	r0, r7
 716 006a FFF7FEFF 		bl	sys_arch_unprotect
 717              	.LVL99:
 752:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember next pbuf in chain for next iteration */
 718              		.loc 1 752 0
 719 006e 25BB     		cbnz	r5, .L75
 754:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: deallocating %p\n", (void *)p));
 720              		.loc 1 754 0
 721 0070 2568     		ldr	r5, [r4]
 722              	.LVL100:
 756:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 723              		.loc 1 756 0
 724 0072 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 725              	.LVL101:
 759:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         struct pbuf_custom *pc = (struct pbuf_custom*)p;
 726              		.loc 1 759 0
 727 0074 627B     		ldrb	r2, [r4, #13]	@ zero_extendqisi2
 728 0076 12F0020F 		tst	r2, #2
 729 007a 0AD0     		beq	.L69
 730              	.LVL102:
 731              	.LBB5:
 761:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 732              		.loc 1 761 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 35


 733 007c 2369     		ldr	r3, [r4, #16]
 734              	.LVL103:
 735 007e 002B     		cmp	r3, #0
 736 0080 E0D1     		bne	.L70
 761:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 737              		.loc 1 761 0 is_stmt 0 discriminator 1
 738 0082 0F4B     		ldr	r3, .L82
 739 0084 40F2F922 		movw	r2, #761
 740 0088 1249     		ldr	r1, .L82+20
 741 008a 0F48     		ldr	r0, .L82+8
 742 008c FFF7FEFF 		bl	printf
 743              	.LVL104:
 744 0090 D8E7     		b	.L70
 745              	.LVL105:
 746              	.L69:
 747              	.LBE5:
 767:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF_POOL, p);
 748              		.loc 1 767 0 is_stmt 1
 749 0092 032B     		cmp	r3, #3
 750 0094 07D0     		beq	.L80
 770:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF, p);
 751              		.loc 1 770 0
 752 0096 013B     		subs	r3, r3, #1
 753              	.LVL106:
 754 0098 9BB2     		uxth	r3, r3
 755              	.LVL107:
 756 009a 012B     		cmp	r3, #1
 757 009c 08D9     		bls	.L81
 774:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         }
 758              		.loc 1 774 0
 759 009e 2046     		mov	r0, r4
 760 00a0 FFF7FEFF 		bl	mem_free
 761              	.LVL108:
 762 00a4 D1E7     		b	.L71
 763              	.LVL109:
 764              	.L80:
 768:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* is this a ROM or RAM referencing pbuf? */
 765              		.loc 1 768 0
 766 00a6 2146     		mov	r1, r4
 767 00a8 0D20     		movs	r0, #13
 768 00aa FFF7FEFF 		bl	memp_free
 769              	.LVL110:
 770 00ae CCE7     		b	.L71
 771              	.LVL111:
 772              	.L81:
 771:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* type == PBUF_RAM */
 773              		.loc 1 771 0
 774 00b0 2146     		mov	r1, r4
 775 00b2 0C20     		movs	r0, #12
 776 00b4 FFF7FEFF 		bl	memp_free
 777              	.LVL112:
 778 00b8 C7E7     		b	.L71
 779              	.LVL113:
 780              	.L75:
 785:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 781              		.loc 1 785 0
 782 00ba 0024     		movs	r4, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 36


 783              	.LVL114:
 784 00bc C8E7     		b	.L68
 785              	.L83:
 786 00be 00BF     		.align	2
 787              	.L82:
 788 00c0 00000000 		.word	.LC0
 789 00c4 30000000 		.word	.LC1
 790 00c8 3C000000 		.word	.LC2
 791 00cc 00000000 		.word	.LC6
 792 00d0 18000000 		.word	.LC7
 793 00d4 30000000 		.word	.LC8
 794              	.LBE6:
 795              		.cfi_endproc
 796              	.LFE166:
 798              		.section	.text.pbuf_alloc,"ax",%progbits
 799              		.align	1
 800              		.global	pbuf_alloc
 801              		.syntax unified
 802              		.thumb
 803              		.thumb_func
 804              		.fpu fpv5-sp-d16
 806              	pbuf_alloc:
 807              	.LFB160:
 249:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p, *q, *r;
 808              		.loc 1 249 0
 809              		.cfi_startproc
 810              		@ args = 0, pretend = 0, frame = 0
 811              		@ frame_needed = 0, uses_anonymous_args = 0
 812              	.LVL115:
 813 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 814              	.LCFI8:
 815              		.cfi_def_cfa_offset 32
 816              		.cfi_offset 3, -32
 817              		.cfi_offset 4, -28
 818              		.cfi_offset 5, -24
 819              		.cfi_offset 6, -20
 820              		.cfi_offset 7, -16
 821              		.cfi_offset 8, -12
 822              		.cfi_offset 9, -8
 823              		.cfi_offset 14, -4
 824 0004 0D46     		mov	r5, r1
 825 0006 1746     		mov	r7, r2
 256:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_TRANSPORT:
 826              		.loc 1 256 0
 827 0008 0428     		cmp	r0, #4
 828 000a 0AD8     		bhi	.L85
 829 000c DFE800F0 		tbb	[pc, r0]
 830              	.L87:
 831 0010 12       		.byte	(.L86-.L87)/2
 832 0011 14       		.byte	(.L108-.L87)/2
 833 0012 03       		.byte	(.L89-.L87)/2
 834 0013 05       		.byte	(.L90-.L87)/2
 835 0014 07       		.byte	(.L91-.L87)/2
 836 0015 00       		.p2align 1
 837              	.L89:
 838              	.LVL116:
 267:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 37


 839              		.loc 1 267 0
 840 0016 0E24     		movs	r4, #14
 268:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW_TX:
 841              		.loc 1 268 0
 842 0018 0FE0     		b	.L88
 843              	.LVL117:
 844              	.L90:
 271:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 845              		.loc 1 271 0
 846 001a 0024     		movs	r4, #0
 272:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW:
 847              		.loc 1 272 0
 848 001c 0DE0     		b	.L88
 849              	.LVL118:
 850              	.L91:
 275:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 851              		.loc 1 275 0
 852 001e 0024     		movs	r4, #0
 276:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 853              		.loc 1 276 0
 854 0020 0BE0     		b	.L88
 855              	.LVL119:
 856              	.L85:
 278:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 857              		.loc 1 278 0 discriminator 1
 858 0022 644B     		ldr	r3, .L116
 859 0024 4FF48B72 		mov	r2, #278
 860              	.LVL120:
 861 0028 6349     		ldr	r1, .L116+4
 862              	.LVL121:
 863 002a 6448     		ldr	r0, .L116+8
 864              	.LVL122:
 865 002c FFF7FEFF 		bl	printf
 866              	.LVL123:
 279:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 867              		.loc 1 279 0 discriminator 1
 868 0030 0026     		movs	r6, #0
 869 0032 B1E0     		b	.L84
 870              	.LVL124:
 871              	.L86:
 259:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 872              		.loc 1 259 0
 873 0034 3624     		movs	r4, #54
 874 0036 00E0     		b	.L88
 875              	.L108:
 263:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 876              		.loc 1 263 0
 877 0038 2224     		movs	r4, #34
 878              	.L88:
 879              	.LVL125:
 282:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_POOL:
 880              		.loc 1 282 0
 881 003a 032F     		cmp	r7, #3
 882 003c 00F2AF80 		bhi	.L93
 883 0040 DFE807F0 		tbb	[pc, r7]
 884              	.L95:
 885 0044 7B       		.byte	(.L94-.L95)/2
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 38


 886 0045 9B       		.byte	(.L96-.L95)/2
 887 0046 9B       		.byte	(.L96-.L95)/2
 888 0047 02       		.byte	(.L97-.L95)/2
 889              		.p2align 1
 890              	.L97:
 285:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc: allocated pbuf %p\n", (void *)p));
 891              		.loc 1 285 0
 892 0048 0D20     		movs	r0, #13
 893              	.LVL126:
 894 004a FFF7FEFF 		bl	memp_malloc
 895              	.LVL127:
 287:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       PBUF_POOL_IS_EMPTY();
 896              		.loc 1 287 0
 897 004e 0646     		mov	r6, r0
 898 0050 F8B1     		cbz	r0, .L111
 291:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 899              		.loc 1 291 0
 900 0052 0773     		strb	r7, [r0, #12]
 292:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 901              		.loc 1 292 0
 902 0054 0023     		movs	r3, #0
 903 0056 0360     		str	r3, [r0]
 295:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: pbuf p->payload properly aligned",
 904              		.loc 1 295 0
 905 0058 04F11003 		add	r3, r4, #16
 906 005c 0344     		add	r3, r3, r0
 907 005e 0333     		adds	r3, r3, #3
 908 0060 23F00303 		bic	r3, r3, #3
 909 0064 4360     		str	r3, [r0, #4]
 299:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set the length of the first pbuf in the chain */
 910              		.loc 1 299 0
 911 0066 0581     		strh	r5, [r0, #8]	@ movhi
 301:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("check p->payload + p->len does not overflow pbuf",
 912              		.loc 1 301 0
 913 0068 E21C     		adds	r2, r4, #3
 914 006a 22F00302 		bic	r2, r2, #3
 915 006e C2F51472 		rsb	r2, r2, #592
 916 0072 AA42     		cmp	r2, r5
 917 0074 28BF     		it	cs
 918 0076 2A46     		movcs	r2, r5
 919 0078 92B2     		uxth	r2, r2
 920 007a 4281     		strh	r2, [r0, #10]	@ movhi
 302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 ((u8_t*)p->payload + p->len <=
 921              		.loc 1 302 0
 922 007c 1344     		add	r3, r3, r2
 923 007e 00F51878 		add	r8, r0, #608
 924 0082 4345     		cmp	r3, r8
 925 0084 08D8     		bhi	.L112
 926              	.LVL128:
 927              	.L100:
 308:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 928              		.loc 1 308 0
 929 0086 0123     		movs	r3, #1
 930 0088 F381     		strh	r3, [r6, #14]	@ movhi
 931              	.LVL129:
 315:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* any remaining pbufs to be allocated? */
 932              		.loc 1 315 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 39


 933 008a 7389     		ldrh	r3, [r6, #10]
 934 008c ED1A     		subs	r5, r5, r3
 935              	.LVL130:
 313:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* remaining length to be allocated */
 936              		.loc 1 313 0
 937 008e B146     		mov	r9, r6
 317:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 938              		.loc 1 317 0
 939 0090 26E0     		b	.L101
 940              	.LVL131:
 941              	.L111:
 288:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 942              		.loc 1 288 0
 943 0092 FFF7FEFF 		bl	pbuf_pool_is_empty
 944              	.LVL132:
 289:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 945              		.loc 1 289 0
 946 0096 7FE0     		b	.L84
 947              	.LVL133:
 948              	.L112:
 302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 ((u8_t*)p->payload + p->len <=
 949              		.loc 1 302 0 discriminator 1
 950 0098 464B     		ldr	r3, .L116
 951 009a 4FF49872 		mov	r2, #304
 952 009e 4849     		ldr	r1, .L116+12
 953 00a0 4648     		ldr	r0, .L116+8
 954              	.LVL134:
 955 00a2 FFF7FEFF 		bl	printf
 956              	.LVL135:
 957 00a6 EEE7     		b	.L100
 958              	.LVL136:
 959              	.L113:
 320:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* free chain so far allocated */
 960              		.loc 1 320 0
 961 00a8 FFF7FEFF 		bl	pbuf_pool_is_empty
 962              	.LVL137:
 322:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* bail out unsuccessfully */
 963              		.loc 1 322 0
 964 00ac 3046     		mov	r0, r6
 965 00ae FFF7FEFF 		bl	pbuf_free
 966              	.LVL138:
 324:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 967              		.loc 1 324 0
 968 00b2 2646     		mov	r6, r4
 969              	.LVL139:
 970 00b4 70E0     		b	.L84
 971              	.LVL140:
 972              	.L114:
 332:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->tot_len = (u16_t)rem_len;
 973              		.loc 1 332 0 discriminator 1
 974 00b6 3F4B     		ldr	r3, .L116
 975 00b8 4FF4A672 		mov	r2, #332
 976 00bc 4149     		ldr	r1, .L116+16
 977 00be 3F48     		ldr	r0, .L116+8
 978              	.LVL141:
 979 00c0 FFF7FEFF 		bl	printf
 980              	.LVL142:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 40


 981 00c4 1EE0     		b	.L103
 982              	.L115:
 337:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               ((mem_ptr_t)q->payload % MEM_ALIGNMENT) == 0);
 983              		.loc 1 337 0 discriminator 1
 984 00c6 3B4B     		ldr	r3, .L116
 985 00c8 4FF4A972 		mov	r2, #338
 986 00cc 3E49     		ldr	r1, .L116+20
 987 00ce 3B48     		ldr	r0, .L116+8
 988 00d0 FFF7FEFF 		bl	printf
 989              	.LVL143:
 990 00d4 24E0     		b	.L104
 991              	.L105:
 342:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* calculate remaining length to be allocated */
 992              		.loc 1 342 0
 993 00d6 0123     		movs	r3, #1
 994 00d8 E381     		strh	r3, [r4, #14]	@ movhi
 344:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember this pbuf for linkage in next iteration */
 995              		.loc 1 344 0
 996 00da 6389     		ldrh	r3, [r4, #10]
 997 00dc ED1A     		subs	r5, r5, r3
 998              	.LVL144:
 346:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 999              		.loc 1 346 0
 1000 00de A146     		mov	r9, r4
 1001              	.LVL145:
 1002              	.L101:
 317:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 1003              		.loc 1 317 0
 1004 00e0 002D     		cmp	r5, #0
 1005 00e2 55DD     		ble	.L107
 318:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (q == NULL) {
 1006              		.loc 1 318 0
 1007 00e4 0D20     		movs	r0, #13
 1008 00e6 FFF7FEFF 		bl	memp_malloc
 1009              	.LVL146:
 319:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         PBUF_POOL_IS_EMPTY();
 1010              		.loc 1 319 0
 1011 00ea 0446     		mov	r4, r0
 1012 00ec 0028     		cmp	r0, #0
 1013 00ee DBD0     		beq	.L113
 326:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->flags = 0;
 1014              		.loc 1 326 0
 1015 00f0 0773     		strb	r7, [r0, #12]
 327:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->next = NULL;
 1016              		.loc 1 327 0
 1017 00f2 0023     		movs	r3, #0
 1018 00f4 4373     		strb	r3, [r0, #13]
 328:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* make previous pbuf point to this pbuf */
 1019              		.loc 1 328 0
 1020 00f6 0360     		str	r3, [r0]
 330:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* set total length of this pbuf and next in chain */
 1021              		.loc 1 330 0
 1022 00f8 C9F80000 		str	r0, [r9]
 332:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->tot_len = (u16_t)rem_len;
 1023              		.loc 1 332 0
 1024 00fc 4FF6FE73 		movw	r3, #65534
 1025 0100 9D42     		cmp	r5, r3
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 41


 1026 0102 D8DC     		bgt	.L114
 1027              	.LVL147:
 1028              	.L103:
 333:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf length is pool size, unless smaller sized tail */
 1029              		.loc 1 333 0
 1030 0104 ABB2     		uxth	r3, r5
 1031 0106 2381     		strh	r3, [r4, #8]	@ movhi
 335:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->payload = (void *)((u8_t *)q + SIZEOF_STRUCT_PBUF);
 1032              		.loc 1 335 0
 1033 0108 B3F5147F 		cmp	r3, #592
 1034 010c 28BF     		it	cs
 1035 010e 4FF41473 		movcs	r3, #592
 1036 0112 6381     		strh	r3, [r4, #10]	@ movhi
 336:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("pbuf_alloc: pbuf q->payload properly aligned",
 1037              		.loc 1 336 0
 1038 0114 04F11003 		add	r3, r4, #16
 1039 0118 6360     		str	r3, [r4, #4]
 337:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               ((mem_ptr_t)q->payload % MEM_ALIGNMENT) == 0);
 1040              		.loc 1 337 0
 1041 011a 13F0030F 		tst	r3, #3
 1042 011e D2D1     		bne	.L115
 1043              	.L104:
 339:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ((u8_t*)p->payload + p->len <=
 1044              		.loc 1 339 0
 1045 0120 7368     		ldr	r3, [r6, #4]
 1046 0122 7289     		ldrh	r2, [r6, #10]
 1047 0124 1344     		add	r3, r3, r2
 1048 0126 9845     		cmp	r8, r3
 1049 0128 D5D2     		bcs	.L105
 339:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ((u8_t*)p->payload + p->len <=
 1050              		.loc 1 339 0 is_stmt 0 discriminator 1
 1051 012a 224B     		ldr	r3, .L116
 1052 012c 40F25512 		movw	r2, #341
 1053 0130 2349     		ldr	r1, .L116+12
 1054 0132 2248     		ldr	r0, .L116+8
 1055 0134 FFF7FEFF 		bl	printf
 1056              	.LVL148:
 1057 0138 CDE7     		b	.L105
 1058              	.LVL149:
 1059              	.L94:
 1060              	.LBB7:
 354:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       
 1061              		.loc 1 354 0 is_stmt 1
 1062 013a 04F11300 		add	r0, r4, #19
 1063              	.LVL150:
 1064 013e 20F00300 		bic	r0, r0, #3
 1065 0142 83B2     		uxth	r3, r0
 1066 0144 EA1C     		adds	r2, r5, #3
 1067              	.LVL151:
 1068 0146 90B2     		uxth	r0, r2
 1069 0148 20F00300 		bic	r0, r0, #3
 1070 014c 1844     		add	r0, r0, r3
 1071 014e 80B2     		uxth	r0, r0
 1072              	.LVL152:
 357:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return NULL;
 1073              		.loc 1 357 0
 1074 0150 22F00302 		bic	r2, r2, #3
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 42


 1075 0154 9042     		cmp	r0, r2
 1076 0156 2BD3     		bcc	.L109
 362:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1077              		.loc 1 362 0
 1078 0158 FFF7FEFF 		bl	mem_malloc
 1079              	.LVL153:
 1080              	.LBE7:
 365:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 1081              		.loc 1 365 0
 1082 015c 0646     		mov	r6, r0
 1083 015e D8B1     		cbz	r0, .L84
 369:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = p->tot_len = length;
 1084              		.loc 1 369 0
 1085 0160 04F11003 		add	r3, r4, #16
 1086 0164 0344     		add	r3, r3, r0
 1087 0166 0333     		adds	r3, r3, #3
 1088 0168 23F00303 		bic	r3, r3, #3
 1089 016c 4360     		str	r3, [r0, #4]
 370:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 1090              		.loc 1 370 0
 1091 016e 0581     		strh	r5, [r0, #8]	@ movhi
 1092 0170 4581     		strh	r5, [r0, #10]	@ movhi
 371:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 1093              		.loc 1 371 0
 1094 0172 0023     		movs	r3, #0
 1095 0174 0360     		str	r3, [r0]
 372:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1096              		.loc 1 372 0
 1097 0176 0773     		strb	r7, [r0, #12]
 1098 0178 0AE0     		b	.L107
 1099              	.LVL154:
 1100              	.L96:
 382:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 1101              		.loc 1 382 0
 1102 017a 0C20     		movs	r0, #12
 1103              	.LVL155:
 1104 017c FFF7FEFF 		bl	memp_malloc
 1105              	.LVL156:
 383:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 1106              		.loc 1 383 0
 1107 0180 0646     		mov	r6, r0
 1108 0182 48B1     		cbz	r0, .L84
 390:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = p->tot_len = length;
 1109              		.loc 1 390 0
 1110 0184 0023     		movs	r3, #0
 1111 0186 4360     		str	r3, [r0, #4]
 391:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 1112              		.loc 1 391 0
 1113 0188 0581     		strh	r5, [r0, #8]	@ movhi
 1114 018a 4581     		strh	r5, [r0, #10]	@ movhi
 392:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 1115              		.loc 1 392 0
 1116 018c 0360     		str	r3, [r0]
 393:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 1117              		.loc 1 393 0
 1118 018e 0773     		strb	r7, [r0, #12]
 1119              	.LVL157:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 43


 1120              	.L107:
 400:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* set flags */
 1121              		.loc 1 400 0
 1122 0190 0123     		movs	r3, #1
 1123 0192 F381     		strh	r3, [r6, #14]	@ movhi
 402:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F") == %p\n", length, (void *)
 1124              		.loc 1 402 0
 1125 0194 0023     		movs	r3, #0
 1126 0196 7373     		strb	r3, [r6, #13]
 1127              	.LVL158:
 1128              	.L84:
 405:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1129              		.loc 1 405 0
 1130 0198 3046     		mov	r0, r6
 1131 019a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1132              	.LVL159:
 1133              	.L93:
 396:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 1134              		.loc 1 396 0 discriminator 1
 1135 019e 054B     		ldr	r3, .L116
 1136 01a0 4FF4C672 		mov	r2, #396
 1137              	.LVL160:
 1138 01a4 0949     		ldr	r1, .L116+24
 1139              	.LVL161:
 1140 01a6 0548     		ldr	r0, .L116+8
 1141              	.LVL162:
 1142 01a8 FFF7FEFF 		bl	printf
 1143              	.LVL163:
 397:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1144              		.loc 1 397 0 discriminator 1
 1145 01ac 0026     		movs	r6, #0
 1146 01ae F3E7     		b	.L84
 1147              	.LVL164:
 1148              	.L109:
 1149              	.LBB8:
 358:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 1150              		.loc 1 358 0
 1151 01b0 0026     		movs	r6, #0
 1152 01b2 F1E7     		b	.L84
 1153              	.L117:
 1154              		.align	2
 1155              	.L116:
 1156 01b4 00000000 		.word	.LC0
 1157 01b8 00000000 		.word	.LC9
 1158 01bc 3C000000 		.word	.LC2
 1159 01c0 1C000000 		.word	.LC10
 1160 01c4 84000000 		.word	.LC12
 1161 01c8 98000000 		.word	.LC13
 1162 01cc C8000000 		.word	.LC14
 1163              	.LBE8:
 1164              		.cfi_endproc
 1165              	.LFE160:
 1167              		.section	.text.pbuf_realloc,"ax",%progbits
 1168              		.align	1
 1169              		.global	pbuf_realloc
 1170              		.syntax unified
 1171              		.thumb
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 44


 1172              		.thumb_func
 1173              		.fpu fpv5-sp-d16
 1175              	pbuf_realloc:
 1176              	.LFB162:
 494:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 1177              		.loc 1 494 0
 1178              		.cfi_startproc
 1179              		@ args = 0, pretend = 0, frame = 0
 1180              		@ frame_needed = 0, uses_anonymous_args = 0
 1181              	.LVL165:
 1182 0000 70B5     		push	{r4, r5, r6, lr}
 1183              	.LCFI9:
 1184              		.cfi_def_cfa_offset 16
 1185              		.cfi_offset 4, -16
 1186              		.cfi_offset 5, -12
 1187              		.cfi_offset 6, -8
 1188              		.cfi_offset 14, -4
 1189 0002 0D46     		mov	r5, r1
 499:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_realloc: sane p->type", p->type == PBUF_POOL ||
 1190              		.loc 1 499 0
 1191 0004 0446     		mov	r4, r0
 1192 0006 98B1     		cbz	r0, .L129
 1193              	.LVL166:
 1194              	.L119:
 500:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_ROM ||
 1195              		.loc 1 500 0
 1196 0008 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 1197 000a 032B     		cmp	r3, #3
 1198 000c 18BF     		it	ne
 1199 000e 012B     		cmpne	r3, #1
 1200 0010 09D0     		beq	.L120
 500:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_ROM ||
 1201              		.loc 1 500 0 is_stmt 0 discriminator 1
 1202 0012 43B1     		cbz	r3, .L120
 500:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_ROM ||
 1203              		.loc 1 500 0 discriminator 2
 1204 0014 022B     		cmp	r3, #2
 1205 0016 06D0     		beq	.L120
 500:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_ROM ||
 1206              		.loc 1 500 0 discriminator 3
 1207 0018 2B4B     		ldr	r3, .L133
 1208 001a 40F2F712 		movw	r2, #503
 1209 001e 2B49     		ldr	r1, .L133+4
 1210 0020 2B48     		ldr	r0, .L133+8
 1211 0022 FFF7FEFF 		bl	printf
 1212              	.LVL167:
 1213              	.L120:
 506:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enlarging not yet supported */
 1214              		.loc 1 506 0 is_stmt 1
 1215 0026 2689     		ldrh	r6, [r4, #8]
 1216 0028 AE42     		cmp	r6, r5
 1217 002a 38D9     		bls	.L118
 513:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1218              		.loc 1 513 0
 1219 002c AE1B     		subs	r6, r5, r6
 1220              	.LVL168:
 519:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 45


 1221              		.loc 1 519 0
 1222 002e 0DE0     		b	.L122
 1223              	.LVL169:
 1224              	.L129:
 499:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_realloc: sane p->type", p->type == PBUF_POOL ||
 1225              		.loc 1 499 0 discriminator 1
 1226 0030 254B     		ldr	r3, .L133
 1227 0032 40F2F312 		movw	r2, #499
 1228 0036 2749     		ldr	r1, .L133+12
 1229              	.LVL170:
 1230 0038 2548     		ldr	r0, .L133+8
 1231              	.LVL171:
 1232 003a FFF7FEFF 		bl	printf
 1233              	.LVL172:
 1234 003e E3E7     		b	.L119
 1235              	.LVL173:
 1236              	.L123:
 524:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 1237              		.loc 1 524 0
 1238 0040 2389     		ldrh	r3, [r4, #8]
 1239 0042 13FA86F3 		uxtah	r3, r3, r6
 1240 0046 2381     		strh	r3, [r4, #8]	@ movhi
 526:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_realloc: q != NULL", q != NULL);
 1241              		.loc 1 526 0
 1242 0048 2468     		ldr	r4, [r4]
 1243              	.LVL174:
 527:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1244              		.loc 1 527 0
 1245 004a 84B1     		cbz	r4, .L130
 1246              	.L122:
 519:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 1247              		.loc 1 519 0
 1248 004c 6189     		ldrh	r1, [r4, #10]
 1249 004e 8D42     		cmp	r5, r1
 1250 0050 15D9     		bls	.L131
 521:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease total length indicator */
 1251              		.loc 1 521 0
 1252 0052 691A     		subs	r1, r5, r1
 1253 0054 8DB2     		uxth	r5, r1
 1254              	.LVL175:
 523:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q->tot_len += (u16_t)grow;
 1255              		.loc 1 523 0
 1256 0056 4FF6FE73 		movw	r3, #65534
 1257 005a 9E42     		cmp	r6, r3
 1258 005c F0DD     		ble	.L123
 523:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q->tot_len += (u16_t)grow;
 1259              		.loc 1 523 0 is_stmt 0 discriminator 1
 1260 005e 1A4B     		ldr	r3, .L133
 1261 0060 40F20B22 		movw	r2, #523
 1262 0064 1C49     		ldr	r1, .L133+16
 1263 0066 1A48     		ldr	r0, .L133+8
 1264 0068 FFF7FEFF 		bl	printf
 1265              	.LVL176:
 1266 006c E8E7     		b	.L123
 1267              	.L130:
 527:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1268              		.loc 1 527 0 is_stmt 1 discriminator 1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 46


 1269 006e 164B     		ldr	r3, .L133
 1270 0070 40F20F22 		movw	r2, #527
 1271 0074 1949     		ldr	r1, .L133+20
 1272 0076 1648     		ldr	r0, .L133+8
 1273 0078 FFF7FEFF 		bl	printf
 1274              	.LVL177:
 1275 007c E6E7     		b	.L122
 1276              	.L131:
 534:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 1277              		.loc 1 534 0
 1278 007e 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 1279 0080 2BB9     		cbnz	r3, .L126
 534:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 1280              		.loc 1 534 0 is_stmt 0 discriminator 1
 1281 0082 8D42     		cmp	r5, r1
 1282 0084 03D0     		beq	.L126
 536:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 1283              		.loc 1 536 0 is_stmt 1
 1284 0086 637B     		ldrb	r3, [r4, #13]	@ zero_extendqisi2
 1285 0088 13F0020F 		tst	r3, #2
 1286 008c 08D0     		beq	.L132
 1287              	.L126:
 544:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->tot_len = q->len;
 1288              		.loc 1 544 0
 1289 008e 6581     		strh	r5, [r4, #10]	@ movhi
 545:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1290              		.loc 1 545 0
 1291 0090 2581     		strh	r5, [r4, #8]	@ movhi
 548:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* free remaining pbufs in chain */
 1292              		.loc 1 548 0
 1293 0092 2068     		ldr	r0, [r4]
 1294 0094 08B1     		cbz	r0, .L127
 550:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1295              		.loc 1 550 0
 1296 0096 FFF7FEFF 		bl	pbuf_free
 1297              	.LVL178:
 1298              	.L127:
 553:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1299              		.loc 1 553 0
 1300 009a 0023     		movs	r3, #0
 1301 009c 2360     		str	r3, [r4]
 1302              	.LVL179:
 1303              	.L118:
 1304 009e 70BD     		pop	{r4, r5, r6, pc}
 1305              	.LVL180:
 1306              	.L132:
 540:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 1307              		.loc 1 540 0
 1308 00a0 6368     		ldr	r3, [r4, #4]
 1309 00a2 1B1B     		subs	r3, r3, r4
 1310 00a4 15FA83F1 		uxtah	r1, r5, r3
 1311 00a8 89B2     		uxth	r1, r1
 1312 00aa 2046     		mov	r0, r4
 1313 00ac FFF7FEFF 		bl	mem_trim
 1314              	.LVL181:
 541:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1315              		.loc 1 541 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 47


 1316 00b0 0446     		mov	r4, r0
 1317 00b2 0028     		cmp	r0, #0
 1318 00b4 EBD1     		bne	.L126
 541:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1319              		.loc 1 541 0 is_stmt 0 discriminator 1
 1320 00b6 044B     		ldr	r3, .L133
 1321 00b8 40F21D22 		movw	r2, #541
 1322 00bc 0849     		ldr	r1, .L133+24
 1323 00be 0448     		ldr	r0, .L133+8
 1324              	.LVL182:
 1325 00c0 FFF7FEFF 		bl	printf
 1326              	.LVL183:
 1327 00c4 E3E7     		b	.L126
 1328              	.L134:
 1329 00c6 00BF     		.align	2
 1330              	.L133:
 1331 00c8 00000000 		.word	.LC0
 1332 00cc 18000000 		.word	.LC16
 1333 00d0 3C000000 		.word	.LC2
 1334 00d4 00000000 		.word	.LC15
 1335 00d8 34000000 		.word	.LC17
 1336 00dc 48000000 		.word	.LC18
 1337 00e0 60000000 		.word	.LC19
 1338              		.cfi_endproc
 1339              	.LFE162:
 1341              		.section	.text.pbuf_clen,"ax",%progbits
 1342              		.align	1
 1343              		.global	pbuf_clen
 1344              		.syntax unified
 1345              		.thumb
 1346              		.thumb_func
 1347              		.fpu fpv5-sp-d16
 1349              	pbuf_clen:
 1350              	.LFB167:
 801:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t len;
 1351              		.loc 1 801 0 is_stmt 1
 1352              		.cfi_startproc
 1353              		@ args = 0, pretend = 0, frame = 0
 1354              		@ frame_needed = 0, uses_anonymous_args = 0
 1355              		@ link register save eliminated.
 1356              	.LVL184:
 804:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (p != NULL) {
 1357              		.loc 1 804 0
 1358 0000 0023     		movs	r3, #0
 805:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ++len;
 1359              		.loc 1 805 0
 1360 0002 02E0     		b	.L136
 1361              	.LVL185:
 1362              	.L137:
 806:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = p->next;
 1363              		.loc 1 806 0
 1364 0004 0133     		adds	r3, r3, #1
 1365              	.LVL186:
 1366 0006 9BB2     		uxth	r3, r3
 1367              	.LVL187:
 807:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1368              		.loc 1 807 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 48


 1369 0008 0068     		ldr	r0, [r0]
 1370              	.LVL188:
 1371              	.L136:
 805:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ++len;
 1372              		.loc 1 805 0
 1373 000a 0028     		cmp	r0, #0
 1374 000c FAD1     		bne	.L137
 810:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1375              		.loc 1 810 0
 1376 000e 1846     		mov	r0, r3
 1377              	.LVL189:
 1378 0010 7047     		bx	lr
 1379              		.cfi_endproc
 1380              	.LFE167:
 1382              		.section	.text.pbuf_ref,"ax",%progbits
 1383              		.align	1
 1384              		.global	pbuf_ref
 1385              		.syntax unified
 1386              		.thumb
 1387              		.thumb_func
 1388              		.fpu fpv5-sp-d16
 1390              	pbuf_ref:
 1391              	.LFB168:
 821:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf given? */
 1392              		.loc 1 821 0
 1393              		.cfi_startproc
 1394              		@ args = 0, pretend = 0, frame = 0
 1395              		@ frame_needed = 0, uses_anonymous_args = 0
 1396              	.LVL190:
 823:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_INC(p->ref, 1);
 1397              		.loc 1 823 0
 1398 0000 98B1     		cbz	r0, .L141
 821:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf given? */
 1399              		.loc 1 821 0
 1400 0002 10B5     		push	{r4, lr}
 1401              	.LCFI10:
 1402              		.cfi_def_cfa_offset 8
 1403              		.cfi_offset 4, -8
 1404              		.cfi_offset 14, -4
 1405 0004 0446     		mov	r4, r0
 1406              	.LBB9:
 824:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 1407              		.loc 1 824 0
 1408 0006 FFF7FEFF 		bl	sys_arch_protect
 1409              	.LVL191:
 1410 000a E389     		ldrh	r3, [r4, #14]
 1411 000c 0133     		adds	r3, r3, #1
 1412 000e E381     		strh	r3, [r4, #14]	@ movhi
 1413 0010 FFF7FEFF 		bl	sys_arch_unprotect
 1414              	.LVL192:
 1415              	.LBE9:
 825:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1416              		.loc 1 825 0
 1417 0014 E389     		ldrh	r3, [r4, #14]
 1418 0016 03B1     		cbz	r3, .L144
 1419              	.L138:
 1420 0018 10BD     		pop	{r4, pc}
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 49


 1421              	.LVL193:
 1422              	.L144:
 825:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1423              		.loc 1 825 0 is_stmt 0 discriminator 1
 1424 001a 044B     		ldr	r3, .L145
 1425 001c 40F23932 		movw	r2, #825
 1426 0020 0349     		ldr	r1, .L145+4
 1427 0022 0448     		ldr	r0, .L145+8
 1428 0024 FFF7FEFF 		bl	printf
 1429              	.LVL194:
 827:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1430              		.loc 1 827 0 is_stmt 1 discriminator 1
 1431 0028 F6E7     		b	.L138
 1432              	.LVL195:
 1433              	.L141:
 1434              	.LCFI11:
 1435              		.cfi_def_cfa_offset 0
 1436              		.cfi_restore 4
 1437              		.cfi_restore 14
 1438 002a 7047     		bx	lr
 1439              	.L146:
 1440              		.align	2
 1441              	.L145:
 1442 002c 00000000 		.word	.LC0
 1443 0030 00000000 		.word	.LC20
 1444 0034 3C000000 		.word	.LC2
 1445              		.cfi_endproc
 1446              	.LFE168:
 1448              		.section	.text.pbuf_cat,"ax",%progbits
 1449              		.align	1
 1450              		.global	pbuf_cat
 1451              		.syntax unified
 1452              		.thumb
 1453              		.thumb_func
 1454              		.fpu fpv5-sp-d16
 1456              	pbuf_cat:
 1457              	.LFB169:
 841:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
 1458              		.loc 1 841 0
 1459              		.cfi_startproc
 1460              		@ args = 0, pretend = 0, frame = 0
 1461              		@ frame_needed = 0, uses_anonymous_args = 0
 1462              	.LVL196:
 1463 0000 38B5     		push	{r3, r4, r5, lr}
 1464              	.LCFI12:
 1465              		.cfi_def_cfa_offset 16
 1466              		.cfi_offset 3, -16
 1467              		.cfi_offset 4, -12
 1468              		.cfi_offset 5, -8
 1469              		.cfi_offset 14, -4
 844:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 1470              		.loc 1 844 0
 1471 0002 0446     		mov	r4, r0
 1472 0004 0D46     		mov	r5, r1
 1473 0006 0029     		cmp	r1, #0
 1474 0008 18BF     		it	ne
 1475 000a 0028     		cmpne	r0, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 50


 1476 000c 0CD1     		bne	.L148
 844:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 1477              		.loc 1 844 0 is_stmt 0 discriminator 1
 1478 000e 154B     		ldr	r3, .L154
 1479 0010 40F24D32 		movw	r2, #845
 1480 0014 1449     		ldr	r1, .L154+4
 1481              	.LVL197:
 1482 0016 1548     		ldr	r0, .L154+8
 1483              	.LVL198:
 1484 0018 FFF7FEFF 		bl	printf
 1485              	.LVL199:
 1486 001c 38BD     		pop	{r3, r4, r5, pc}
 1487              	.LVL200:
 1488              	.L150:
 850:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1489              		.loc 1 850 0 is_stmt 1 discriminator 3
 1490 001e 2B89     		ldrh	r3, [r5, #8]
 1491 0020 2189     		ldrh	r1, [r4, #8]
 1492 0022 0B44     		add	r3, r3, r1
 1493 0024 2381     		strh	r3, [r4, #8]	@ movhi
 1494              	.LVL201:
 848:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 1495              		.loc 1 848 0 discriminator 3
 1496 0026 1446     		mov	r4, r2
 1497              	.LVL202:
 1498              	.L148:
 848:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 1499              		.loc 1 848 0 is_stmt 0 discriminator 1
 1500 0028 2268     		ldr	r2, [r4]
 1501 002a 002A     		cmp	r2, #0
 1502 002c F7D1     		bne	.L150
 853:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 1503              		.loc 1 853 0 is_stmt 1
 1504 002e 2289     		ldrh	r2, [r4, #8]
 1505 0030 6389     		ldrh	r3, [r4, #10]
 1506 0032 9A42     		cmp	r2, r3
 1507 0034 06D0     		beq	.L151
 853:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 1508              		.loc 1 853 0 is_stmt 0 discriminator 1
 1509 0036 0B4B     		ldr	r3, .L154
 1510 0038 40F25532 		movw	r2, #853
 1511 003c 0C49     		ldr	r1, .L154+12
 1512 003e 0B48     		ldr	r0, .L154+8
 1513              	.LVL203:
 1514 0040 FFF7FEFF 		bl	printf
 1515              	.LVL204:
 1516              	.L151:
 854:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* add total length of second chain to last pbuf total of first chain */
 1517              		.loc 1 854 0 is_stmt 1
 1518 0044 2368     		ldr	r3, [r4]
 1519 0046 33B1     		cbz	r3, .L152
 854:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* add total length of second chain to last pbuf total of first chain */
 1520              		.loc 1 854 0 is_stmt 0 discriminator 1
 1521 0048 064B     		ldr	r3, .L154
 1522 004a 40F25632 		movw	r2, #854
 1523 004e 0949     		ldr	r1, .L154+16
 1524 0050 0648     		ldr	r0, .L154+8
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 51


 1525 0052 FFF7FEFF 		bl	printf
 1526              	.LVL205:
 1527              	.L152:
 856:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 1528              		.loc 1 856 0 is_stmt 1
 1529 0056 2B89     		ldrh	r3, [r5, #8]
 1530 0058 2289     		ldrh	r2, [r4, #8]
 1531 005a 1344     		add	r3, r3, r2
 1532 005c 2381     		strh	r3, [r4, #8]	@ movhi
 858:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* p->next now references t, but the caller will drop its reference to t,
 1533              		.loc 1 858 0
 1534 005e 2560     		str	r5, [r4]
 1535 0060 38BD     		pop	{r3, r4, r5, pc}
 1536              	.LVL206:
 1537              	.L155:
 1538 0062 00BF     		.align	2
 1539              	.L154:
 1540 0064 00000000 		.word	.LC0
 1541 0068 00000000 		.word	.LC21
 1542 006c 3C000000 		.word	.LC2
 1543 0070 38000000 		.word	.LC22
 1544 0074 68000000 		.word	.LC23
 1545              		.cfi_endproc
 1546              	.LFE169:
 1548              		.section	.text.pbuf_chain,"ax",%progbits
 1549              		.align	1
 1550              		.global	pbuf_chain
 1551              		.syntax unified
 1552              		.thumb
 1553              		.thumb_func
 1554              		.fpu fpv5-sp-d16
 1556              	pbuf_chain:
 1557              	.LFB170:
 883:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_cat(h, t);
 1558              		.loc 1 883 0
 1559              		.cfi_startproc
 1560              		@ args = 0, pretend = 0, frame = 0
 1561              		@ frame_needed = 0, uses_anonymous_args = 0
 1562              	.LVL207:
 1563 0000 10B5     		push	{r4, lr}
 1564              	.LCFI13:
 1565              		.cfi_def_cfa_offset 8
 1566              		.cfi_offset 4, -8
 1567              		.cfi_offset 14, -4
 1568 0002 0C46     		mov	r4, r1
 884:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* t is now referenced by h */
 1569              		.loc 1 884 0
 1570 0004 FFF7FEFF 		bl	pbuf_cat
 1571              	.LVL208:
 886:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_chain: %p references %p\n", (void *)h, (void *)t)
 1572              		.loc 1 886 0
 1573 0008 2046     		mov	r0, r4
 1574 000a FFF7FEFF 		bl	pbuf_ref
 1575              	.LVL209:
 1576 000e 10BD     		pop	{r4, pc}
 1577              		.cfi_endproc
 1578              	.LFE170:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 52


 1580              		.section	.text.pbuf_dechain,"ax",%progbits
 1581              		.align	1
 1582              		.global	pbuf_dechain
 1583              		.syntax unified
 1584              		.thumb
 1585              		.thumb_func
 1586              		.fpu fpv5-sp-d16
 1588              	pbuf_dechain:
 1589              	.LFB171:
 900:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 1590              		.loc 1 900 0
 1591              		.cfi_startproc
 1592              		@ args = 0, pretend = 0, frame = 0
 1593              		@ frame_needed = 0, uses_anonymous_args = 0
 1594              	.LVL210:
 1595 0000 70B5     		push	{r4, r5, r6, lr}
 1596              	.LCFI14:
 1597              		.cfi_def_cfa_offset 16
 1598              		.cfi_offset 4, -16
 1599              		.cfi_offset 5, -12
 1600              		.cfi_offset 6, -8
 1601              		.cfi_offset 14, -4
 1602 0002 0446     		mov	r4, r0
 1603              	.LVL211:
 904:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf has successor in chain? */
 1604              		.loc 1 904 0
 1605 0004 0568     		ldr	r5, [r0]
 1606              	.LVL212:
 906:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 1607              		.loc 1 906 0
 1608 0006 35B3     		cbz	r5, .L163
 908:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enforce invariant if assertion is disabled */
 1609              		.loc 1 908 0
 1610 0008 2A89     		ldrh	r2, [r5, #8]
 1611 000a 0389     		ldrh	r3, [r0, #8]
 1612 000c 4189     		ldrh	r1, [r0, #10]
 1613 000e 5B1A     		subs	r3, r3, r1
 1614 0010 9A42     		cmp	r2, r3
 1615 0012 06D0     		beq	.L160
 908:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enforce invariant if assertion is disabled */
 1616              		.loc 1 908 0 is_stmt 0 discriminator 1
 1617 0014 124B     		ldr	r3, .L167
 1618 0016 4FF46372 		mov	r2, #908
 1619 001a 1249     		ldr	r1, .L167+4
 1620 001c 1248     		ldr	r0, .L167+8
 1621              	.LVL213:
 1622 001e FFF7FEFF 		bl	printf
 1623              	.LVL214:
 1624              	.L160:
 910:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decouple pbuf from remainder */
 1625              		.loc 1 910 0 is_stmt 1
 1626 0022 2389     		ldrh	r3, [r4, #8]
 1627 0024 6289     		ldrh	r2, [r4, #10]
 1628 0026 9B1A     		subs	r3, r3, r2
 1629 0028 2B81     		strh	r3, [r5, #8]	@ movhi
 912:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* total length of pbuf p is its own length only */
 1630              		.loc 1 912 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 53


 1631 002a 0023     		movs	r3, #0
 1632 002c 2360     		str	r3, [r4]
 914:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* q is no longer referenced by p, free it */
 1633              		.loc 1 914 0
 1634 002e 6389     		ldrh	r3, [r4, #10]
 1635 0030 2381     		strh	r3, [r4, #8]	@ movhi
 917:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (tail_gone > 0) {
 1636              		.loc 1 917 0
 1637 0032 2846     		mov	r0, r5
 1638 0034 FFF7FEFF 		bl	pbuf_free
 1639              	.LVL215:
 1640 0038 0646     		mov	r6, r0
 1641              	.LVL216:
 1642              	.L159:
 925:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 1643              		.loc 1 925 0
 1644 003a 2289     		ldrh	r2, [r4, #8]
 1645 003c 6389     		ldrh	r3, [r4, #10]
 1646 003e 9A42     		cmp	r2, r3
 1647 0040 06D0     		beq	.L161
 925:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 1648              		.loc 1 925 0 is_stmt 0 discriminator 1
 1649 0042 074B     		ldr	r3, .L167
 1650 0044 40F29D32 		movw	r2, #925
 1651 0048 0849     		ldr	r1, .L167+12
 1652 004a 0748     		ldr	r0, .L167+8
 1653 004c FFF7FEFF 		bl	printf
 1654              	.LVL217:
 1655              	.L161:
 926:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1656              		.loc 1 926 0 is_stmt 1
 1657 0050 1EB9     		cbnz	r6, .L166
 1658              	.LVL218:
 1659              	.L158:
 927:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1660              		.loc 1 927 0
 1661 0052 2846     		mov	r0, r5
 1662 0054 70BD     		pop	{r4, r5, r6, pc}
 1663              	.LVL219:
 1664              	.L163:
 902:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* tail */
 1665              		.loc 1 902 0
 1666 0056 0126     		movs	r6, #1
 1667 0058 EFE7     		b	.L159
 1668              	.LVL220:
 1669              	.L166:
 926:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1670              		.loc 1 926 0
 1671 005a 0025     		movs	r5, #0
 1672              	.LVL221:
 1673 005c F9E7     		b	.L158
 1674              	.L168:
 1675 005e 00BF     		.align	2
 1676              	.L167:
 1677 0060 00000000 		.word	.LC0
 1678 0064 00000000 		.word	.LC24
 1679 0068 3C000000 		.word	.LC2
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 54


 1680 006c 24000000 		.word	.LC25
 1681              		.cfi_endproc
 1682              	.LFE171:
 1684              		.section	.text.pbuf_copy,"ax",%progbits
 1685              		.align	1
 1686              		.global	pbuf_copy
 1687              		.syntax unified
 1688              		.thumb
 1689              		.thumb_func
 1690              		.fpu fpv5-sp-d16
 1692              	pbuf_copy:
 1693              	.LFB172:
 949:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset_to=0, offset_from=0, len;
 1694              		.loc 1 949 0
 1695              		.cfi_startproc
 1696              		@ args = 0, pretend = 0, frame = 0
 1697              		@ frame_needed = 0, uses_anonymous_args = 0
 1698              	.LVL222:
 1699 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1700              	.LCFI15:
 1701              		.cfi_def_cfa_offset 24
 1702              		.cfi_offset 4, -24
 1703              		.cfi_offset 5, -20
 1704              		.cfi_offset 6, -16
 1705              		.cfi_offset 7, -12
 1706              		.cfi_offset 8, -8
 1707              		.cfi_offset 14, -4
 1708              	.LVL223:
 956:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 1709              		.loc 1 956 0
 1710 0004 0029     		cmp	r1, #0
 1711 0006 18BF     		it	ne
 1712 0008 0028     		cmpne	r0, #0
 1713 000a 09D0     		beq	.L170
 1714 000c 0746     		mov	r7, r0
 1715 000e 0D46     		mov	r5, r1
 956:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 1716              		.loc 1 956 0 is_stmt 0 discriminator 2
 1717 0010 0289     		ldrh	r2, [r0, #8]
 1718 0012 0B89     		ldrh	r3, [r1, #8]
 1719 0014 9A42     		cmp	r2, r3
 1720 0016 03D3     		bcc	.L170
 1721 0018 4FF00008 		mov	r8, #0
 1722 001c 4646     		mov	r6, r8
 1723 001e 2CE0     		b	.L171
 1724              	.L170:
 956:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 1725              		.loc 1 956 0 discriminator 3
 1726 0020 404B     		ldr	r3, .L191
 1727 0022 40F2BD32 		movw	r2, #957
 1728 0026 4049     		ldr	r1, .L191+4
 1729              	.LVL224:
 1730 0028 4048     		ldr	r0, .L191+8
 1731              	.LVL225:
 1732 002a FFF7FEFF 		bl	printf
 1733              	.LVL226:
 1734 002e 6FF00F00 		mvn	r0, #15
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 55


 1735 0032 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1736              	.LVL227:
 1737              	.L173:
 968:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1738              		.loc 1 968 0 is_stmt 1
 1739 0036 9B1B     		subs	r3, r3, r6
 1740 0038 9CB2     		uxth	r4, r3
 1741              	.LVL228:
 1742 003a 26E0     		b	.L174
 1743              	.LVL229:
 1744              	.L188:
 973:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 1745              		.loc 1 973 0 discriminator 1
 1746 003c 394B     		ldr	r3, .L191
 1747 003e 40F2CD32 		movw	r2, #973
 1748 0042 3B49     		ldr	r1, .L191+12
 1749 0044 3948     		ldr	r0, .L191+8
 1750 0046 FFF7FEFF 		bl	printf
 1751              	.LVL230:
 1752 004a 2DE0     		b	.L175
 1753              	.L189:
 974:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 1754              		.loc 1 974 0 discriminator 1
 1755 004c 354B     		ldr	r3, .L191
 1756 004e 40F2CE32 		movw	r2, #974
 1757 0052 3849     		ldr	r1, .L191+16
 1758 0054 3548     		ldr	r0, .L191+8
 1759 0056 FFF7FEFF 		bl	printf
 1760              	.LVL231:
 1761 005a 28E0     		b	.L176
 1762              	.LVL232:
 1763              	.L177:
 980:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_to (if any) */
 1764              		.loc 1 980 0
 1765 005c 7B89     		ldrh	r3, [r7, #10]
 1766 005e 9E42     		cmp	r6, r3
 1767 0060 2CD0     		beq	.L184
 1768              	.LVL233:
 1769              	.L178:
 987:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 1770              		.loc 1 987 0
 1771 0062 1DB1     		cbz	r5, .L179
 987:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 1772              		.loc 1 987 0 is_stmt 0 discriminator 1
 1773 0064 6A89     		ldrh	r2, [r5, #10]
 1774 0066 2B89     		ldrh	r3, [r5, #8]
 1775 0068 9A42     		cmp	r2, r3
 1776 006a 3CD0     		beq	.L185
 1777              	.L179:
 992:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 1778              		.loc 1 992 0 is_stmt 1
 1779 006c 1FB1     		cbz	r7, .L180
 992:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 1780              		.loc 1 992 0 is_stmt 0 discriminator 1
 1781 006e 7A89     		ldrh	r2, [r7, #10]
 1782 0070 3B89     		ldrh	r3, [r7, #8]
 1783 0072 9A42     		cmp	r2, r3
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 56


 1784 0074 45D0     		beq	.L186
 1785              	.L180:
 997:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy: end of chain reached.\n"));
 1786              		.loc 1 997 0 is_stmt 1
 1787 0076 002D     		cmp	r5, #0
 1788 0078 51D0     		beq	.L187
 1789              	.LVL234:
 1790              	.L171:
 963:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* complete current p_from fits into current p_to */
 1791              		.loc 1 963 0
 1792 007a 7B89     		ldrh	r3, [r7, #10]
 1793 007c 991B     		subs	r1, r3, r6
 1794 007e 6C89     		ldrh	r4, [r5, #10]
 1795 0080 A4EB0802 		sub	r2, r4, r8
 1796 0084 9142     		cmp	r1, r2
 1797 0086 D6DB     		blt	.L173
 965:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 1798              		.loc 1 965 0
 1799 0088 94B2     		uxth	r4, r2
 1800              	.LVL235:
 1801              	.L174:
 970:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_to += len;
 1802              		.loc 1 970 0
 1803 008a 7868     		ldr	r0, [r7, #4]
 1804 008c 6968     		ldr	r1, [r5, #4]
 1805 008e 2246     		mov	r2, r4
 1806 0090 4144     		add	r1, r1, r8
 1807 0092 3044     		add	r0, r0, r6
 1808 0094 FFF7FEFF 		bl	memcpy
 1809              	.LVL236:
 971:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_from += len;
 1810              		.loc 1 971 0
 1811 0098 2644     		add	r6, r6, r4
 1812              	.LVL237:
 1813 009a B6B2     		uxth	r6, r6
 1814              	.LVL238:
 972:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_to <= p_to->len", offset_to <= p_to->len);
 1815              		.loc 1 972 0
 1816 009c 4444     		add	r4, r4, r8
 1817              	.LVL239:
 1818 009e 1FFA84F8 		uxth	r8, r4
 1819              	.LVL240:
 973:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 1820              		.loc 1 973 0
 1821 00a2 7B89     		ldrh	r3, [r7, #10]
 1822 00a4 9E42     		cmp	r6, r3
 1823 00a6 C9D8     		bhi	.L188
 1824              	.L175:
 974:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 1825              		.loc 1 974 0
 1826 00a8 6B89     		ldrh	r3, [r5, #10]
 1827 00aa 9845     		cmp	r8, r3
 1828 00ac CED8     		bhi	.L189
 1829              	.L176:
 975:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_from (if any) */
 1830              		.loc 1 975 0
 1831 00ae 6B89     		ldrh	r3, [r5, #10]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 57


 1832 00b0 9845     		cmp	r8, r3
 1833 00b2 D3D3     		bcc	.L177
 1834              	.LVL241:
 978:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1835              		.loc 1 978 0
 1836 00b4 2D68     		ldr	r5, [r5]
 1837              	.LVL242:
 977:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_from = p_from->next;
 1838              		.loc 1 977 0
 1839 00b6 4FF00008 		mov	r8, #0
 1840 00ba CFE7     		b	.L177
 1841              	.LVL243:
 1842              	.L184:
 983:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("p_to != NULL", (p_to != NULL) || (p_from == NULL) , return ERR_ARG;);
 1843              		.loc 1 983 0
 1844 00bc 3F68     		ldr	r7, [r7]
 1845              	.LVL244:
 984:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1846              		.loc 1 984 0
 1847 00be B7FA87F3 		clz	r3, r7
 1848 00c2 5B09     		lsrs	r3, r3, #5
 1849 00c4 002D     		cmp	r5, #0
 1850 00c6 08BF     		it	eq
 1851 00c8 0023     		moveq	r3, #0
 1852 00ca 0BB9     		cbnz	r3, .L190
 982:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_to = p_to->next;
 1853              		.loc 1 982 0
 1854 00cc 0026     		movs	r6, #0
 1855 00ce C8E7     		b	.L178
 1856              	.L190:
 984:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1857              		.loc 1 984 0 discriminator 1
 1858 00d0 144B     		ldr	r3, .L191
 1859 00d2 4FF47672 		mov	r2, #984
 1860 00d6 1849     		ldr	r1, .L191+20
 1861 00d8 1448     		ldr	r0, .L191+8
 1862 00da FFF7FEFF 		bl	printf
 1863              	.LVL245:
 1864 00de 6FF00F00 		mvn	r0, #15
 1865 00e2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1866              	.LVL246:
 1867              	.L185:
 989:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 1868              		.loc 1 989 0
 1869 00e6 2B68     		ldr	r3, [r5]
 1870 00e8 002B     		cmp	r3, #0
 1871 00ea BFD0     		beq	.L179
 989:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 1872              		.loc 1 989 0 is_stmt 0 discriminator 1
 1873 00ec 0D4B     		ldr	r3, .L191
 1874 00ee 40F2DE32 		movw	r2, #990
 1875 00f2 1249     		ldr	r1, .L191+24
 1876 00f4 0D48     		ldr	r0, .L191+8
 1877 00f6 FFF7FEFF 		bl	printf
 1878              	.LVL247:
 1879 00fa 6FF00500 		mvn	r0, #5
 1880 00fe BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 58


 1881              	.LVL248:
 1882              	.L186:
 994:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   (p_to->next == NULL), return ERR_VAL;);
 1883              		.loc 1 994 0 is_stmt 1
 1884 0102 3B68     		ldr	r3, [r7]
 1885 0104 002B     		cmp	r3, #0
 1886 0106 B6D0     		beq	.L180
 994:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   (p_to->next == NULL), return ERR_VAL;);
 1887              		.loc 1 994 0 is_stmt 0 discriminator 1
 1888 0108 064B     		ldr	r3, .L191
 1889 010a 40F2E332 		movw	r2, #995
 1890 010e 0B49     		ldr	r1, .L191+24
 1891 0110 0648     		ldr	r0, .L191+8
 1892 0112 FFF7FEFF 		bl	printf
 1893              	.LVL249:
 1894 0116 6FF00500 		mvn	r0, #5
 1895 011a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1896              	.LVL250:
 1897              	.L187:
 999:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1898              		.loc 1 999 0 is_stmt 1
 1899 011e 0020     		movs	r0, #0
1000:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1900              		.loc 1 1000 0
 1901 0120 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1902              	.LVL251:
 1903              	.L192:
 1904              		.align	2
 1905              	.L191:
 1906 0124 00000000 		.word	.LC0
 1907 0128 00000000 		.word	.LC26
 1908 012c 3C000000 		.word	.LC2
 1909 0130 30000000 		.word	.LC27
 1910 0134 48000000 		.word	.LC28
 1911 0138 64000000 		.word	.LC29
 1912 013c 74000000 		.word	.LC30
 1913              		.cfi_endproc
 1914              	.LFE172:
 1916              		.section	.text.pbuf_copy_partial,"ax",%progbits
 1917              		.align	1
 1918              		.global	pbuf_copy_partial
 1919              		.syntax unified
 1920              		.thumb
 1921              		.thumb_func
 1922              		.fpu fpv5-sp-d16
 1924              	pbuf_copy_partial:
 1925              	.LFB173:
1016:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf *p;
 1926              		.loc 1 1016 0
 1927              		.cfi_startproc
 1928              		@ args = 0, pretend = 0, frame = 0
 1929              		@ frame_needed = 0, uses_anonymous_args = 0
 1930              	.LVL252:
 1931 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1932              	.LCFI16:
 1933              		.cfi_def_cfa_offset 24
 1934              		.cfi_offset 4, -24
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 59


 1935              		.cfi_offset 5, -20
 1936              		.cfi_offset 6, -16
 1937              		.cfi_offset 7, -12
 1938              		.cfi_offset 8, -8
 1939              		.cfi_offset 14, -4
 1940              	.LVL253:
1022:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 1941              		.loc 1 1022 0
 1942 0004 28B1     		cbz	r0, .L204
 1943 0006 0F46     		mov	r7, r1
 1944 0008 9046     		mov	r8, r2
 1945 000a 0546     		mov	r5, r0
1023:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1946              		.loc 1 1023 0
 1947 000c 61B1     		cbz	r1, .L205
 1948 000e 0026     		movs	r6, #0
 1949 0010 27E0     		b	.L196
 1950              	.L204:
1022:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 1951              		.loc 1 1022 0 discriminator 1
 1952 0012 1A4B     		ldr	r3, .L206
 1953              	.LVL254:
 1954 0014 40F2FE32 		movw	r2, #1022
 1955              	.LVL255:
 1956 0018 1949     		ldr	r1, .L206+4
 1957              	.LVL256:
 1958 001a 1A48     		ldr	r0, .L206+8
 1959              	.LVL257:
 1960 001c FFF7FEFF 		bl	printf
 1961              	.LVL258:
 1962 0020 0026     		movs	r6, #0
 1963              	.LVL259:
 1964              	.L195:
1051:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1965              		.loc 1 1051 0
 1966 0022 3046     		mov	r0, r6
 1967 0024 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1968              	.LVL260:
 1969              	.L205:
1023:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1970              		.loc 1 1023 0 discriminator 1
 1971 0028 144B     		ldr	r3, .L206
 1972              	.LVL261:
 1973 002a 40F2FF32 		movw	r2, #1023
 1974              	.LVL262:
 1975 002e 1649     		ldr	r1, .L206+12
 1976              	.LVL263:
 1977 0030 1448     		ldr	r0, .L206+8
 1978              	.LVL264:
 1979 0032 FFF7FEFF 		bl	printf
 1980              	.LVL265:
 1981 0036 0026     		movs	r6, #0
 1982 0038 F3E7     		b	.L195
 1983              	.LVL266:
 1984              	.L197:
1038:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
 1985              		.loc 1 1038 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 60


 1986 003a 6A89     		ldrh	r2, [r5, #10]
 1987 003c D21A     		subs	r2, r2, r3
 1988 003e 94B2     		uxth	r4, r2
 1989              	.LVL267:
1039:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         buf_copy_len = len;
 1990              		.loc 1 1039 0
 1991 0040 A045     		cmp	r8, r4
 1992 0042 00D2     		bcs	.L199
1040:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 1993              		.loc 1 1040 0
 1994 0044 4446     		mov	r4, r8
 1995              	.LVL268:
 1996              	.L199:
1043:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       copied_total += buf_copy_len;
 1997              		.loc 1 1043 0
 1998 0046 6968     		ldr	r1, [r5, #4]
 1999 0048 2246     		mov	r2, r4
 2000 004a 1944     		add	r1, r1, r3
 2001 004c B819     		adds	r0, r7, r6
 2002 004e FFF7FEFF 		bl	memcpy
 2003              	.LVL269:
1044:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       left += buf_copy_len;
 2004              		.loc 1 1044 0
 2005 0052 2644     		add	r6, r6, r4
 2006              	.LVL270:
 2007 0054 B6B2     		uxth	r6, r6
 2008              	.LVL271:
1046:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset = 0;
 2009              		.loc 1 1046 0
 2010 0056 A8EB0404 		sub	r4, r8, r4
 2011              	.LVL272:
 2012 005a 1FFA84F8 		uxth	r8, r4
 2013              	.LVL273:
1047:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 2014              		.loc 1 1047 0
 2015 005e 0023     		movs	r3, #0
 2016              	.LVL274:
 2017              	.L198:
1032:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 2018              		.loc 1 1032 0 discriminator 2
 2019 0060 2D68     		ldr	r5, [r5]
 2020              	.LVL275:
 2021              	.L196:
1032:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 2022              		.loc 1 1032 0 is_stmt 0 discriminator 1
 2023 0062 B8F1000F 		cmp	r8, #0
 2024 0066 18BF     		it	ne
 2025 0068 002D     		cmpne	r5, #0
 2026 006a DAD0     		beq	.L195
1033:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 2027              		.loc 1 1033 0 is_stmt 1
 2028 006c 002B     		cmp	r3, #0
 2029 006e E4D0     		beq	.L197
1033:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 2030              		.loc 1 1033 0 is_stmt 0 discriminator 1
 2031 0070 6989     		ldrh	r1, [r5, #10]
 2032 0072 8B42     		cmp	r3, r1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 61


 2033 0074 E1D3     		bcc	.L197
1035:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 2034              		.loc 1 1035 0 is_stmt 1
 2035 0076 5B1A     		subs	r3, r3, r1
 2036              	.LVL276:
 2037 0078 9BB2     		uxth	r3, r3
 2038              	.LVL277:
 2039 007a F1E7     		b	.L198
 2040              	.L207:
 2041              		.align	2
 2042              	.L206:
 2043 007c 00000000 		.word	.LC0
 2044 0080 00000000 		.word	.LC31
 2045 0084 3C000000 		.word	.LC2
 2046 0088 20000000 		.word	.LC32
 2047              		.cfi_endproc
 2048              	.LFE173:
 2050              		.section	.text.pbuf_skip,"ax",%progbits
 2051              		.align	1
 2052              		.global	pbuf_skip
 2053              		.syntax unified
 2054              		.thumb
 2055              		.thumb_func
 2056              		.fpu fpv5-sp-d16
 2058              	pbuf_skip:
 2059              	.LFB175:
1120:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1121:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1122:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1123:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Skip a number of bytes at the start of a pbuf
1124:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1125:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param in input pbuf
1126:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param in_offset offset to skip
1127:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param out_offset resulting offset in the returned pbuf
1128:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the pbuf in the queue where the offset is
1129:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1130:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf*
1131:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_skip(struct pbuf* in, u16_t in_offset, u16_t* out_offset)
1132:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2060              		.loc 1 1132 0
 2061              		.cfi_startproc
 2062              		@ args = 0, pretend = 0, frame = 0
 2063              		@ frame_needed = 0, uses_anonymous_args = 0
 2064              	.LVL278:
 2065 0000 08B5     		push	{r3, lr}
 2066              	.LCFI17:
 2067              		.cfi_def_cfa_offset 8
 2068              		.cfi_offset 3, -8
 2069              		.cfi_offset 14, -4
1133:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf* out = pbuf_skip_const(in, in_offset, out_offset);
 2070              		.loc 1 1133 0
 2071 0002 FFF7FEFF 		bl	pbuf_skip_const
 2072              	.LVL279:
1134:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return LWIP_CONST_CAST(struct pbuf*, out);
1135:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2073              		.loc 1 1135 0
 2074 0006 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 62


 2075              		.cfi_endproc
 2076              	.LFE175:
 2078              		.section	.text.pbuf_take,"ax",%progbits
 2079              		.align	1
 2080              		.global	pbuf_take
 2081              		.syntax unified
 2082              		.thumb
 2083              		.thumb_func
 2084              		.fpu fpv5-sp-d16
 2086              	pbuf_take:
 2087              	.LFB176:
1136:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1137:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1138:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1139:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copy application supplied data into a pbuf.
1140:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This function can only be used to copy the equivalent of buf->tot_len data.
1141:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1142:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buf pbuf to fill with data
1143:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr application supplied data buffer
1144:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of the application supplied data buffer
1145:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1146:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, ERR_MEM if the pbuf is not big enough
1147:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1148:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
1149:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_take(struct pbuf *buf, const void *dataptr, u16_t len)
1150:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2088              		.loc 1 1150 0
 2089              		.cfi_startproc
 2090              		@ args = 0, pretend = 0, frame = 0
 2091              		@ frame_needed = 0, uses_anonymous_args = 0
 2092              	.LVL280:
 2093 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 2094              	.LCFI18:
 2095              		.cfi_def_cfa_offset 32
 2096              		.cfi_offset 3, -32
 2097              		.cfi_offset 4, -28
 2098              		.cfi_offset 5, -24
 2099              		.cfi_offset 6, -20
 2100              		.cfi_offset 7, -16
 2101              		.cfi_offset 8, -12
 2102              		.cfi_offset 9, -8
 2103              		.cfi_offset 14, -4
 2104              	.LVL281:
1151:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
1152:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t buf_copy_len;
1153:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t total_copy_len = len;
1154:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t copied_total = 0;
1155:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1156:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid buf", (buf != NULL), return ERR_ARG;);
 2105              		.loc 1 1156 0
 2106 0004 48B1     		cbz	r0, .L221
 2107 0006 8846     		mov	r8, r1
 2108 0008 9146     		mov	r9, r2
 2109 000a 0646     		mov	r6, r0
1157:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 2110              		.loc 1 1157 0
 2111 000c 81B1     		cbz	r1, .L222
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 63


1158:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 2112              		.loc 1 1158 0
 2113 000e 0389     		ldrh	r3, [r0, #8]
 2114 0010 9A42     		cmp	r2, r3
 2115 0012 18D8     		bhi	.L223
 2116 0014 1446     		mov	r4, r2
 2117 0016 0027     		movs	r7, #0
 2118 0018 33E0     		b	.L214
 2119              	.L221:
1156:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 2120              		.loc 1 1156 0 discriminator 1
 2121 001a 254B     		ldr	r3, .L227
 2122 001c 40F28442 		movw	r2, #1156
 2123              	.LVL282:
 2124 0020 2449     		ldr	r1, .L227+4
 2125              	.LVL283:
 2126 0022 2548     		ldr	r0, .L227+8
 2127              	.LVL284:
 2128 0024 FFF7FEFF 		bl	printf
 2129              	.LVL285:
 2130 0028 6FF00F00 		mvn	r0, #15
 2131 002c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2132              	.LVL286:
 2133              	.L222:
1157:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 2134              		.loc 1 1157 0 discriminator 1
 2135 0030 1F4B     		ldr	r3, .L227
 2136 0032 40F28542 		movw	r2, #1157
 2137              	.LVL287:
 2138 0036 2149     		ldr	r1, .L227+12
 2139              	.LVL288:
 2140 0038 1F48     		ldr	r0, .L227+8
 2141              	.LVL289:
 2142 003a FFF7FEFF 		bl	printf
 2143              	.LVL290:
 2144 003e 6FF00F00 		mvn	r0, #15
 2145 0042 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2146              	.LVL291:
 2147              	.L223:
 2148              		.loc 1 1158 0 discriminator 1
 2149 0046 1A4B     		ldr	r3, .L227
 2150 0048 40F28642 		movw	r2, #1158
 2151              	.LVL292:
 2152 004c 1C49     		ldr	r1, .L227+16
 2153              	.LVL293:
 2154 004e 1A48     		ldr	r0, .L227+8
 2155              	.LVL294:
 2156 0050 FFF7FEFF 		bl	printf
 2157              	.LVL295:
 2158 0054 4FF0FF30 		mov	r0, #-1
 2159 0058 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2160              	.LVL296:
 2161              	.L225:
1159:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1160:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((buf == NULL) || (dataptr == NULL) || (buf->tot_len < len)) {
1161:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ERR_ARG;
1162:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 64


1163:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1164:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* Note some systems use byte copy if dataptr or one of the pbuf payload pointers are unaligned. 
1165:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (p = buf; total_copy_len != 0; p = p->next) {
1166:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 2162              		.loc 1 1166 0 discriminator 1
 2163 005c 144B     		ldr	r3, .L227
 2164 005e 40F28E42 		movw	r2, #1166
 2165 0062 1849     		ldr	r1, .L227+20
 2166 0064 1448     		ldr	r0, .L227+8
 2167 0066 FFF7FEFF 		bl	printf
 2168              	.LVL297:
 2169 006a 0DE0     		b	.L215
 2170              	.LVL298:
 2171              	.L216:
1167:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
1168:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (buf_copy_len > p->len) {
1169:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf cannot hold all remaining data */
1170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       buf_copy_len = p->len;
1171:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1172:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* copy the necessary parts of the buffer */
1173:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     MEMCPY(p->payload, &((const char*)dataptr)[copied_total], buf_copy_len);
 2172              		.loc 1 1173 0 discriminator 2
 2173 006c 2A46     		mov	r2, r5
 2174 006e 08EB0701 		add	r1, r8, r7
 2175 0072 7068     		ldr	r0, [r6, #4]
 2176 0074 FFF7FEFF 		bl	memcpy
 2177              	.LVL299:
1174:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     total_copy_len -= buf_copy_len;
 2178              		.loc 1 1174 0 discriminator 2
 2179 0078 641B     		subs	r4, r4, r5
 2180              	.LVL300:
 2181 007a A4B2     		uxth	r4, r4
 2182              	.LVL301:
1175:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     copied_total += buf_copy_len;
 2183              		.loc 1 1175 0 discriminator 2
 2184 007c 2F44     		add	r7, r7, r5
 2185              	.LVL302:
 2186 007e BFB2     		uxth	r7, r7
 2187              	.LVL303:
1165:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 2188              		.loc 1 1165 0 discriminator 2
 2189 0080 3668     		ldr	r6, [r6]
 2190              	.LVL304:
 2191              	.L214:
1165:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 2192              		.loc 1 1165 0 is_stmt 0 discriminator 1
 2193 0082 34B1     		cbz	r4, .L224
1166:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 2194              		.loc 1 1166 0 is_stmt 1
 2195 0084 002E     		cmp	r6, #0
 2196 0086 E9D0     		beq	.L225
 2197              	.L215:
 2198              	.LVL305:
1168:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf cannot hold all remaining data */
 2199              		.loc 1 1168 0
 2200 0088 7589     		ldrh	r5, [r6, #10]
 2201 008a AC42     		cmp	r4, r5
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 65


 2202 008c EED8     		bhi	.L216
1167:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (buf_copy_len > p->len) {
 2203              		.loc 1 1167 0
 2204 008e 2546     		mov	r5, r4
 2205 0090 ECE7     		b	.L216
 2206              	.LVL306:
 2207              	.L224:
1176:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1177:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("did not copy all data", total_copy_len == 0 && copied_total == len);
 2208              		.loc 1 1177 0
 2209 0092 4F45     		cmp	r7, r9
 2210 0094 02D1     		bne	.L226
1178:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
 2211              		.loc 1 1178 0
 2212 0096 0020     		movs	r0, #0
1179:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2213              		.loc 1 1179 0
 2214 0098 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2215              	.LVL307:
 2216              	.L226:
1177:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
 2217              		.loc 1 1177 0 discriminator 1
 2218 009c 044B     		ldr	r3, .L227
 2219 009e 40F29942 		movw	r2, #1177
 2220 00a2 0949     		ldr	r1, .L227+24
 2221 00a4 0448     		ldr	r0, .L227+8
 2222 00a6 FFF7FEFF 		bl	printf
 2223              	.LVL308:
1178:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
 2224              		.loc 1 1178 0 discriminator 1
 2225 00aa 0020     		movs	r0, #0
 2226 00ac BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2227              	.LVL309:
 2228              	.L228:
 2229              		.align	2
 2230              	.L227:
 2231 00b0 00000000 		.word	.LC0
 2232 00b4 00000000 		.word	.LC33
 2233 00b8 3C000000 		.word	.LC2
 2234 00bc 18000000 		.word	.LC34
 2235 00c0 34000000 		.word	.LC35
 2236 00c4 54000000 		.word	.LC36
 2237 00c8 6C000000 		.word	.LC37
 2238              		.cfi_endproc
 2239              	.LFE176:
 2241              		.section	.text.pbuf_take_at,"ax",%progbits
 2242              		.align	1
 2243              		.global	pbuf_take_at
 2244              		.syntax unified
 2245              		.thumb
 2246              		.thumb_func
 2247              		.fpu fpv5-sp-d16
 2249              	pbuf_take_at:
 2250              	.LFB177:
1180:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1181:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1182:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 66


1183:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Same as pbuf_take() but puts data at an offset
1184:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1185:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buf pbuf to fill with data
1186:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr application supplied data buffer
1187:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of the application supplied data buffer
1188:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset in pbuf where to copy dataptr to
1189:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1190:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, ERR_MEM if the pbuf is not big enough
1191:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1192:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
1193:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_take_at(struct pbuf *buf, const void *dataptr, u16_t len, u16_t offset)
1194:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2251              		.loc 1 1194 0
 2252              		.cfi_startproc
 2253              		@ args = 0, pretend = 0, frame = 8
 2254              		@ frame_needed = 0, uses_anonymous_args = 0
 2255              	.LVL310:
 2256 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2257              	.LCFI19:
 2258              		.cfi_def_cfa_offset 20
 2259              		.cfi_offset 4, -20
 2260              		.cfi_offset 5, -16
 2261              		.cfi_offset 6, -12
 2262              		.cfi_offset 7, -8
 2263              		.cfi_offset 14, -4
 2264 0002 83B0     		sub	sp, sp, #12
 2265              	.LCFI20:
 2266              		.cfi_def_cfa_offset 32
 2267 0004 0F46     		mov	r7, r1
 2268 0006 1546     		mov	r5, r2
1195:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t target_offset;
1196:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf* q = pbuf_skip(buf, offset, &target_offset);
 2269              		.loc 1 1196 0
 2270 0008 0DF10602 		add	r2, sp, #6
 2271              	.LVL311:
 2272 000c 1946     		mov	r1, r3
 2273              	.LVL312:
 2274 000e FFF7FEFF 		bl	pbuf_skip
 2275              	.LVL313:
1197:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1198:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1199:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->tot_len >= target_offset + len)) {
 2276              		.loc 1 1199 0
 2277 0012 E8B1     		cbz	r0, .L231
 2278 0014 0646     		mov	r6, r0
 2279              		.loc 1 1199 0 is_stmt 0 discriminator 1
 2280 0016 0189     		ldrh	r1, [r0, #8]
 2281 0018 BDF80630 		ldrh	r3, [sp, #6]
 2282 001c 5A19     		adds	r2, r3, r5
 2283 001e 9142     		cmp	r1, r2
 2284 0020 19DB     		blt	.L232
 2285              	.LVL314:
 2286              	.LBB10:
1200:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t remaining_len = len;
1201:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     const u8_t* src_ptr = (const u8_t*)dataptr;
1202:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* copy the part that goes into the first pbuf */
1203:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t first_copy_len = LWIP_MIN(q->len - target_offset, len);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 67


 2287              		.loc 1 1203 0 is_stmt 1
 2288 0022 4489     		ldrh	r4, [r0, #10]
 2289 0024 E41A     		subs	r4, r4, r3
 2290 0026 AC42     		cmp	r4, r5
 2291 0028 A8BF     		it	ge
 2292 002a 2C46     		movge	r4, r5
 2293 002c A4B2     		uxth	r4, r4
 2294              	.LVL315:
1204:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     MEMCPY(((u8_t*)q->payload) + target_offset, dataptr, first_copy_len);
 2295              		.loc 1 1204 0
 2296 002e 4068     		ldr	r0, [r0, #4]
 2297              	.LVL316:
 2298 0030 2246     		mov	r2, r4
 2299 0032 3946     		mov	r1, r7
 2300 0034 1844     		add	r0, r0, r3
 2301 0036 FFF7FEFF 		bl	memcpy
 2302              	.LVL317:
1205:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     remaining_len -= first_copy_len;
 2303              		.loc 1 1205 0
 2304 003a 2A1B     		subs	r2, r5, r4
 2305 003c 92B2     		uxth	r2, r2
 2306              	.LVL318:
1206:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     src_ptr += first_copy_len;
 2307              		.loc 1 1206 0
 2308 003e 3919     		adds	r1, r7, r4
 2309              	.LVL319:
1207:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (remaining_len > 0) {
 2310              		.loc 1 1207 0
 2311 0040 12B9     		cbnz	r2, .L235
1208:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return pbuf_take(q->next, src_ptr, remaining_len);
1209:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1210:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ERR_OK;
 2312              		.loc 1 1210 0
 2313 0042 0020     		movs	r0, #0
 2314              	.LVL320:
 2315              	.L230:
 2316              	.LBE10:
1211:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1212:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_MEM;
1213:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2317              		.loc 1 1213 0
 2318 0044 03B0     		add	sp, sp, #12
 2319              	.LCFI21:
 2320              		.cfi_remember_state
 2321              		.cfi_def_cfa_offset 20
 2322              		@ sp needed
 2323 0046 F0BD     		pop	{r4, r5, r6, r7, pc}
 2324              	.LVL321:
 2325              	.L235:
 2326              	.LCFI22:
 2327              		.cfi_restore_state
 2328              	.LBB11:
1208:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return pbuf_take(q->next, src_ptr, remaining_len);
 2329              		.loc 1 1208 0
 2330 0048 3068     		ldr	r0, [r6]
 2331 004a FFF7FEFF 		bl	pbuf_take
 2332              	.LVL322:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 68


 2333 004e F9E7     		b	.L230
 2334              	.LVL323:
 2335              	.L231:
 2336              	.LBE11:
1212:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2337              		.loc 1 1212 0
 2338 0050 4FF0FF30 		mov	r0, #-1
 2339              	.LVL324:
 2340 0054 F6E7     		b	.L230
 2341              	.LVL325:
 2342              	.L232:
 2343 0056 4FF0FF30 		mov	r0, #-1
 2344              	.LVL326:
 2345 005a F3E7     		b	.L230
 2346              		.cfi_endproc
 2347              	.LFE177:
 2349              		.section	.text.pbuf_coalesce,"ax",%progbits
 2350              		.align	1
 2351              		.global	pbuf_coalesce
 2352              		.syntax unified
 2353              		.thumb
 2354              		.thumb_func
 2355              		.fpu fpv5-sp-d16
 2357              	pbuf_coalesce:
 2358              	.LFB178:
1214:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1215:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1216:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1217:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Creates a single pbuf out of a queue of pbufs.
1218:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1219:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @remark: Either the source pbuf 'p' is freed by this function or the original
1220:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *          pbuf 'p' is returned, therefore the caller has to check the result!
1221:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1222:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the source pbuf
1223:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param layer pbuf_layer of the new pbuf
1224:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1225:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return a new, single pbuf (p->next is NULL)
1226:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         or the old pbuf if allocation fails
1227:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1228:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf*
1229:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_coalesce(struct pbuf *p, pbuf_layer layer)
1230:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2359              		.loc 1 1230 0
 2360              		.cfi_startproc
 2361              		@ args = 0, pretend = 0, frame = 0
 2362              		@ frame_needed = 0, uses_anonymous_args = 0
 2363              	.LVL327:
 2364 0000 38B5     		push	{r3, r4, r5, lr}
 2365              	.LCFI23:
 2366              		.cfi_def_cfa_offset 16
 2367              		.cfi_offset 3, -16
 2368              		.cfi_offset 4, -12
 2369              		.cfi_offset 5, -8
 2370              		.cfi_offset 14, -4
1231:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
1232:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   err_t err;
1233:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p->next == NULL) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 69


 2371              		.loc 1 1233 0
 2372 0002 0368     		ldr	r3, [r0]
 2373 0004 CBB1     		cbz	r3, .L239
 2374 0006 0B46     		mov	r3, r1
 2375 0008 0446     		mov	r4, r0
1234:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return p;
1235:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1236:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = pbuf_alloc(layer, p->tot_len, PBUF_RAM);
 2376              		.loc 1 1236 0
 2377 000a 0022     		movs	r2, #0
 2378 000c 0189     		ldrh	r1, [r0, #8]
 2379              	.LVL328:
 2380 000e 1846     		mov	r0, r3
 2381              	.LVL329:
 2382 0010 FFF7FEFF 		bl	pbuf_alloc
 2383              	.LVL330:
1237:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q == NULL) {
 2384              		.loc 1 1237 0
 2385 0014 0546     		mov	r5, r0
 2386 0016 90B1     		cbz	r0, .L240
1238:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* @todo: what do we do now? */
1239:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return p;
1240:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1241:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   err = pbuf_copy(q, p);
 2387              		.loc 1 1241 0
 2388 0018 2146     		mov	r1, r4
 2389 001a FFF7FEFF 		bl	pbuf_copy
 2390              	.LVL331:
1242:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(err); /* in case of LWIP_NOASSERT */
1243:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_copy failed", err == ERR_OK);
 2391              		.loc 1 1243 0
 2392 001e 20B9     		cbnz	r0, .L242
 2393              	.LVL332:
 2394              	.L238:
1244:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free(p);
 2395              		.loc 1 1244 0
 2396 0020 2046     		mov	r0, r4
 2397 0022 FFF7FEFF 		bl	pbuf_free
 2398              	.LVL333:
 2399              	.L236:
1245:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return q;
1246:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2400              		.loc 1 1246 0
 2401 0026 2846     		mov	r0, r5
 2402 0028 38BD     		pop	{r3, r4, r5, pc}
 2403              	.LVL334:
 2404              	.L242:
1243:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free(p);
 2405              		.loc 1 1243 0 discriminator 1
 2406 002a 064B     		ldr	r3, .L243
 2407 002c 40F2DB42 		movw	r2, #1243
 2408 0030 0549     		ldr	r1, .L243+4
 2409 0032 0648     		ldr	r0, .L243+8
 2410              	.LVL335:
 2411 0034 FFF7FEFF 		bl	printf
 2412              	.LVL336:
 2413 0038 F2E7     		b	.L238
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 70


 2414              	.LVL337:
 2415              	.L239:
1234:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2416              		.loc 1 1234 0
 2417 003a 0546     		mov	r5, r0
 2418 003c F3E7     		b	.L236
 2419              	.LVL338:
 2420              	.L240:
1239:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2421              		.loc 1 1239 0
 2422 003e 2546     		mov	r5, r4
 2423 0040 F1E7     		b	.L236
 2424              	.L244:
 2425 0042 00BF     		.align	2
 2426              	.L243:
 2427 0044 00000000 		.word	.LC0
 2428 0048 00000000 		.word	.LC38
 2429 004c 3C000000 		.word	.LC2
 2430              		.cfi_endproc
 2431              	.LFE178:
 2433              		.section	.text.pbuf_try_get_at,"ax",%progbits
 2434              		.align	1
 2435              		.global	pbuf_try_get_at
 2436              		.syntax unified
 2437              		.thumb
 2438              		.thumb_func
 2439              		.fpu fpv5-sp-d16
 2441              	pbuf_try_get_at:
 2442              	.LFB180:
1247:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1248:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_CHECKSUM_ON_COPY
1249:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1250:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copies data into a single pbuf (*not* into a pbuf queue!) and updates
1251:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the checksum while copying
1252:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1253:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the pbuf to copy data into
1254:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param start_offset offset of p->payload where to copy the data to
1255:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr data to copy into the pbuf
1256:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of data to copy into the pbuf
1257:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param chksum pointer to the checksum which is updated
1258:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, another error if the data does not fit
1259:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         within the (first) pbuf (no pbuf queues!)
1260:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1261:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
1262:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_fill_chksum(struct pbuf *p, u16_t start_offset, const void *dataptr,
1263:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  u16_t len, u16_t *chksum)
1264:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1265:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u32_t acc;
1266:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t copy_chksum;
1267:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   char *dst_ptr;
1268:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p != NULL", p != NULL);
1269:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("dataptr != NULL", dataptr != NULL);
1270:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("chksum != NULL", chksum != NULL);
1271:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("len != 0", len != 0);
1272:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1273:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((start_offset >= p->len) || (start_offset + len > p->len)) {
1274:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ERR_ARG;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 71


1275:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1276:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1277:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   dst_ptr = ((char*)p->payload) + start_offset;
1278:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   copy_chksum = LWIP_CHKSUM_COPY(dst_ptr, dataptr, len);
1279:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((start_offset & 1) != 0) {
1280:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     copy_chksum = SWAP_BYTES_IN_WORD(copy_chksum);
1281:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1282:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   acc = *chksum;
1283:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   acc += copy_chksum;
1284:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   *chksum = FOLD_U32T(acc);
1285:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
1286:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1287:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1288:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1289:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1290:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1291:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Get one byte from the specified position in a pbuf
1292:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARNING: returns zero for offset >= p->tot_len
1293:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1294:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to parse
1295:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to return
1296:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return byte at an offset into p OR ZERO IF 'offset' >= p->tot_len
1297:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1298:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
1299:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_get_at(const struct pbuf* p, u16_t offset)
1300:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1301:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   int ret = pbuf_try_get_at(p, offset);
1302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (ret >= 0) {
1303:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return (u8_t)ret;
1304:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1305:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
1306:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1307:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1308:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1309:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1310:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Get one byte from the specified position in a pbuf
1311:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1312:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to parse
1313:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to return
1314:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return byte at an offset into p [0..0xFF] OR negative if 'offset' >= p->tot_len
1315:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1316:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** int
1317:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_try_get_at(const struct pbuf* p, u16_t offset)
1318:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2443              		.loc 1 1318 0
 2444              		.cfi_startproc
 2445              		@ args = 0, pretend = 0, frame = 8
 2446              		@ frame_needed = 0, uses_anonymous_args = 0
 2447              	.LVL339:
 2448 0000 00B5     		push	{lr}
 2449              	.LCFI24:
 2450              		.cfi_def_cfa_offset 4
 2451              		.cfi_offset 14, -4
 2452 0002 83B0     		sub	sp, sp, #12
 2453              	.LCFI25:
 2454              		.cfi_def_cfa_offset 16
1319:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t q_idx;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 72


1320:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf* q = pbuf_skip_const(p, offset, &q_idx);
 2455              		.loc 1 1320 0
 2456 0004 0DF10602 		add	r2, sp, #6
 2457 0008 FFF7FEFF 		bl	pbuf_skip_const
 2458              	.LVL340:
1321:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1322:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1323:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->len > q_idx)) {
 2459              		.loc 1 1323 0
 2460 000c 48B1     		cbz	r0, .L247
 2461              		.loc 1 1323 0 is_stmt 0 discriminator 1
 2462 000e 4189     		ldrh	r1, [r0, #10]
 2463 0010 BDF80620 		ldrh	r2, [sp, #6]
 2464 0014 9142     		cmp	r1, r2
 2465 0016 07D9     		bls	.L248
1324:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ((u8_t*)q->payload)[q_idx];
 2466              		.loc 1 1324 0 is_stmt 1
 2467 0018 4368     		ldr	r3, [r0, #4]
 2468 001a 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 2469              	.LVL341:
 2470              	.L245:
1325:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1326:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return -1;
1327:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2471              		.loc 1 1327 0
 2472 001c 03B0     		add	sp, sp, #12
 2473              	.LCFI26:
 2474              		.cfi_remember_state
 2475              		.cfi_def_cfa_offset 4
 2476              		@ sp needed
 2477 001e 5DF804FB 		ldr	pc, [sp], #4
 2478              	.LVL342:
 2479              	.L247:
 2480              	.LCFI27:
 2481              		.cfi_restore_state
1326:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2482              		.loc 1 1326 0
 2483 0022 4FF0FF30 		mov	r0, #-1
 2484              	.LVL343:
 2485 0026 F9E7     		b	.L245
 2486              	.LVL344:
 2487              	.L248:
 2488 0028 4FF0FF30 		mov	r0, #-1
 2489              	.LVL345:
 2490 002c F6E7     		b	.L245
 2491              		.cfi_endproc
 2492              	.LFE180:
 2494              		.section	.text.pbuf_get_at,"ax",%progbits
 2495              		.align	1
 2496              		.global	pbuf_get_at
 2497              		.syntax unified
 2498              		.thumb
 2499              		.thumb_func
 2500              		.fpu fpv5-sp-d16
 2502              	pbuf_get_at:
 2503              	.LFB179:
1300:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   int ret = pbuf_try_get_at(p, offset);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 73


 2504              		.loc 1 1300 0
 2505              		.cfi_startproc
 2506              		@ args = 0, pretend = 0, frame = 0
 2507              		@ frame_needed = 0, uses_anonymous_args = 0
 2508              	.LVL346:
 2509 0000 08B5     		push	{r3, lr}
 2510              	.LCFI28:
 2511              		.cfi_def_cfa_offset 8
 2512              		.cfi_offset 3, -8
 2513              		.cfi_offset 14, -4
1301:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (ret >= 0) {
 2514              		.loc 1 1301 0
 2515 0002 FFF7FEFF 		bl	pbuf_try_get_at
 2516              	.LVL347:
1302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return (u8_t)ret;
 2517              		.loc 1 1302 0
 2518 0006 0028     		cmp	r0, #0
 2519 0008 01DB     		blt	.L252
1303:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2520              		.loc 1 1303 0
 2521 000a C0B2     		uxtb	r0, r0
 2522              	.LVL348:
 2523 000c 08BD     		pop	{r3, pc}
 2524              	.LVL349:
 2525              	.L252:
1305:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2526              		.loc 1 1305 0
 2527 000e 0020     		movs	r0, #0
 2528              	.LVL350:
1306:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 2529              		.loc 1 1306 0
 2530 0010 08BD     		pop	{r3, pc}
 2531              		.cfi_endproc
 2532              	.LFE179:
 2534              		.section	.text.pbuf_put_at,"ax",%progbits
 2535              		.align	1
 2536              		.global	pbuf_put_at
 2537              		.syntax unified
 2538              		.thumb
 2539              		.thumb_func
 2540              		.fpu fpv5-sp-d16
 2542              	pbuf_put_at:
 2543              	.LFB181:
1328:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1329:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1330:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1331:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Put one byte to the specified position in a pbuf
1332:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARNING: silently ignores offset >= p->tot_len
1333:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1334:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to fill
1335:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to write
1336:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param data byte to write at an offset into p
1337:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1338:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
1339:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_put_at(struct pbuf* p, u16_t offset, u8_t data)
1340:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2544              		.loc 1 1340 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 74


 2545              		.cfi_startproc
 2546              		@ args = 0, pretend = 0, frame = 8
 2547              		@ frame_needed = 0, uses_anonymous_args = 0
 2548              	.LVL351:
 2549 0000 10B5     		push	{r4, lr}
 2550              	.LCFI29:
 2551              		.cfi_def_cfa_offset 8
 2552              		.cfi_offset 4, -8
 2553              		.cfi_offset 14, -4
 2554 0002 82B0     		sub	sp, sp, #8
 2555              	.LCFI30:
 2556              		.cfi_def_cfa_offset 16
 2557 0004 1446     		mov	r4, r2
1341:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t q_idx;
1342:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf* q = pbuf_skip(p, offset, &q_idx);
 2558              		.loc 1 1342 0
 2559 0006 0DF10602 		add	r2, sp, #6
 2560              	.LVL352:
 2561 000a FFF7FEFF 		bl	pbuf_skip
 2562              	.LVL353:
1343:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1344:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* write requested data if pbuf is OK */
1345:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->len > q_idx)) {
 2563              		.loc 1 1345 0
 2564 000e 30B1     		cbz	r0, .L254
 2565              		.loc 1 1345 0 is_stmt 0 discriminator 1
 2566 0010 4189     		ldrh	r1, [r0, #10]
 2567 0012 BDF80620 		ldrh	r2, [sp, #6]
 2568 0016 9142     		cmp	r1, r2
 2569 0018 01D9     		bls	.L254
1346:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ((u8_t*)q->payload)[q_idx] = data;
 2570              		.loc 1 1346 0 is_stmt 1
 2571 001a 4368     		ldr	r3, [r0, #4]
 2572 001c 9C54     		strb	r4, [r3, r2]
 2573              	.L254:
1347:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1348:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2574              		.loc 1 1348 0
 2575 001e 02B0     		add	sp, sp, #8
 2576              	.LCFI31:
 2577              		.cfi_def_cfa_offset 8
 2578              		@ sp needed
 2579 0020 10BD     		pop	{r4, pc}
 2580              		.cfi_endproc
 2581              	.LFE181:
 2583              		.section	.text.pbuf_memcmp,"ax",%progbits
 2584              		.align	1
 2585              		.global	pbuf_memcmp
 2586              		.syntax unified
 2587              		.thumb
 2588              		.thumb_func
 2589              		.fpu fpv5-sp-d16
 2591              	pbuf_memcmp:
 2592              	.LFB182:
1349:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1350:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1351:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 75


1352:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Compare pbuf contents at specified offset with memory s2, both of length n
1353:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1354:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to compare
1355:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p at which to start comparing
1356:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param s2 buffer to compare
1357:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param n length of buffer to compare
1358:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return zero if equal, nonzero otherwise
1359:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         (0xffff if p is too short, diffoffset+1 otherwise)
1360:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1361:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1362:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_memcmp(const struct pbuf* p, u16_t offset, const void* s2, u16_t n)
1363:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2593              		.loc 1 1363 0
 2594              		.cfi_startproc
 2595              		@ args = 0, pretend = 0, frame = 0
 2596              		@ frame_needed = 0, uses_anonymous_args = 0
 2597              	.LVL354:
 2598 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2599              	.LCFI32:
 2600              		.cfi_def_cfa_offset 24
 2601              		.cfi_offset 4, -24
 2602              		.cfi_offset 5, -20
 2603              		.cfi_offset 6, -16
 2604              		.cfi_offset 7, -12
 2605              		.cfi_offset 8, -8
 2606              		.cfi_offset 14, -4
 2607 0004 9046     		mov	r8, r2
 2608 0006 1F46     		mov	r7, r3
 2609              	.LVL355:
1364:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t start = offset;
1365:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf* q = p;
1366:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t i;
1367:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  
1368:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf long enough to perform check? */
1369:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if(p->tot_len < (offset + n)) {
 2610              		.loc 1 1369 0
 2611 0008 0289     		ldrh	r2, [r0, #8]
 2612              	.LVL356:
 2613 000a CB18     		adds	r3, r1, r3
 2614              	.LVL357:
 2615 000c 9A42     		cmp	r2, r3
 2616 000e 03DA     		bge	.L267
1370:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xffff;
 2617              		.loc 1 1370 0
 2618 0010 4FF6FF70 		movw	r0, #65535
 2619              	.LVL358:
1371:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1372:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  
1373:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* get the correct pbuf from chain. We know it succeeds because of p->tot_len check above. */
1374:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while ((q != NULL) && (q->len <= start)) {
1375:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start -= q->len;
1376:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
1377:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1378:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  
1379:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1380:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (i = 0; i < n; i++) {
1381:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 76


1382:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u8_t a = pbuf_get_at(q, start + i);
1383:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u8_t b = ((const u8_t*)s2)[i];
1384:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (a != b) {
1385:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return i+1;
1386:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1387:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1388:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
1389:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2620              		.loc 1 1389 0
 2621 0014 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2622              	.LVL359:
 2623              	.L267:
 2624 0018 0546     		mov	r5, r0
 2625 001a 0E46     		mov	r6, r1
 2626 001c 02E0     		b	.L259
 2627              	.LVL360:
 2628              	.L261:
1375:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
 2629              		.loc 1 1375 0
 2630 001e 711A     		subs	r1, r6, r1
 2631 0020 8EB2     		uxth	r6, r1
 2632              	.LVL361:
1376:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2633              		.loc 1 1376 0
 2634 0022 2D68     		ldr	r5, [r5]
 2635              	.LVL362:
 2636              	.L259:
1374:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start -= q->len;
 2637              		.loc 1 1374 0
 2638 0024 45B1     		cbz	r5, .L265
1374:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start -= q->len;
 2639              		.loc 1 1374 0 is_stmt 0 discriminator 1
 2640 0026 6989     		ldrh	r1, [r5, #10]
 2641 0028 8E42     		cmp	r6, r1
 2642 002a F8D2     		bcs	.L261
 2643 002c 0024     		movs	r4, #0
 2644 002e 04E0     		b	.L260
 2645              	.LVL363:
 2646              	.L269:
 2647              	.LBB12:
1385:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 2648              		.loc 1 1385 0 is_stmt 1
 2649 0030 601C     		adds	r0, r4, #1
 2650              	.LVL364:
 2651 0032 80B2     		uxth	r0, r0
 2652 0034 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2653              	.LVL365:
 2654              	.L265:
 2655              	.LBE12:
 2656 0038 0024     		movs	r4, #0
 2657              	.LVL366:
 2658              	.L260:
1380:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 2659              		.loc 1 1380 0 discriminator 1
 2660 003a BC42     		cmp	r4, r7
 2661 003c 0BD2     		bcs	.L268
 2662              	.LBB13:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 77


1382:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u8_t b = ((const u8_t*)s2)[i];
 2663              		.loc 1 1382 0
 2664 003e 3119     		adds	r1, r6, r4
 2665 0040 89B2     		uxth	r1, r1
 2666 0042 2846     		mov	r0, r5
 2667 0044 FFF7FEFF 		bl	pbuf_get_at
 2668              	.LVL367:
1383:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (a != b) {
 2669              		.loc 1 1383 0
 2670 0048 18F80430 		ldrb	r3, [r8, r4]	@ zero_extendqisi2
 2671              	.LVL368:
1384:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return i+1;
 2672              		.loc 1 1384 0
 2673 004c 9842     		cmp	r0, r3
 2674 004e EFD1     		bne	.L269
 2675              	.LBE13:
1380:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 2676              		.loc 1 1380 0 discriminator 2
 2677 0050 0134     		adds	r4, r4, #1
 2678              	.LVL369:
 2679 0052 A4B2     		uxth	r4, r4
 2680              	.LVL370:
 2681 0054 F1E7     		b	.L260
 2682              	.LVL371:
 2683              	.L268:
1388:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2684              		.loc 1 1388 0
 2685 0056 0020     		movs	r0, #0
 2686 0058 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2687              		.cfi_endproc
 2688              	.LFE182:
 2690              		.section	.text.pbuf_memfind,"ax",%progbits
 2691              		.align	1
 2692              		.global	pbuf_memfind
 2693              		.syntax unified
 2694              		.thumb
 2695              		.thumb_func
 2696              		.fpu fpv5-sp-d16
 2698              	pbuf_memfind:
 2699              	.LFB183:
1390:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1391:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1392:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1393:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Find occurrence of mem (with length mem_len) in pbuf p, starting at offset
1394:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * start_offset.
1395:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1396:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to search, maximum length is 0xFFFE since 0xFFFF is used as
1397:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        return value 'not found'
1398:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param mem search for the contents of this buffer
1399:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param mem_len length of 'mem'
1400:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param start_offset offset into p at which to start searching
1401:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return 0xFFFF if substr was not found in p or the index where it was found
1402:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1403:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1404:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_memfind(const struct pbuf* p, const void* mem, u16_t mem_len, u16_t start_offset)
1405:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2700              		.loc 1 1405 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 78


 2701              		.cfi_startproc
 2702              		@ args = 0, pretend = 0, frame = 0
 2703              		@ frame_needed = 0, uses_anonymous_args = 0
 2704              	.LVL372:
 2705 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2706              	.LCFI33:
 2707              		.cfi_def_cfa_offset 24
 2708              		.cfi_offset 4, -24
 2709              		.cfi_offset 5, -20
 2710              		.cfi_offset 6, -16
 2711              		.cfi_offset 7, -12
 2712              		.cfi_offset 8, -8
 2713              		.cfi_offset 14, -4
 2714 0004 0746     		mov	r7, r0
 2715 0006 8846     		mov	r8, r1
 2716 0008 1646     		mov	r6, r2
 2717 000a 1C46     		mov	r4, r3
1406:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t i;
1407:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t max = p->tot_len - mem_len;
 2718              		.loc 1 1407 0
 2719 000c 0389     		ldrh	r3, [r0, #8]
 2720              	.LVL373:
 2721 000e 9D1A     		subs	r5, r3, r2
 2722 0010 ADB2     		uxth	r5, r5
 2723              	.LVL374:
1408:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p->tot_len >= mem_len + start_offset) {
 2724              		.loc 1 1408 0
 2725 0012 2244     		add	r2, r2, r4
 2726              	.LVL375:
 2727 0014 9342     		cmp	r3, r2
 2728 0016 03DA     		bge	.L271
1409:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     for (i = start_offset; i <= max; i++) {
1410:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       u16_t plus = pbuf_memcmp(p, i, mem, mem_len);
1411:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (plus == 0) {
1412:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return i;
1413:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1414:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1415:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1416:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0xFFFF;
 2729              		.loc 1 1416 0
 2730 0018 4FF6FF70 		movw	r0, #65535
 2731              	.LVL376:
 2732 001c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2733              	.LVL377:
 2734              	.L271:
1409:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     for (i = start_offset; i <= max; i++) {
 2735              		.loc 1 1409 0 discriminator 1
 2736 0020 AC42     		cmp	r4, r5
 2737 0022 09D8     		bhi	.L276
 2738              	.LBB14:
1410:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (plus == 0) {
 2739              		.loc 1 1410 0
 2740 0024 3346     		mov	r3, r6
 2741 0026 4246     		mov	r2, r8
 2742 0028 2146     		mov	r1, r4
 2743 002a 3846     		mov	r0, r7
 2744 002c FFF7FEFF 		bl	pbuf_memcmp
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 79


 2745              	.LVL378:
1411:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return i;
 2746              		.loc 1 1411 0
 2747 0030 30B1     		cbz	r0, .L274
 2748              	.LBE14:
1409:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     for (i = start_offset; i <= max; i++) {
 2749              		.loc 1 1409 0 discriminator 2
 2750 0032 0134     		adds	r4, r4, #1
 2751              	.LVL379:
 2752 0034 A4B2     		uxth	r4, r4
 2753              	.LVL380:
 2754 0036 F3E7     		b	.L271
 2755              	.LVL381:
 2756              	.L276:
 2757              		.loc 1 1416 0
 2758 0038 4FF6FF70 		movw	r0, #65535
 2759 003c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2760              	.LVL382:
 2761              	.L274:
 2762              	.LBB15:
1412:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 2763              		.loc 1 1412 0
 2764 0040 2046     		mov	r0, r4
 2765              	.LVL383:
 2766              	.LBE15:
1417:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2767              		.loc 1 1417 0
 2768 0042 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2769              		.cfi_endproc
 2770              	.LFE183:
 2772              		.section	.text.pbuf_strstr,"ax",%progbits
 2773              		.align	1
 2774              		.global	pbuf_strstr
 2775              		.syntax unified
 2776              		.thumb
 2777              		.thumb_func
 2778              		.fpu fpv5-sp-d16
 2780              	pbuf_strstr:
 2781              	.LFB184:
1418:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1419:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1420:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Find occurrence of substr with length substr_len in pbuf p, start at offset
1421:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * start_offset
1422:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARNING: in contrast to strstr(), this one does not stop at the first \0 in
1423:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the pbuf/source string!
1424:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1425:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to search, maximum length is 0xFFFE since 0xFFFF is used as
1426:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        return value 'not found'
1427:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param substr string to search for in p, maximum length is 0xFFFE
1428:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return 0xFFFF if substr was not found in p or the index where it was found
1429:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1430:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1431:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_strstr(const struct pbuf* p, const char* substr)
1432:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2782              		.loc 1 1432 0
 2783              		.cfi_startproc
 2784              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 80


 2785              		@ frame_needed = 0, uses_anonymous_args = 0
 2786              	.LVL384:
1433:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   size_t substr_len;
1434:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((substr == NULL) || (substr[0] == 0) || (p->tot_len == 0xFFFF)) {
 2787              		.loc 1 1434 0
 2788 0000 E9B1     		cbz	r1, .L279
1432:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   size_t substr_len;
 2789              		.loc 1 1432 0 discriminator 1
 2790 0002 38B5     		push	{r3, r4, r5, lr}
 2791              	.LCFI34:
 2792              		.cfi_def_cfa_offset 16
 2793              		.cfi_offset 3, -16
 2794              		.cfi_offset 4, -12
 2795              		.cfi_offset 5, -8
 2796              		.cfi_offset 14, -4
 2797 0004 0C46     		mov	r4, r1
 2798              		.loc 1 1434 0 discriminator 1
 2799 0006 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 2800 0008 12B9     		cbnz	r2, .L287
1435:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xFFFF;
 2801              		.loc 1 1435 0
 2802 000a 4FF6FF70 		movw	r0, #65535
 2803              	.LVL385:
 2804 000e 38BD     		pop	{r3, r4, r5, pc}
 2805              	.LVL386:
 2806              	.L287:
1434:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xFFFF;
 2807              		.loc 1 1434 0 discriminator 2
 2808 0010 0189     		ldrh	r1, [r0, #8]
 2809              	.LVL387:
 2810 0012 4FF6FF72 		movw	r2, #65535
 2811 0016 9142     		cmp	r1, r2
 2812 0018 14D0     		beq	.L281
 2813 001a 0546     		mov	r5, r0
1436:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1437:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   substr_len = strlen(substr);
 2814              		.loc 1 1437 0
 2815 001c 2046     		mov	r0, r4
 2816              	.LVL388:
 2817 001e FFF7FEFF 		bl	strlen
 2818              	.LVL389:
1438:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (substr_len >= 0xFFFF) {
 2819              		.loc 1 1438 0
 2820 0022 4FF6FE73 		movw	r3, #65534
 2821 0026 9842     		cmp	r0, r3
 2822 0028 02D9     		bls	.L288
1439:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xFFFF;
 2823              		.loc 1 1439 0
 2824 002a 4FF6FF70 		movw	r0, #65535
 2825              	.LVL390:
1440:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1441:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return pbuf_memfind(p, substr, (u16_t)substr_len, 0);
1442:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2826              		.loc 1 1442 0
 2827 002e 38BD     		pop	{r3, r4, r5, pc}
 2828              	.LVL391:
 2829              	.L288:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 81


1441:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2830              		.loc 1 1441 0
 2831 0030 0023     		movs	r3, #0
 2832 0032 82B2     		uxth	r2, r0
 2833 0034 2146     		mov	r1, r4
 2834 0036 2846     		mov	r0, r5
 2835              	.LVL392:
 2836 0038 FFF7FEFF 		bl	pbuf_memfind
 2837              	.LVL393:
 2838 003c 38BD     		pop	{r3, r4, r5, pc}
 2839              	.LVL394:
 2840              	.L279:
 2841              	.LCFI35:
 2842              		.cfi_def_cfa_offset 0
 2843              		.cfi_restore 3
 2844              		.cfi_restore 4
 2845              		.cfi_restore 5
 2846              		.cfi_restore 14
1435:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2847              		.loc 1 1435 0
 2848 003e 4FF6FF70 		movw	r0, #65535
 2849              	.LVL395:
 2850 0042 7047     		bx	lr
 2851              	.LVL396:
 2852              	.L281:
 2853              	.LCFI36:
 2854              		.cfi_def_cfa_offset 16
 2855              		.cfi_offset 3, -16
 2856              		.cfi_offset 4, -12
 2857              		.cfi_offset 5, -8
 2858              		.cfi_offset 14, -4
 2859 0044 4FF6FF70 		movw	r0, #65535
 2860              	.LVL397:
 2861 0048 38BD     		pop	{r3, r4, r5, pc}
 2862              		.cfi_endproc
 2863              	.LFE184:
 2865              		.comm	pbuf_free_ooseq_pending,1,1
 2866              		.section	.rodata.pbuf_alloc.str1.4,"aMS",%progbits,1
 2867              		.align	2
 2868              	.LC9:
 2869 0000 70627566 		.ascii	"pbuf_alloc: bad pbuf layer\000"
 2869      5F616C6C 
 2869      6F633A20 
 2869      62616420 
 2869      70627566 
 2870 001b 00       		.space	1
 2871              	.LC10:
 2872 001c 63686563 		.ascii	"check p->payload + p->len does not overflow pbuf\000"
 2872      6B20702D 
 2872      3E706179 
 2872      6C6F6164 
 2872      202B2070 
 2873 004d 000000   		.space	3
 2874              	.LC11:
 2875 0050 50425546 		.ascii	"PBUF_POOL_BUFSIZE must be bigger than MEM_ALIGNMENT"
 2875      5F504F4F 
 2875      4C5F4255 
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 82


 2875      4653495A 
 2875      45206D75 
 2876 0083 00       		.ascii	"\000"
 2877              	.LC12:
 2878 0084 72656D5F 		.ascii	"rem_len < max_u16_t\000"
 2878      6C656E20 
 2878      3C206D61 
 2878      785F7531 
 2878      365F7400 
 2879              	.LC13:
 2880 0098 70627566 		.ascii	"pbuf_alloc: pbuf q->payload properly aligned\000"
 2880      5F616C6C 
 2880      6F633A20 
 2880      70627566 
 2880      20712D3E 
 2881 00c5 000000   		.space	3
 2882              	.LC14:
 2883 00c8 70627566 		.ascii	"pbuf_alloc: erroneous type\000"
 2883      5F616C6C 
 2883      6F633A20 
 2883      6572726F 
 2883      6E656F75 
 2884              		.section	.rodata.pbuf_alloced_custom.str1.4,"aMS",%progbits,1
 2885              		.align	2
 2886              	.LC5:
 2887 0000 70627566 		.ascii	"pbuf_alloced_custom: bad pbuf layer\000"
 2887      5F616C6C 
 2887      6F636564 
 2887      5F637573 
 2887      746F6D3A 
 2888              		.section	.rodata.pbuf_cat.str1.4,"aMS",%progbits,1
 2889              		.align	2
 2890              	.LC21:
 2891 0000 28682021 		.ascii	"(h != NULL) && (t != NULL) (programmer violates API"
 2891      3D204E55 
 2891      4C4C2920 
 2891      26262028 
 2891      7420213D 
 2892 0033 2900     		.ascii	")\000"
 2893 0035 000000   		.space	3
 2894              	.LC22:
 2895 0038 702D3E74 		.ascii	"p->tot_len == p->len (of last pbuf in chain)\000"
 2895      6F745F6C 
 2895      656E203D 
 2895      3D20702D 
 2895      3E6C656E 
 2896 0065 000000   		.space	3
 2897              	.LC23:
 2898 0068 702D3E6E 		.ascii	"p->next == NULL\000"
 2898      65787420 
 2898      3D3D204E 
 2898      554C4C00 
 2899              		.section	.rodata.pbuf_coalesce.str1.4,"aMS",%progbits,1
 2900              		.align	2
 2901              	.LC38:
 2902 0000 70627566 		.ascii	"pbuf_copy failed\000"
 2902      5F636F70 
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 83


 2902      79206661 
 2902      696C6564 
 2902      00
 2903              		.section	.rodata.pbuf_copy.str1.4,"aMS",%progbits,1
 2904              		.align	2
 2905              	.LC26:
 2906 0000 70627566 		.ascii	"pbuf_copy: target not big enough to hold source\000"
 2906      5F636F70 
 2906      793A2074 
 2906      61726765 
 2906      74206E6F 
 2907              	.LC27:
 2908 0030 6F666673 		.ascii	"offset_to <= p_to->len\000"
 2908      65745F74 
 2908      6F203C3D 
 2908      20705F74 
 2908      6F2D3E6C 
 2909 0047 00       		.space	1
 2910              	.LC28:
 2911 0048 6F666673 		.ascii	"offset_from <= p_from->len\000"
 2911      65745F66 
 2911      726F6D20 
 2911      3C3D2070 
 2911      5F66726F 
 2912 0063 00       		.space	1
 2913              	.LC29:
 2914 0064 705F746F 		.ascii	"p_to != NULL\000"
 2914      20213D20 
 2914      4E554C4C 
 2914      00
 2915 0071 000000   		.space	3
 2916              	.LC30:
 2917 0074 70627566 		.ascii	"pbuf_copy() does not allow packet queues!\000"
 2917      5F636F70 
 2917      79282920 
 2917      646F6573 
 2917      206E6F74 
 2918              		.section	.rodata.pbuf_copy_partial.str1.4,"aMS",%progbits,1
 2919              		.align	2
 2920              	.LC31:
 2921 0000 70627566 		.ascii	"pbuf_copy_partial: invalid buf\000"
 2921      5F636F70 
 2921      795F7061 
 2921      72746961 
 2921      6C3A2069 
 2922 001f 00       		.space	1
 2923              	.LC32:
 2924 0020 70627566 		.ascii	"pbuf_copy_partial: invalid dataptr\000"
 2924      5F636F70 
 2924      795F7061 
 2924      72746961 
 2924      6C3A2069 
 2925              		.section	.rodata.pbuf_dechain.str1.4,"aMS",%progbits,1
 2926              		.align	2
 2927              	.LC24:
 2928 0000 702D3E74 		.ascii	"p->tot_len == p->len + q->tot_len\000"
 2928      6F745F6C 
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 84


 2928      656E203D 
 2928      3D20702D 
 2928      3E6C656E 
 2929 0022 0000     		.space	2
 2930              	.LC25:
 2931 0024 702D3E74 		.ascii	"p->tot_len == p->len\000"
 2931      6F745F6C 
 2931      656E203D 
 2931      3D20702D 
 2931      3E6C656E 
 2932              		.section	.rodata.pbuf_free.str1.4,"aMS",%progbits,1
 2933              		.align	2
 2934              	.LC6:
 2935 0000 70627566 		.ascii	"pbuf_free: sane type\000"
 2935      5F667265 
 2935      653A2073 
 2935      616E6520 
 2935      74797065 
 2936 0015 000000   		.space	3
 2937              	.LC7:
 2938 0018 70627566 		.ascii	"pbuf_free: p->ref > 0\000"
 2938      5F667265 
 2938      653A2070 
 2938      2D3E7265 
 2938      66203E20 
 2939 002e 0000     		.space	2
 2940              	.LC8:
 2941 0030 70632D3E 		.ascii	"pc->custom_free_function != NULL\000"
 2941      63757374 
 2941      6F6D5F66 
 2941      7265655F 
 2941      66756E63 
 2942              		.section	.rodata.pbuf_header_impl.str1.4,"aMS",%progbits,1
 2943              		.align	2
 2944              	.LC0:
 2945 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/pbuf.c\000"
 2945      6C657761 
 2945      7265732F 
 2945      54686972 
 2945      645F5061 
 2946 002d 000000   		.space	3
 2947              	.LC1:
 2948 0030 7020213D 		.ascii	"p != NULL\000"
 2948      204E554C 
 2948      4C00
 2949 003a 0000     		.space	2
 2950              	.LC2:
 2951 003c 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 2951      7274696F 
 2951      6E202225 
 2951      73222066 
 2951      61696C65 
 2952              	.LC3:
 2953 0064 696E6372 		.ascii	"increment_magnitude <= p->len\000"
 2953      656D656E 
 2953      745F6D61 
 2953      676E6974 
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 85


 2953      75646520 
 2954 0082 0000     		.space	2
 2955              	.LC4:
 2956 0084 62616420 		.ascii	"bad pbuf type\000"
 2956      70627566 
 2956      20747970 
 2956      6500
 2957              		.section	.rodata.pbuf_realloc.str1.4,"aMS",%progbits,1
 2958              		.align	2
 2959              	.LC15:
 2960 0000 70627566 		.ascii	"pbuf_realloc: p != NULL\000"
 2960      5F726561 
 2960      6C6C6F63 
 2960      3A207020 
 2960      213D204E 
 2961              	.LC16:
 2962 0018 70627566 		.ascii	"pbuf_realloc: sane p->type\000"
 2962      5F726561 
 2962      6C6C6F63 
 2962      3A207361 
 2962      6E652070 
 2963 0033 00       		.space	1
 2964              	.LC17:
 2965 0034 67726F77 		.ascii	"grow < max_u16_t\000"
 2965      203C206D 
 2965      61785F75 
 2965      31365F74 
 2965      00
 2966 0045 000000   		.space	3
 2967              	.LC18:
 2968 0048 70627566 		.ascii	"pbuf_realloc: q != NULL\000"
 2968      5F726561 
 2968      6C6C6F63 
 2968      3A207120 
 2968      213D204E 
 2969              	.LC19:
 2970 0060 6D656D5F 		.ascii	"mem_trim returned q == NULL\000"
 2970      7472696D 
 2970      20726574 
 2970      75726E65 
 2970      64207120 
 2971              		.section	.rodata.pbuf_ref.str1.4,"aMS",%progbits,1
 2972              		.align	2
 2973              	.LC20:
 2974 0000 70627566 		.ascii	"pbuf ref overflow\000"
 2974      20726566 
 2974      206F7665 
 2974      72666C6F 
 2974      7700
 2975              		.section	.rodata.pbuf_take.str1.4,"aMS",%progbits,1
 2976              		.align	2
 2977              	.LC33:
 2978 0000 70627566 		.ascii	"pbuf_take: invalid buf\000"
 2978      5F74616B 
 2978      653A2069 
 2978      6E76616C 
 2978      69642062 
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 86


 2979 0017 00       		.space	1
 2980              	.LC34:
 2981 0018 70627566 		.ascii	"pbuf_take: invalid dataptr\000"
 2981      5F74616B 
 2981      653A2069 
 2981      6E76616C 
 2981      69642064 
 2982 0033 00       		.space	1
 2983              	.LC35:
 2984 0034 70627566 		.ascii	"pbuf_take: buf not large enough\000"
 2984      5F74616B 
 2984      653A2062 
 2984      7566206E 
 2984      6F74206C 
 2985              	.LC36:
 2986 0054 70627566 		.ascii	"pbuf_take: invalid pbuf\000"
 2986      5F74616B 
 2986      653A2069 
 2986      6E76616C 
 2986      69642070 
 2987              	.LC37:
 2988 006c 64696420 		.ascii	"did not copy all data\000"
 2988      6E6F7420 
 2988      636F7079 
 2988      20616C6C 
 2988      20646174 
 2989              		.text
 2990              	.Letext0:
 2991              		.file 2 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\machine\\_default_types.h"
 2992              		.file 3 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 2993              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 2994              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 2995              		.file 6 "c:\\gcc_toolchain\\6_2017-q1-update\\lib\\gcc\\arm-none-eabi\\6.3.1\\include\\stddef.h"
 2996              		.file 7 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\lock.h"
 2997              		.file 8 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_types.h"
 2998              		.file 9 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\reent.h"
 2999              		.file 10 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\stdlib.h"
 3000              		.file 11 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 3001              		.file 12 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\time.h"
 3002              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 3003              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/mem.h"
 3004              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 3005              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 3006              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 3007              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 3008              		.file 19 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 3009              		.file 20 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 3010              		.file 21 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 3011              		.file 22 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 3012              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 3013              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 3014              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 3015              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 3016              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 3017              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 3018              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 3019              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 87


 3020              		.file 31 "Middlewares/Third_Party/LwIP/src/include/lwip/timeouts.h"
 3021              		.file 32 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 3022              		.file 33 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\string.h"
 3023              		.file 34 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\stdio.h"
 3024              		.file 35 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 88


DEFINED SYMBOLS
                            *ABS*:00000000 pbuf.c
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:18     .text.pbuf_skip_const:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:24     .text.pbuf_skip_const:00000000 pbuf_skip_const
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:64     .text.pbuf_header_impl:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:70     .text.pbuf_header_impl:00000000 pbuf_header_impl
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:242    .text.pbuf_header_impl:000000b8 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:251    .text.pbuf_pool_is_empty:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:257    .text.pbuf_pool_is_empty:00000000 pbuf_pool_is_empty
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:309    .text.pbuf_pool_is_empty:00000038 $d
                            *COM*:00000001 pbuf_free_ooseq_pending
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:384    .text.pbuf_free_ooseq_callback:00000000 pbuf_free_ooseq_callback
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:315    .text.pbuf_free_ooseq:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:321    .text.pbuf_free_ooseq:00000000 pbuf_free_ooseq
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:372    .text.pbuf_free_ooseq:0000002c $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:378    .text.pbuf_free_ooseq_callback:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:404    .text.pbuf_alloced_custom:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:411    .text.pbuf_alloced_custom:00000000 pbuf_alloced_custom
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:431    .text.pbuf_alloced_custom:0000000c $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:533    .text.pbuf_alloced_custom:0000006c $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:540    .text.pbuf_header:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:547    .text.pbuf_header:00000000 pbuf_header
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:569    .text.pbuf_header_force:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:576    .text.pbuf_header_force:00000000 pbuf_header_force
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:598    .text.pbuf_free:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:605    .text.pbuf_free:00000000 pbuf_free
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:788    .text.pbuf_free:000000c0 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:799    .text.pbuf_alloc:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:806    .text.pbuf_alloc:00000000 pbuf_alloc
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:831    .text.pbuf_alloc:00000010 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:885    .text.pbuf_alloc:00000044 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:889    .text.pbuf_alloc:00000048 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1156   .text.pbuf_alloc:000001b4 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1168   .text.pbuf_realloc:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1175   .text.pbuf_realloc:00000000 pbuf_realloc
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1331   .text.pbuf_realloc:000000c8 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1342   .text.pbuf_clen:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1349   .text.pbuf_clen:00000000 pbuf_clen
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1383   .text.pbuf_ref:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1390   .text.pbuf_ref:00000000 pbuf_ref
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1442   .text.pbuf_ref:0000002c $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1449   .text.pbuf_cat:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1456   .text.pbuf_cat:00000000 pbuf_cat
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1540   .text.pbuf_cat:00000064 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1549   .text.pbuf_chain:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1556   .text.pbuf_chain:00000000 pbuf_chain
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1581   .text.pbuf_dechain:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1588   .text.pbuf_dechain:00000000 pbuf_dechain
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1677   .text.pbuf_dechain:00000060 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1685   .text.pbuf_copy:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1692   .text.pbuf_copy:00000000 pbuf_copy
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1906   .text.pbuf_copy:00000124 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1917   .text.pbuf_copy_partial:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:1924   .text.pbuf_copy_partial:00000000 pbuf_copy_partial
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2043   .text.pbuf_copy_partial:0000007c $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2051   .text.pbuf_skip:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2058   .text.pbuf_skip:00000000 pbuf_skip
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s 			page 89


C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2079   .text.pbuf_take:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2086   .text.pbuf_take:00000000 pbuf_take
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2231   .text.pbuf_take:000000b0 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2242   .text.pbuf_take_at:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2249   .text.pbuf_take_at:00000000 pbuf_take_at
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2350   .text.pbuf_coalesce:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2357   .text.pbuf_coalesce:00000000 pbuf_coalesce
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2427   .text.pbuf_coalesce:00000044 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2434   .text.pbuf_try_get_at:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2441   .text.pbuf_try_get_at:00000000 pbuf_try_get_at
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2495   .text.pbuf_get_at:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2502   .text.pbuf_get_at:00000000 pbuf_get_at
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2535   .text.pbuf_put_at:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2542   .text.pbuf_put_at:00000000 pbuf_put_at
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2584   .text.pbuf_memcmp:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2591   .text.pbuf_memcmp:00000000 pbuf_memcmp
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2691   .text.pbuf_memfind:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2698   .text.pbuf_memfind:00000000 pbuf_memfind
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2773   .text.pbuf_strstr:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2780   .text.pbuf_strstr:00000000 pbuf_strstr
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2867   .rodata.pbuf_alloc.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2885   .rodata.pbuf_alloced_custom.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2889   .rodata.pbuf_cat.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2900   .rodata.pbuf_coalesce.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2904   .rodata.pbuf_copy.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2919   .rodata.pbuf_copy_partial.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2926   .rodata.pbuf_dechain.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2933   .rodata.pbuf_free.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2943   .rodata.pbuf_header_impl.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2958   .rodata.pbuf_realloc.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2972   .rodata.pbuf_ref.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:2976   .rodata.pbuf_take.str1.4:00000000 $d
                     .debug_frame:00000010 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:436    .text.pbuf_alloced_custom:00000011 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:436    .text.pbuf_alloced_custom:00000012 $t
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:836    .text.pbuf_alloc:00000015 $d
C:\Users\Student\AppData\Local\Temp\ccjO2vkh.s:836    .text.pbuf_alloc:00000016 $t

UNDEFINED SYMBOLS
printf
sys_arch_protect
sys_arch_unprotect
tcpip_callback_with_block
tcp_segs_free
tcp_active_pcbs
mem_free
memp_free
memp_malloc
mem_malloc
mem_trim
memcpy
strlen
