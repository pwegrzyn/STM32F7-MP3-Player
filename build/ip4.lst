ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ip4.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.ip4_route,"ax",%progbits
  18              		.align	1
  19              		.global	ip4_route
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-sp-d16
  25              	ip4_route:
  26              	.LFB154:
  27              		.file 1 "Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c"
   1:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * This is the IPv4 layer implementation for incoming and outgoing IP traffic.
   4:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @see ip_frag.c
   6:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
   8:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
   9:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /*
  10:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  11:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * All rights reserved.
  12:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  13:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Redistribution and use in source and binary forms, with or without modification,
  14:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * are permitted provided that the following conditions are met:
  15:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  16:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    this list of conditions and the following disclaimer.
  18:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    this list of conditions and the following disclaimer in the documentation
  20:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    and/or other materials provided with the distribution.
  21:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * 3. The name of the author may not be used to endorse or promote products
  22:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    derived from this software without specific prior written permission.
  23:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  24:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  25:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  26:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  27:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  28:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  29:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  30:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  31:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 2


  32:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  33:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * OF SUCH DAMAGE.
  34:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  35:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * This file is part of the lwIP TCP/IP stack.
  36:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  37:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Author: Adam Dunkels <adam@sics.se>
  38:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  39:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
  40:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  41:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/opt.h"
  42:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  43:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IPV4
  44:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  45:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/ip.h"
  46:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/def.h"
  47:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/mem.h"
  48:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/ip4_frag.h"
  49:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/inet_chksum.h"
  50:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/netif.h"
  51:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/icmp.h"
  52:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/igmp.h"
  53:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/raw.h"
  54:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/udp.h"
  55:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/priv/tcp_priv.h"
  56:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/autoip.h"
  57:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/stats.h"
  58:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/prot/dhcp.h"
  59:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  60:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include <string.h>
  61:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  62:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_FILENAME
  63:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include LWIP_HOOK_FILENAME
  64:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
  65:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  66:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** Set this to 0 in the rare case of wanting to call an extra function to
  67:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * generate the IP checksum (in contrast to calculating it on-the-fly). */
  68:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifndef LWIP_INLINE_IP_CHKSUM
  69:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_CHECKSUM_CTRL_PER_NETIF
  70:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define LWIP_INLINE_IP_CHKSUM   0
  71:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_CHECKSUM_CTRL_PER_NETIF */
  72:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define LWIP_INLINE_IP_CHKSUM   1
  73:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_CHECKSUM_CTRL_PER_NETIF */
  74:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
  75:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  76:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_INLINE_IP_CHKSUM && CHECKSUM_GEN_IP
  77:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define CHECKSUM_GEN_IP_INLINE  1
  78:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else
  79:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define CHECKSUM_GEN_IP_INLINE  0
  80:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
  81:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  82:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_DHCP || defined(LWIP_IP_ACCEPT_UDP_PORT)
  83:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSING 1
  84:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  85:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** Some defines for DHCP to let link-layer-addressed packets through while the
  86:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * netif is down.
  87:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * To use this in your own application/protocol, define LWIP_IP_ACCEPT_UDP_PORT(port)
  88:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * to return 1 if the port is accepted and 0 if the port is not accepted.
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 3


  89:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
  90:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT)
  91:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /* accept DHCP client port and custom port */
  92:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(port) (((port) == PP_NTOHS(DHCP_CLIENT_PORT)) \
  93:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****          || (LWIP_IP_ACCEPT_UDP_PORT(port)))
  94:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #elif defined(LWIP_IP_ACCEPT_UDP_PORT) /* LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT) */
  95:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /* accept custom port only */
  96:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(port) (LWIP_IP_ACCEPT_UDP_PORT(port))
  97:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT) */
  98:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /* accept DHCP client port only */
  99:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(port) ((port) == PP_NTOHS(DHCP_CLIENT_PORT))
 100:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT) */
 101:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 102:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_DHCP */
 103:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSING 0
 104:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_DHCP */
 105:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 106:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** The IP header ID of the next outgoing IP packet */
 107:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static u16_t ip_id;
 108:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 109:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_MULTICAST_TX_OPTIONS
 110:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** The default netif used for multicast */
 111:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static struct netif* ip4_default_multicast_netif;
 112:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 113:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 114:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @ingroup ip4
 115:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Set a default netif for IPv4 multicast. */
 116:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** void
 117:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_set_default_multicast_netif(struct netif* default_multicast_netif)
 118:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 119:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_default_multicast_netif = default_multicast_netif;
 120:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 121:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 122:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 123:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_ROUTE_SRC
 124:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 125:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Source based IPv4 routing must be fully implemented in
 126:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * LWIP_HOOK_IP4_ROUTE_SRC(). This function only provides he parameters.
 127:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 128:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** struct netif *
 129:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_route_src(const ip4_addr_t *dest, const ip4_addr_t *src)
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 131:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (src != NULL) {
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* when src==NULL, the hook is called from ip4_route(dest) */
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     struct netif *netif = LWIP_HOOK_IP4_ROUTE_SRC(dest, src);
 134:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (netif != NULL) {
 135:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return netif;
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 137:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 138:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_route(dest);
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_HOOK_IP4_ROUTE_SRC */
 141:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 142:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 143:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Finds the appropriate network interface for a given IP address. It
 144:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * searches the list of network interfaces linearly. A match is found
 145:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * if the masked IP address of the network interface equals the masked
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 4


 146:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IP address given to the function.
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 148:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param dest the destination IP address for which to find the route
 149:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return the netif on which to send to reach dest
 150:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 151:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** struct netif *
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_route(const ip4_addr_t *dest)
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
  28              		.loc 1 153 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
 154:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 155:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 156:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_MULTICAST_TX_OPTIONS
 157:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Use administratively selected interface for multicast by default */
 158:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_ismulticast(dest) && ip4_default_multicast_netif) {
 159:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ip4_default_multicast_netif;
 160:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 161:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 162:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 163:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* iterate through netifs */
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   for (netif = netif_list; netif != NULL; netif = netif->next) {
  34              		.loc 1 164 0
  35 0000 274B     		ldr	r3, .L27
  36 0002 1B68     		ldr	r3, [r3]
  37              	.LVL1:
  38 0004 2DE0     		b	.L10
  39              	.L3:
  40              	.LCFI0:
  41              		.cfi_def_cfa_offset 8
  42              		.cfi_offset 4, -8
  43              		.cfi_offset 5, -4
  44              		.loc 1 164 0 is_stmt 0 discriminator 2
  45 0006 1B68     		ldr	r3, [r3]
  46              	.LVL2:
  47 0008 BBB1     		cbz	r3, .L23
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (netif_is_up(netif) && netif_is_link_up(netif) && !ip4_addr_isany_val(*netif_ip4_addr(netif)
  48              		.loc 1 166 0 is_stmt 1
  49 000a 93F82F20 		ldrb	r2, [r3, #47]	@ zero_extendqisi2
  50 000e 12F0010F 		tst	r2, #1
  51 0012 F8D0     		beq	.L3
  52              		.loc 1 166 0 is_stmt 0 discriminator 1
  53 0014 12F0040F 		tst	r2, #4
  54 0018 F5D0     		beq	.L3
  55              		.loc 1 166 0 discriminator 2
  56 001a 5968     		ldr	r1, [r3, #4]
  57 001c 0029     		cmp	r1, #0
  58 001e F2D0     		beq	.L3
  59              	.L14:
 167:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 168:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (ip4_addr_netcmp(dest, netif_ip4_addr(netif), netif_ip4_netmask(netif))) {
  60              		.loc 1 168 0 is_stmt 1
  61 0020 0468     		ldr	r4, [r0]
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 5


  62 0022 9D68     		ldr	r5, [r3, #8]
  63 0024 6140     		eors	r1, r1, r4
  64 0026 2942     		tst	r1, r5
  65 0028 16D0     		beq	.L6
 169:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* return netif on which to forward IP packet */
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return netif;
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* gateway matches on a non broadcast interface? (i.e. peer in a point to point interface) */
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (((netif->flags & NETIF_FLAG_BROADCAST) == 0) && ip4_addr_cmp(dest, netif_ip4_gw(netif))) 
  66              		.loc 1 173 0
  67 002a 12F0020F 		tst	r2, #2
  68 002e EAD1     		bne	.L3
  69              		.loc 1 173 0 is_stmt 0 discriminator 1
  70 0030 DA68     		ldr	r2, [r3, #12]
  71 0032 9442     		cmp	r4, r2
  72 0034 E7D1     		bne	.L3
 174:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* return netif on which to forward IP packet */
 175:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return netif;
  73              		.loc 1 175 0 is_stmt 1
  74 0036 1846     		mov	r0, r3
  75              	.LVL3:
  76 0038 0AE0     		b	.L1
  77              	.LVL4:
  78              	.L23:
 176:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 177:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 180:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF
 181:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* loopif is disabled, looopback traffic is passed through any netif */
 182:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_isloopback(dest)) {
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* don't check for link on loopback traffic */
 184:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (netif_default != NULL && netif_is_up(netif_default)) {
 185:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return netif_default;
 186:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* default netif is not up, just use any netif for loopback traffic */
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     for (netif = netif_list; netif != NULL; netif = netif->next) {
 189:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (netif_is_up(netif)) {
 190:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return netif;
 191:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 192:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 193:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return NULL;
 194:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 195:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF */
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_ROUTE_SRC
 198:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif = LWIP_HOOK_IP4_ROUTE_SRC(dest, NULL);
 199:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif != NULL) {
 200:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return netif;
 201:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #elif defined(LWIP_HOOK_IP4_ROUTE)
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif = LWIP_HOOK_IP4_ROUTE(dest);
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif != NULL) {
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return netif;
 206:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 207:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
 208:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 6


 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((netif_default == NULL) || !netif_is_up(netif_default) || !netif_is_link_up(netif_default) ||
  79              		.loc 1 209 0
  80 003a 1A4A     		ldr	r2, .L27+4
  81 003c 1068     		ldr	r0, [r2]
  82              	.LVL5:
  83 003e 38B1     		cbz	r0, .L1
  84              		.loc 1 209 0 is_stmt 0 discriminator 1
  85 0040 90F82F20 		ldrb	r2, [r0, #47]	@ zero_extendqisi2
  86 0044 02F00502 		and	r2, r2, #5
  87 0048 052A     		cmp	r2, #5
  88 004a 07D1     		bne	.L8
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
  89              		.loc 1 210 0 is_stmt 1 discriminator 2
  90 004c 4268     		ldr	r2, [r0, #4]
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
  91              		.loc 1 209 0 discriminator 2
  92 004e 0AB1     		cbz	r2, .L24
  93              	.L1:
 211:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* No matching netif found and default netif is not usable.
 212:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        If this is not good enough for you, use LWIP_HOOK_IP4_ROUTE() */
 213:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_route: No route to %"U16_F".%"U16_F".%"U16
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr1_16(dest), ip4_addr2_16(dest), ip4_addr3_16(dest), ip4_addr4_16(dest)));
 215:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.rterr);
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipoutnoroutes);
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return NULL;
 218:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 219:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 220:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return netif_default;
 221:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
  94              		.loc 1 221 0
  95 0050 30BC     		pop	{r4, r5}
  96              	.LCFI1:
  97              		.cfi_remember_state
  98              		.cfi_restore 5
  99              		.cfi_restore 4
 100              		.cfi_def_cfa_offset 0
 101 0052 7047     		bx	lr
 102              	.L24:
 103              	.LCFI2:
 104              		.cfi_restore_state
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 105              		.loc 1 217 0
 106 0054 1846     		mov	r0, r3
 107 0056 FBE7     		b	.L1
 108              	.LVL6:
 109              	.L6:
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 110              		.loc 1 170 0
 111 0058 1846     		mov	r0, r3
 112              	.LVL7:
 113 005a F9E7     		b	.L1
 114              	.L8:
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 115              		.loc 1 217 0
 116 005c 1846     		mov	r0, r3
 117 005e F7E7     		b	.L1
 118              	.LVL8:
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 7


 119              	.L12:
 120              	.LCFI3:
 121              		.cfi_def_cfa_offset 0
 122              		.cfi_restore 4
 123              		.cfi_restore 5
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
 124              		.loc 1 164 0
 125 0060 1B68     		ldr	r3, [r3]
 126              	.LVL9:
 127              	.L10:
 128 0062 63B1     		cbz	r3, .L25
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 129              		.loc 1 166 0
 130 0064 93F82F20 		ldrb	r2, [r3, #47]	@ zero_extendqisi2
 131 0068 12F0010F 		tst	r2, #1
 132 006c F8D0     		beq	.L12
 133 006e 12F0040F 		tst	r2, #4
 134 0072 F5D0     		beq	.L12
 135 0074 5968     		ldr	r1, [r3, #4]
 136 0076 0029     		cmp	r1, #0
 137 0078 F2D0     		beq	.L12
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 138              		.loc 1 153 0
 139 007a 30B4     		push	{r4, r5}
 140              	.LCFI4:
 141              		.cfi_def_cfa_offset 8
 142              		.cfi_offset 4, -8
 143              		.cfi_offset 5, -4
 144 007c D0E7     		b	.L14
 145              	.L25:
 146              	.LCFI5:
 147              		.cfi_def_cfa_offset 0
 148              		.cfi_restore 4
 149              		.cfi_restore 5
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
 150              		.loc 1 209 0
 151 007e 094A     		ldr	r2, .L27+4
 152 0080 1068     		ldr	r0, [r2]
 153              	.LVL10:
 154 0082 38B1     		cbz	r0, .L17
 155 0084 90F82F20 		ldrb	r2, [r0, #47]	@ zero_extendqisi2
 156 0088 02F00502 		and	r2, r2, #5
 157 008c 052A     		cmp	r2, #5
 158 008e 04D1     		bne	.L19
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* No matching netif found and default netif is not usable.
 159              		.loc 1 210 0
 160 0090 4268     		ldr	r2, [r0, #4]
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
 161              		.loc 1 209 0
 162 0092 02B1     		cbz	r2, .L26
 163              	.L17:
 164              		.loc 1 221 0
 165 0094 7047     		bx	lr
 166              	.L26:
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 167              		.loc 1 217 0
 168 0096 1846     		mov	r0, r3
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 8


 169 0098 7047     		bx	lr
 170              	.L19:
 171 009a 1846     		mov	r0, r3
 172 009c 7047     		bx	lr
 173              	.L28:
 174 009e 00BF     		.align	2
 175              	.L27:
 176 00a0 00000000 		.word	netif_list
 177 00a4 00000000 		.word	netif_default
 178              		.cfi_endproc
 179              	.LFE154:
 181              		.section	.text.ip4_input,"ax",%progbits
 182              		.align	1
 183              		.global	ip4_input
 184              		.syntax unified
 185              		.thumb
 186              		.thumb_func
 187              		.fpu fpv5-sp-d16
 189              	ip4_input:
 190              	.LFB155:
 222:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 223:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FORWARD
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 225:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Determine whether an IP address is in a reserved set of addresses
 226:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * that may not be forwarded, or whether datagrams to that destination
 227:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * may be forwarded.
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to forward
 229:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return 1: can forward 0: discard
 230:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 231:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static int
 232:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_canforward(struct pbuf *p)
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 234:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u32_t addr = lwip_htonl(ip4_addr_get_u32(ip4_current_dest_addr()));
 235:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 236:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (p->flags & PBUF_FLAG_LLBCAST) {
 237:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* don't route link-layer broadcasts */
 238:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return 0;
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((p->flags & PBUF_FLAG_LLMCAST) && !IP_MULTICAST(addr)) {
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* don't route link-layer multicasts unless the destination address is an IP
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        multicast address */
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return 0;
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IP_EXPERIMENTAL(addr)) {
 246:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return 0;
 247:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IP_CLASSA(addr)) {
 249:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     u32_t net = addr & IP_CLASSA_NET;
 250:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((net == 0) || (net == ((u32_t)IP_LOOPBACKNET << IP_CLASSA_NSHIFT))) {
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* don't route loopback packets */
 252:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return 0;
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 254:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 255:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return 1;
 256:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 258:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 9


 259:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Forwards an IP packet. It finds an appropriate route for the
 260:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * packet, decrements the TTL value of the packet, adjusts the
 261:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * checksum and outputs the packet on the appropriate interface.
 262:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 263:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to forward (p->payload points to IP header)
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param iphdr the IP header of the input packet
 265:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param inp the netif on which this packet was received
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 267:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static void
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_forward(struct pbuf *p, struct ip_hdr *iphdr, struct netif *inp)
 269:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 270:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 271:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 272:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   PERF_START;
 273:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_UNUSED_ARG(inp);
 274:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 275:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (!ip4_canforward(p)) {
 276:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 277:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 278:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* RFC3927 2.7: do not forward link-local addresses */
 280:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_islinklocal(ip4_current_dest_addr())) {
 281:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: not forwarding LLA %"U16_F".%"U16_F".%"U16_F".%"U16_F"\n",
 282:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr1_16(ip4_current_dest_addr()), ip4_addr2_16(ip4_current_dest_addr()),
 283:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr3_16(ip4_current_dest_addr()), ip4_addr4_16(ip4_current_dest_addr())));
 284:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 285:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Find network interface where to forward this IP packet to. */
 288:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif = ip4_route_src(ip4_current_dest_addr(), ip4_current_src_addr());
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == NULL) {
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: no forwarding route for %"U16_F".%"U16_F".%"U16_F".%"U16_F
 291:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr1_16(ip4_current_dest_addr()), ip4_addr2_16(ip4_current_dest_addr()),
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr3_16(ip4_current_dest_addr()), ip4_addr4_16(ip4_current_dest_addr())));
 293:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* @todo: send ICMP_DUR_NET? */
 294:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 295:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 296:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !IP_FORWARD_ALLOW_TX_ON_RX_NETIF
 297:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Do not forward packets onto the same network interface on which
 298:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * they arrived. */
 299:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == inp) {
 300:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: not bouncing packets back on incoming interface.\n"));
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 302:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 303:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FORWARD_ALLOW_TX_ON_RX_NETIF */
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* decrement TTL */
 306:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IPH_TTL_SET(iphdr, IPH_TTL(iphdr) - 1);
 307:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* send ICMP if TTL == 0 */
 308:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IPH_TTL(iphdr) == 0) {
 309:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinhdrerrors);
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 311:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* Don't send ICMP messages in response to ICMP messages */
 312:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (IPH_PROTO(iphdr) != IP_PROTO_ICMP) {
 313:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       icmp_time_exceeded(p, ICMP_TE_TTL);
 314:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 315:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 10


 316:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return;
 317:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 318:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 319:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Incrementally update the IP checksum. */
 320:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IPH_CHKSUM(iphdr) >= PP_HTONS(0xffffU - 0x100)) {
 321:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_CHKSUM_SET(iphdr, IPH_CHKSUM(iphdr) + PP_HTONS(0x100) + 1);
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   } else {
 323:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_CHKSUM_SET(iphdr, IPH_CHKSUM(iphdr) + PP_HTONS(0x100));
 324:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 326:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: forwarding packet to %"U16_F".%"U16_F".%"U16_F".%"U16_F"\n",
 327:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr1_16(ip4_current_dest_addr()), ip4_addr2_16(ip4_current_dest_addr()),
 328:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr3_16(ip4_current_dest_addr()), ip4_addr4_16(ip4_current_dest_addr())));
 329:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 330:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.fw);
 331:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipforwdatagrams);
 332:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.xmit);
 333:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 334:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   PERF_STOP("ip4_forward");
 335:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* don't fragment if interface has mtu set to 0 [loopif] */
 336:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif->mtu && (p->tot_len > netif->mtu)) {
 337:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((IPH_OFFSET(iphdr) & PP_NTOHS(IP_DF)) == 0) {
 338:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FRAG
 339:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_frag(p, netif, ip4_current_dest_addr());
 340:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_FRAG */
 341:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* @todo: send ICMP Destination Unreachable code 13 "Communication administratively prohibite
 342:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FRAG */
 343:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 344:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* send ICMP Destination Unreachable code 4: "Fragmentation Needed and DF Set" */
 346:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       icmp_dest_unreach(p, ICMP_DUR_FRAG);
 347:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 348:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 349:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return;
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 351:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* transmit pbuf on chosen interface */
 352:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif->output(netif, p, ip4_current_dest_addr());
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return;
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** return_noroute:
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipoutnoroutes);
 356:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 357:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FORWARD */
 358:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 359:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * This function is called by the network interface device driver when
 361:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * an IP packet is received. The function does the basic checks of the
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IP header such as packet size being at least larger than the header
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * size etc. If the packet was not destined for us, the packet is
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * forwarded (using ip_forward). The IP checksum is always checked.
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 366:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Finally, the packet is sent to the upper layer protocol input function.
 367:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 368:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the received IP packet (p->payload points to IP header)
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param inp the netif on which this packet was received
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return ERR_OK if the packet was processed (could return ERR_* if it wasn't
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         processed, but currently always returns ERR_OK)
 372:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 11


 373:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_input(struct pbuf *p, struct netif *inp)
 375:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 191              		.loc 1 375 0
 192              		.cfi_startproc
 193              		@ args = 0, pretend = 0, frame = 0
 194              		@ frame_needed = 0, uses_anonymous_args = 0
 195              	.LVL11:
 196 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 197              	.LCFI6:
 198              		.cfi_def_cfa_offset 32
 199              		.cfi_offset 3, -32
 200              		.cfi_offset 4, -28
 201              		.cfi_offset 5, -24
 202              		.cfi_offset 6, -20
 203              		.cfi_offset 7, -16
 204              		.cfi_offset 8, -12
 205              		.cfi_offset 9, -8
 206              		.cfi_offset 14, -4
 207 0004 0546     		mov	r5, r0
 208              	.LVL12:
 376:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct ip_hdr *iphdr;
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 378:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u16_t iphdr_hlen;
 379:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u16_t iphdr_len;
 380:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING || LWIP_IGMP
 381:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   int check_ip_src = 1;
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING || LWIP_IGMP */
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 384:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.recv);
 385:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipinreceives);
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 387:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* identify the IP header */
 388:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr = (struct ip_hdr *)p->payload;
 209              		.loc 1 388 0
 210 0006 4768     		ldr	r7, [r0, #4]
 211              	.LVL13:
 389:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IPH_V(iphdr) != 4) {
 212              		.loc 1 389 0
 213 0008 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 214 000a 1A09     		lsrs	r2, r3, #4
 215 000c 042A     		cmp	r2, #4
 216 000e 04D0     		beq	.L30
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_WARNING, ("IP packet dropped due to bad version number %"
 391:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_debug_print(p);
 392:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 217              		.loc 1 392 0
 218 0010 FFF7FEFF 		bl	pbuf_free
 219              	.LVL14:
 220              	.L31:
 393:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.err);
 394:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 395:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinhdrerrors);
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 397:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 398:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_INPUT
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 12


 400:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (LWIP_HOOK_IP4_INPUT(p, inp)) {
 401:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* the packet has been eaten */
 402:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 404:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
 405:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 406:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain IP header length in number of 32-bit words */
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr_hlen = IPH_HL(iphdr);
 408:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* calculate IP header length in bytes */
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr_hlen *= 4;
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain ip length in bytes */
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr_len = lwip_ntohs(IPH_LEN(iphdr));
 412:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Trim pbuf. This is especially required for packets < 60 bytes. */
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (iphdr_len < p->tot_len) {
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_realloc(p, iphdr_len);
 416:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* header length exceeds first pbuf length, or ip length exceeds total pbuf length? */
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((iphdr_hlen > p->len) || (iphdr_len > p->tot_len) || (iphdr_hlen < IP_HLEN)) {
 420:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 421:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ("ip4_input: short IP header (%"U16_F" bytes) received, IP packet dropped\n", iphdr_hlen));
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 424:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen > p->len) {
 425:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 426:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ("IP header (len %"U16_F") does not fit in first pbuf (len %"U16_F"), IP packet dropped.\n"
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         iphdr_hlen, p->len));
 428:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_len > p->tot_len) {
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 431:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ("IP (len %"U16_F") is longer than pbuf (len %"U16_F"), IP packet dropped.\n",
 432:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         iphdr_len, p->tot_len));
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 434:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* free (drop) packet pbufs */
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 436:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.lenerr);
 437:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 438:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipindiscards);
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 440:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 441:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 442:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* verify checksum */
 443:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_CHECK_IP
 444:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IF__NETIF_CHECKSUM_ENABLED(inp, NETIF_CHECKSUM_CHECK_IP) {
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (inet_chksum(iphdr, iphdr_hlen) != 0) {
 446:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 448:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ("Checksum (0x%"X16_F") failed, IP packet dropped.\n", inet_chksum(iphdr, iphdr_hlen)));
 449:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_debug_print(p);
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       pbuf_free(p);
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.chkerr);
 452:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 453:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinhdrerrors);
 454:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 13


 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 459:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* copy IP addresses to aligned ip_addr_t */
 460:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_addr_copy_from_ip4(ip_data.current_iphdr_dest, iphdr->dest);
 461:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_addr_copy_from_ip4(ip_data.current_iphdr_src, iphdr->src);
 462:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 463:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* match packet against an interface, i.e. is this packet for us? */
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_ismulticast(ip4_current_dest_addr())) {
 465:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 466:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((inp->flags & NETIF_FLAG_IGMP) && (igmp_lookfor_group(inp, ip4_current_dest_addr()))) {
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* IGMP snooping switches need 0.0.0.0 to be allowed as source address (RFC 4541) */
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_t allsystems;
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP4_ADDR(&allsystems, 224, 0, 0, 1);
 470:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (ip4_addr_cmp(ip4_current_dest_addr(), &allsystems) &&
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_isany(ip4_current_src_addr())) {
 472:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         check_ip_src = 0;
 473:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 474:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 475:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 476:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = NULL;
 477:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 478:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_IGMP */
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((netif_is_up(inp)) && (!ip4_addr_isany_val(*netif_ip4_addr(inp)))) {
 480:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 481:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = NULL;
 483:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 484:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP */
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   } else {
 486:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* start trying with inp. if that's not acceptable, start walking the
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        list of configured netifs.
 488:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        'first' is used as a boolean to mark whether we started walking the list */
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     int first = 1;
 490:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     netif = inp;
 491:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     do {
 492:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG, ("ip_input: iphdr->dest 0x%"X32_F" netif->ip_addr 0x%"X32_F" (0x%"X32_F
 493:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_get_u32(&iphdr->dest), ip4_addr_get_u32(netif_ip4_addr(netif)),
 494:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_get_u32(&iphdr->dest) & ip4_addr_get_u32(netif_ip4_netmask(netif)),
 495:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_get_u32(netif_ip4_addr(netif)) & ip4_addr_get_u32(netif_ip4_netmask(netif)),
 496:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_get_u32(&iphdr->dest) & ~ip4_addr_get_u32(netif_ip4_netmask(netif))));
 497:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 498:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* interface is up and configured? */
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if ((netif_is_up(netif)) && (!ip4_addr_isany_val(*netif_ip4_addr(netif)))) {
 500:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* unicast to this interface address? */
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         if (ip4_addr_cmp(ip4_current_dest_addr(), netif_ip4_addr(netif)) ||
 502:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* or broadcast on this interface network address? */
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             ip4_addr_isbroadcast(ip4_current_dest_addr(), netif)
 504:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF
 505:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             || (ip4_addr_get_u32(ip4_current_dest_addr()) == PP_HTONL(IPADDR_LOOPBACK))
 506:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF */
 507:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             ) {
 508:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           LWIP_DEBUGF(IP_DEBUG, ("ip4_input: packet accepted on interface %c%c\n",
 509:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****               netif->name[0], netif->name[1]));
 510:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           /* break out of for loop */
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 512:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         }
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_AUTOIP
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 14


 514:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* connections to link-local addresses must persist after changing
 515:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****            the netif's address (RFC3927 ch. 1.9) */
 516:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         if (autoip_accept_packet(netif, ip4_current_dest_addr())) {
 517:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           LWIP_DEBUGF(IP_DEBUG, ("ip4_input: LLA packet accepted on interface %c%c\n",
 518:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****               netif->name[0], netif->name[1]));
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           /* break out of for loop */
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 521:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         }
 522:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_AUTOIP */
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (first) {
 525:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* Packets sent to the loopback address must not be accepted on an
 527:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****          * interface that does not have the loopback address assigned to it,
 528:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****          * unless a non-loopback interface is used for loopback traffic. */
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         if (ip4_addr_isloopback(ip4_current_dest_addr())) {
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           netif = NULL;
 531:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 532:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         }
 533:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF */
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         first = 0;
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif_list;
 536:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       } else {
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif->next;
 538:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (netif == inp) {
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif->next;
 541:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } while (netif != NULL);
 543:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 544:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 545:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Pass DHCP messages regardless of destination address. DHCP traffic is addressed
 547:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * using link layer addressing (such as Ethernet MAC) so we must not filter on IP.
 548:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * According to RFC 1542 section 3.1.1, referred by RFC 2131).
 549:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    *
 550:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * If you want to accept private broadcast communication while a netif is down,
 551:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * define LWIP_IP_ACCEPT_UDP_PORT(dst_port), e.g.:
 552:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    *
 553:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * #define LWIP_IP_ACCEPT_UDP_PORT(dst_port) ((dst_port) == PP_NTOHS(12345))
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    */
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == NULL) {
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* remote port is DHCP server? */
 557:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (IPH_PROTO(iphdr) == IP_PROTO_UDP) {
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       struct udp_hdr *udphdr = (struct udp_hdr *)((u8_t *)iphdr + iphdr_hlen);
 559:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: UDP packet to DHCP client port %"U16_F"\n
 560:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         lwip_ntohs(udphdr->dest)));
 561:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(udphdr->dest)) {
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: DHCP packet accepted.\n"));
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = inp;
 564:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         check_ip_src = 0;
 565:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 566:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 567:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 568:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING */
 569:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 570:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* broadcast or multicast packet source address? Compliant with RFC 1122: 3.2.1.3 */
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 15


 571:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP || IP_ACCEPT_LINK_LAYER_ADDRESSING
 572:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (check_ip_src
 573:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING
 574:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* DHCP servers need 0.0.0.0 to be allowed as source address (RFC 1.1.2.2: 3.2.1.3/a) */
 575:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       && !ip4_addr_isany_val(*ip4_current_src_addr())
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING */
 577:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****      )
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP || IP_ACCEPT_LINK_LAYER_ADDRESSING */
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   {
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((ip4_addr_isbroadcast(ip4_current_src_addr(), inp)) ||
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 582:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* packet source is not valid */
 583:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_WARNING, ("ip4_input: packet source is
 584:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* free (drop) packet pbufs */
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       pbuf_free(p);
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinaddrerrors);
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindiscards);
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 590:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 591:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 592:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 593:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* packet not for us? */
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == NULL) {
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not for us, route or discard */
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: packet not for us.\n"));
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FORWARD
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* non-broadcast packet? */
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (!ip4_addr_isbroadcast(ip4_current_dest_addr(), inp)) {
 600:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* try to forward IP packet on (other) interfaces */
 601:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_forward(p, iphdr, inp);
 602:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else
 603:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FORWARD */
 604:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     {
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 606:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinaddrerrors);
 607:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindiscards);
 608:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 611:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* packet consists of multiple fragments? */
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((IPH_OFFSET(iphdr) & PP_HTONS(IP_OFFMASK | IP_MF)) != 0) {
 614:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_REASSEMBLY /* packet fragment reassembly code present? */
 615:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("IP packet is a fragment (id=0x%04"X16_F" tot_len=%"U16_F" len=%"U16_F" 
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       lwip_ntohs(IPH_ID(iphdr)), p->tot_len, lwip_ntohs(IPH_LEN(iphdr)), (u16_t)!!(IPH_OFFSET(iphdr
 617:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* reassemble the packet*/
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     p = ip4_reass(p);
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not fully reassembled yet? */
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (p == NULL) {
 621:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 622:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     iphdr = (struct ip_hdr *)p->payload;
 624:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_REASSEMBLY == 0, no packet fragment reassembly code present */
 625:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 626:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("IP packet dropped since it was fragmented (0x%
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       lwip_ntohs(IPH_OFFSET(iphdr))));
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 16


 628:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.opterr);
 629:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* unsupported protocol feature */
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinunknownprotos);
 632:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 633:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_REASSEMBLY */
 634:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 635:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_ALLOWED == 0 /* no support for IP options in the IP header? */
 637:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 638:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 639:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* there is an extra "router alert" option in IGMP messages which we allow for but do not police 
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((iphdr_hlen > IP_HLEN) &&  (IPH_PROTO(iphdr) != IP_PROTO_IGMP)) {
 641:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else
 642:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (iphdr_hlen > IP_HLEN) {
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP */
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("IP packet dropped since there were IP options 
 645:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 646:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.opterr);
 647:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 648:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* unsupported protocol feature */
 649:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinunknownprotos);
 650:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 651:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 652:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_ALLOWED == 0 */
 653:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* send to upper layers */
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_input: \n"));
 656:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_debug_print(p);
 657:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_input: p->len %"U16_F" p->tot_len %"U16_F"\n", p->len, p->tot_len));
 658:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_netif = netif;
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = inp;
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = iphdr;
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = IPH_HL(iphdr) * 4;
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 664:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_RAW
 665:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* raw input did not eat the packet? */
 666:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (raw_input(p, inp) == 0)
 667:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_RAW */
 668:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   {
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_header(p, -(s16_t)iphdr_hlen); /* Move to payload, no check necessary. */
 670:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     switch (IPH_PROTO(iphdr)) {
 672:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDP
 673:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_UDP:
 674:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDPLITE
 675:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_UDPLITE:
 676:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_UDPLITE */
 677:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindelivers);
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       udp_input(p, inp);
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 680:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_UDP */
 681:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_TCP
 682:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_TCP:
 683:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindelivers);
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       tcp_input(p, inp);
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 17


 685:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_TCP */
 687:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 688:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_ICMP:
 689:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindelivers);
 690:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       icmp_input(p, inp);
 691:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 692:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 693:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 694:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_IGMP:
 695:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       igmp_input(p, inp, ip4_current_dest_addr());
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 697:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP */
 698:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     default:
 699:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 700:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* send ICMP destination protocol unreachable unless is was a broadcast */
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (!ip4_addr_isbroadcast(ip4_current_dest_addr(), netif) &&
 702:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         pbuf_header_force(p, iphdr_hlen); /* Move to ip header, no check necessary. */
 704:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         p->payload = iphdr;
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         icmp_dest_unreach(p, ICMP_DUR_PROTO);
 706:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 707:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       pbuf_free(p);
 709:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 710:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("Unsupported transport protocol %"U16_F"\n", 
 711:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 712:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.proterr);
 713:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 714:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinunknownprotos);
 715:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 716:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 717:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 718:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* @todo: this is not really necessary... */
 719:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_netif = NULL;
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = NULL;
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = NULL;
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = 0;
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_src_addr());
 724:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_dest_addr());
 725:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ERR_OK;
 727:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 221              		.loc 1 727 0
 222 0014 0020     		movs	r0, #0
 223 0016 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 224              	.LVL15:
 225              	.L30:
 226 001a 8846     		mov	r8, r1
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* calculate IP header length in bytes */
 227              		.loc 1 407 0
 228 001c 03F00F03 		and	r3, r3, #15
 229              	.LVL16:
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain ip length in bytes */
 230              		.loc 1 409 0
 231 0020 9E00     		lsls	r6, r3, #2
 232              	.LVL17:
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 18


 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 233              		.loc 1 411 0
 234 0022 7888     		ldrh	r0, [r7, #2]	@ unaligned
 235              	.LVL18:
 236 0024 FFF7FEFF 		bl	lwip_htons
 237              	.LVL19:
 238 0028 0446     		mov	r4, r0
 239              	.LVL20:
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_realloc(p, iphdr_len);
 240              		.loc 1 414 0
 241 002a 2B89     		ldrh	r3, [r5, #8]
 242 002c 8342     		cmp	r3, r0
 243 002e 14D8     		bhi	.L60
 244              	.LVL21:
 245              	.L32:
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 246              		.loc 1 419 0
 247 0030 6B89     		ldrh	r3, [r5, #10]
 248 0032 B342     		cmp	r3, r6
 249 0034 16D3     		bcc	.L33
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 250              		.loc 1 419 0 is_stmt 0 discriminator 1
 251 0036 2B89     		ldrh	r3, [r5, #8]
 252 0038 A342     		cmp	r3, r4
 253 003a 13D3     		bcc	.L33
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 254              		.loc 1 419 0 discriminator 2
 255 003c 132E     		cmp	r6, #19
 256 003e 11D9     		bls	.L33
 460:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_addr_copy_from_ip4(ip_data.current_iphdr_src, iphdr->src);
 257              		.loc 1 460 0 is_stmt 1
 258 0040 3B69     		ldr	r3, [r7, #16]	@ unaligned
 259 0042 5D4A     		ldr	r2, .L67
 260 0044 5361     		str	r3, [r2, #20]
 461:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 261              		.loc 1 461 0
 262 0046 F968     		ldr	r1, [r7, #12]	@ unaligned
 263 0048 1161     		str	r1, [r2, #16]
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 264              		.loc 1 464 0
 265 004a 03F0F003 		and	r3, r3, #240
 266 004e E02B     		cmp	r3, #224
 267 0050 0CD0     		beq	.L61
 268              	.LBB2:
 490:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     do {
 269              		.loc 1 490 0
 270 0052 4446     		mov	r4, r8
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     netif = inp;
 271              		.loc 1 489 0
 272 0054 4FF00109 		mov	r9, #1
 273 0058 16E0     		b	.L35
 274              	.LVL22:
 275              	.L60:
 276              	.LBE2:
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 277              		.loc 1 415 0
 278 005a 0146     		mov	r1, r0
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 19


 279 005c 2846     		mov	r0, r5
 280              	.LVL23:
 281 005e FFF7FEFF 		bl	pbuf_realloc
 282              	.LVL24:
 283 0062 E5E7     		b	.L32
 284              	.L33:
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.lenerr);
 285              		.loc 1 435 0
 286 0064 2846     		mov	r0, r5
 287 0066 FFF7FEFF 		bl	pbuf_free
 288              	.LVL25:
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 289              		.loc 1 439 0
 290 006a D3E7     		b	.L31
 291              	.L61:
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 292              		.loc 1 479 0
 293 006c 98F82F30 		ldrb	r3, [r8, #47]	@ zero_extendqisi2
 294 0070 13F0010F 		tst	r3, #1
 295 0074 61D0     		beq	.L54
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 296              		.loc 1 479 0 is_stmt 0 discriminator 1
 297 0076 D8F80430 		ldr	r3, [r8, #4]
 298 007a 13BB     		cbnz	r3, .L55
 299 007c 0024     		movs	r4, #0
 300 007e 5DE0     		b	.L36
 301              	.LVL26:
 302              	.L39:
 303              	.LBB3:
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 304              		.loc 1 537 0 is_stmt 1
 305 0080 2468     		ldr	r4, [r4]
 306              	.LVL27:
 307              	.L40:
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif->next;
 308              		.loc 1 539 0
 309 0082 4445     		cmp	r4, r8
 310 0084 1BD0     		beq	.L62
 311              	.L41:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 312              		.loc 1 542 0
 313 0086 FCB1     		cbz	r4, .L37
 314              	.LVL28:
 315              	.L35:
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* unicast to this interface address? */
 316              		.loc 1 499 0
 317 0088 94F82F30 		ldrb	r3, [r4, #47]	@ zero_extendqisi2
 318 008c 13F0010F 		tst	r3, #1
 319 0090 09D0     		beq	.L38
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* unicast to this interface address? */
 320              		.loc 1 499 0 is_stmt 0 discriminator 1
 321 0092 6368     		ldr	r3, [r4, #4]
 322 0094 3BB1     		cbz	r3, .L38
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* or broadcast on this interface network address? */
 323              		.loc 1 501 0 is_stmt 1
 324 0096 484A     		ldr	r2, .L67
 325 0098 5069     		ldr	r0, [r2, #20]
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 20


 326 009a 8342     		cmp	r3, r0
 327 009c 14D0     		beq	.L37
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF
 328              		.loc 1 503 0 discriminator 1
 329 009e 2146     		mov	r1, r4
 330 00a0 FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 331              	.LVL29:
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* or broadcast on this interface network address? */
 332              		.loc 1 501 0 discriminator 1
 333 00a4 80B9     		cbnz	r0, .L37
 334              	.L38:
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF
 335              		.loc 1 524 0
 336 00a6 B9F1000F 		cmp	r9, #0
 337 00aa E9D0     		beq	.L39
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           netif = NULL;
 338              		.loc 1 529 0
 339 00ac 424B     		ldr	r3, .L67
 340 00ae 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 341 00b0 7F2B     		cmp	r3, #127
 342 00b2 08D0     		beq	.L56
 343              	.LVL30:
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       } else {
 344              		.loc 1 535 0
 345 00b4 414B     		ldr	r3, .L67+4
 346 00b6 1C68     		ldr	r4, [r3]
 347              	.LVL31:
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif_list;
 348              		.loc 1 534 0
 349 00b8 4FF00009 		mov	r9, #0
 350 00bc E1E7     		b	.L40
 351              	.LVL32:
 352              	.L62:
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 353              		.loc 1 540 0
 354 00be 2468     		ldr	r4, [r4]
 355              	.LVL33:
 356 00c0 E1E7     		b	.L41
 357              	.LVL34:
 358              	.L55:
 359              	.LBE3:
 480:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 360              		.loc 1 480 0
 361 00c2 4446     		mov	r4, r8
 362 00c4 00E0     		b	.L37
 363              	.LVL35:
 364              	.L56:
 365              	.LBB4:
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 366              		.loc 1 530 0
 367 00c6 0024     		movs	r4, #0
 368              	.LVL36:
 369              	.L37:
 370              	.LBE4:
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* remote port is DHCP server? */
 371              		.loc 1 555 0
 372 00c8 002C     		cmp	r4, #0
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 21


 373 00ca 37D0     		beq	.L36
 374              	.LVL37:
 375              	.L42:
 575:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING */
 376              		.loc 1 575 0
 377 00cc 3A4B     		ldr	r3, .L67
 378 00ce 1869     		ldr	r0, [r3, #16]
 379 00d0 0028     		cmp	r0, #0
 380 00d2 3DD1     		bne	.L63
 381              	.L43:
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not for us, route or discard */
 382              		.loc 1 594 0
 383 00d4 002C     		cmp	r4, #0
 384 00d6 49D0     		beq	.L64
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_REASSEMBLY /* packet fragment reassembly code present? */
 385              		.loc 1 613 0
 386 00d8 FB88     		ldrh	r3, [r7, #6]	@ unaligned
 387 00da 23F0C003 		bic	r3, r3, #192
 388 00de 9BB2     		uxth	r3, r3
 389 00e0 33B1     		cbz	r3, .L46
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not fully reassembled yet? */
 390              		.loc 1 618 0
 391 00e2 2846     		mov	r0, r5
 392 00e4 FFF7FEFF 		bl	ip4_reass
 393              	.LVL38:
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 394              		.loc 1 620 0
 395 00e8 0546     		mov	r5, r0
 396 00ea 0028     		cmp	r0, #0
 397 00ec 92D0     		beq	.L31
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_REASSEMBLY == 0, no packet fragment reassembly code present */
 398              		.loc 1 623 0
 399 00ee 4768     		ldr	r7, [r0, #4]
 400              	.LVL39:
 401              	.L46:
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = inp;
 402              		.loc 1 659 0
 403 00f0 314A     		ldr	r2, .L67
 404 00f2 1460     		str	r4, [r2]
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = iphdr;
 405              		.loc 1 660 0
 406 00f4 C2F80480 		str	r8, [r2, #4]
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = IPH_HL(iphdr) * 4;
 407              		.loc 1 661 0
 408 00f8 9760     		str	r7, [r2, #8]
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 409              		.loc 1 662 0
 410 00fa 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 411 00fc 03F00F03 		and	r3, r3, #15
 412 0100 9B00     		lsls	r3, r3, #2
 413 0102 9381     		strh	r3, [r2, #12]	@ movhi
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 414              		.loc 1 669 0
 415 0104 7142     		negs	r1, r6
 416 0106 2846     		mov	r0, r5
 417 0108 FFF7FEFF 		bl	pbuf_header
 418              	.LVL40:
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 22


 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDP
 419              		.loc 1 671 0
 420 010c 7B7A     		ldrb	r3, [r7, #9]	@ zero_extendqisi2
 421 010e 062B     		cmp	r3, #6
 422 0110 3DD0     		beq	.L48
 423 0112 112B     		cmp	r3, #17
 424 0114 2ED0     		beq	.L49
 425 0116 012B     		cmp	r3, #1
 426 0118 3ED0     		beq	.L65
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 427              		.loc 1 701 0
 428 011a 2146     		mov	r1, r4
 429 011c 264B     		ldr	r3, .L67
 430 011e 5869     		ldr	r0, [r3, #20]
 431 0120 FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 432              	.LVL41:
 433 0124 28B9     		cbnz	r0, .L52
 702:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         pbuf_header_force(p, iphdr_hlen); /* Move to ip header, no check necessary. */
 434              		.loc 1 702 0 discriminator 1
 435 0126 244B     		ldr	r3, .L67
 436 0128 5B69     		ldr	r3, [r3, #20]
 437 012a 03F0F003 		and	r3, r3, #240
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 438              		.loc 1 701 0 discriminator 1
 439 012e E02B     		cmp	r3, #224
 440 0130 37D1     		bne	.L66
 441              	.L52:
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 442              		.loc 1 708 0
 443 0132 2846     		mov	r0, r5
 444 0134 FFF7FEFF 		bl	pbuf_free
 445              	.LVL42:
 446 0138 20E0     		b	.L51
 447              	.L54:
 448 013a 0024     		movs	r4, #0
 449              	.L36:
 557:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       struct udp_hdr *udphdr = (struct udp_hdr *)((u8_t *)iphdr + iphdr_hlen);
 450              		.loc 1 557 0
 451 013c 7B7A     		ldrb	r3, [r7, #9]	@ zero_extendqisi2
 452 013e 112B     		cmp	r3, #17
 453 0140 C4D1     		bne	.L42
 454              	.LBB5:
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: UDP packet to DHCP client port %"U16_F"\n
 455              		.loc 1 558 0
 456 0142 BB19     		adds	r3, r7, r6
 457              	.LVL43:
 561:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: DHCP packet accepted.\n"));
 458              		.loc 1 561 0
 459 0144 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 460              	.LVL44:
 461 0146 B3F5884F 		cmp	r3, #17408
 462 014a BFD1     		bne	.L42
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         check_ip_src = 0;
 463              		.loc 1 563 0
 464 014c 4446     		mov	r4, r8
 465 014e C1E7     		b	.L43
 466              	.LVL45:
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 23


 467              	.L63:
 468              	.LBE5:
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 469              		.loc 1 580 0
 470 0150 4146     		mov	r1, r8
 471 0152 FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 472              	.LVL46:
 473 0156 28B9     		cbnz	r0, .L44
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* packet source is not valid */
 474              		.loc 1 581 0 discriminator 1
 475 0158 174B     		ldr	r3, .L67
 476 015a 1B69     		ldr	r3, [r3, #16]
 477 015c 03F0F003 		and	r3, r3, #240
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 478              		.loc 1 580 0 discriminator 1
 479 0160 E02B     		cmp	r3, #224
 480 0162 B7D1     		bne	.L43
 481              	.L44:
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 482              		.loc 1 585 0
 483 0164 2846     		mov	r0, r5
 484 0166 FFF7FEFF 		bl	pbuf_free
 485              	.LVL47:
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 486              		.loc 1 589 0
 487 016a 53E7     		b	.L31
 488              	.L64:
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 489              		.loc 1 609 0
 490 016c 2846     		mov	r0, r5
 491 016e FFF7FEFF 		bl	pbuf_free
 492              	.LVL48:
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 493              		.loc 1 610 0
 494 0172 4FE7     		b	.L31
 495              	.L49:
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 496              		.loc 1 678 0
 497 0174 4146     		mov	r1, r8
 498 0176 2846     		mov	r0, r5
 499 0178 FFF7FEFF 		bl	udp_input
 500              	.LVL49:
 501              	.L51:
 719:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = NULL;
 502              		.loc 1 719 0
 503 017c 0E4B     		ldr	r3, .L67
 504 017e 0022     		movs	r2, #0
 505 0180 1A60     		str	r2, [r3]
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = NULL;
 506              		.loc 1 720 0
 507 0182 5A60     		str	r2, [r3, #4]
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = 0;
 508              		.loc 1 721 0
 509 0184 9A60     		str	r2, [r3, #8]
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_src_addr());
 510              		.loc 1 722 0
 511 0186 9A81     		strh	r2, [r3, #12]	@ movhi
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 24


 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_dest_addr());
 512              		.loc 1 723 0
 513 0188 1A61     		str	r2, [r3, #16]
 724:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 514              		.loc 1 724 0
 515 018a 5A61     		str	r2, [r3, #20]
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 516              		.loc 1 726 0
 517 018c 42E7     		b	.L31
 518              	.L48:
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 519              		.loc 1 684 0
 520 018e 4146     		mov	r1, r8
 521 0190 2846     		mov	r0, r5
 522 0192 FFF7FEFF 		bl	tcp_input
 523              	.LVL50:
 685:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_TCP */
 524              		.loc 1 685 0
 525 0196 F1E7     		b	.L51
 526              	.L65:
 690:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 527              		.loc 1 690 0
 528 0198 4146     		mov	r1, r8
 529 019a 2846     		mov	r0, r5
 530 019c FFF7FEFF 		bl	icmp_input
 531              	.LVL51:
 691:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 532              		.loc 1 691 0
 533 01a0 ECE7     		b	.L51
 534              	.L66:
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         p->payload = iphdr;
 535              		.loc 1 703 0
 536 01a2 3146     		mov	r1, r6
 537 01a4 2846     		mov	r0, r5
 538 01a6 FFF7FEFF 		bl	pbuf_header_force
 539              	.LVL52:
 704:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         icmp_dest_unreach(p, ICMP_DUR_PROTO);
 540              		.loc 1 704 0
 541 01aa 6F60     		str	r7, [r5, #4]
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 542              		.loc 1 705 0
 543 01ac 0221     		movs	r1, #2
 544 01ae 2846     		mov	r0, r5
 545 01b0 FFF7FEFF 		bl	icmp_dest_unreach
 546              	.LVL53:
 547 01b4 BDE7     		b	.L52
 548              	.L68:
 549 01b6 00BF     		.align	2
 550              	.L67:
 551 01b8 00000000 		.word	ip_data
 552 01bc 00000000 		.word	netif_list
 553              		.cfi_endproc
 554              	.LFE155:
 556              		.section	.text.ip4_output_if_src,"ax",%progbits
 557              		.align	1
 558              		.global	ip4_output_if_src
 559              		.syntax unified
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 25


 560              		.thumb
 561              		.thumb_func
 562              		.fpu fpv5-sp-d16
 564              	ip4_output_if_src:
 565              	.LFB157:
 728:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 729:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 730:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Sends an IP packet on a network interface. This function constructs
 731:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * the IP header and calculates the IP header checksum. If the source
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IP address is NULL, the IP address of the outgoing network
 733:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * interface is filled in as source address.
 734:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * If the destination IP address is LWIP_IP_HDRINCL, p is assumed to already
 735:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * include an IP header and p->payload points to it instead of the data.
 736:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to send (p->payload points to the data, e.g. next
 738:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             protocol header; if dest == LWIP_IP_HDRINCL, p already includes an
 739:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             IP header and p->payload points to that IP header)
 740:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param src the source IP address to send from (if src == IP4_ADDR_ANY, the
 741:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         IP  address of the netif used to send is used as source address)
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param dest the destination IP address to send the packet to
 743:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param ttl the TTL value to be set in the IP header
 744:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param tos the TOS value to be set in the IP header
 745:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param proto the PROTOCOL to be set in the IP header
 746:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param netif the netif on which to send this packet
 747:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return ERR_OK if the packet was sent OK
 748:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         ERR_BUF if p doesn't have enough space for IP/LINK headers
 749:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         returns errors returned by netif->output
 750:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 751:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @note ip_id: RFC791 "some host may be able to simply use
 752:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *  unique identifiers independent of destination"
 753:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 754:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 755:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 756:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****              u8_t ttl, u8_t tos,
 757:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****              u8_t proto, struct netif *netif)
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 759:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 760:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_opt(p, src, dest, ttl, tos, proto, netif, NULL, 0);
 761:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 762:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 763:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 764:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Same as ip_output_if() but with the possibility to include IP options:
 765:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 766:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @ param ip_options pointer to the IP options, copied into the IP header
 767:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @ param optlen length of ip_options
 768:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 769:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 770:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if_opt(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 771:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        u8_t ttl, u8_t tos, u8_t proto, struct netif *netif, void *ip_options,
 772:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        u16_t optlen)
 773:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 774:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 775:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   const ip4_addr_t *src_used = src;
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (dest != LWIP_IP_HDRINCL) {
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (ip4_addr_isany(src)) {
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 779:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 26


 780:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 781:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 783:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_opt_src(p, src_used, dest, ttl, tos, proto, netif,
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip_options, optlen);
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_OPTIONS_SEND */
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_src(p, src_used, dest, ttl, tos, proto, netif);
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 791:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Same as ip_output_if() but 'src' address is not replaced by netif address
 792:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * when it is 'any'.
 793:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 795:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if_src(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 796:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****              u8_t ttl, u8_t tos,
 797:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****              u8_t proto, struct netif *netif)
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 566              		.loc 1 798 0
 567              		.cfi_startproc
 568              		@ args = 12, pretend = 0, frame = 8
 569              		@ frame_needed = 0, uses_anonymous_args = 0
 570              	.LVL54:
 571 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 572              	.LCFI7:
 573              		.cfi_def_cfa_offset 28
 574              		.cfi_offset 4, -28
 575              		.cfi_offset 5, -24
 576              		.cfi_offset 6, -20
 577              		.cfi_offset 7, -16
 578              		.cfi_offset 8, -12
 579              		.cfi_offset 9, -8
 580              		.cfi_offset 14, -4
 581 0004 83B0     		sub	sp, sp, #12
 582              	.LCFI8:
 583              		.cfi_def_cfa_offset 40
 584 0006 0546     		mov	r5, r0
 585 0008 8946     		mov	r9, r1
 586 000a 1646     		mov	r6, r2
 587 000c 9846     		mov	r8, r3
 588 000e 0C9F     		ldr	r7, [sp, #48]
 799:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 800:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_opt_src(p, src, dest, ttl, tos, proto, netif, NULL, 0);
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 804:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Same as ip_output_if_opt() but 'src' address is not replaced by netif address
 805:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * when it is 'any'.
 806:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 807:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 808:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if_opt_src(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 809:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        u8_t ttl, u8_t tos, u8_t proto, struct netif *netif, void *ip_options,
 810:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        u16_t optlen)
 811:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 812:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 813:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct ip_hdr *iphdr;
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 27


 814:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_t dest_addr;
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 816:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u32_t chk_sum = 0;
 817:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 818:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_IP_CHECK_PBUF_REF_COUNT_FOR_TX(p);
 589              		.loc 1 819 0
 590 0010 C389     		ldrh	r3, [r0, #14]
 591              	.LVL55:
 592 0012 012B     		cmp	r3, #1
 593 0014 3DD1     		bne	.L80
 594              	.LVL56:
 595              	.L70:
 820:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 821:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipoutrequests);
 822:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Should the IP header be generated or is it already included in p? */
 824:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (dest != LWIP_IP_HDRINCL) {
 596              		.loc 1 824 0
 597 0016 002E     		cmp	r6, #0
 598 0018 4FD0     		beq	.L71
 599              	.LVL57:
 600              	.LBB6:
 825:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     u16_t ip_hlen = IP_HLEN;
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     u16_t optlen_aligned = 0;
 828:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (optlen != 0) {
 829:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       int i;
 831:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 832:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* round up to a multiple of 4 */
 833:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       optlen_aligned = ((optlen + 3) & ~3);
 834:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip_hlen += optlen_aligned;
 835:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* First write in the IP options */
 836:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (pbuf_header(p, optlen_aligned)) {
 837:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_output_if_opt: not enough room for IP 
 838:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         IP_STATS_INC(ip.err);
 839:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         MIB2_STATS_INC(mib2.ipoutdiscards);
 840:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return ERR_BUF;
 841:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MEMCPY(p->payload, ip_options, optlen);
 843:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (optlen < optlen_aligned) {
 844:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* zero the remaining bytes */
 845:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         memset(((char*)p->payload) + optlen, 0, optlen_aligned - optlen);
 846:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 847:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 848:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       for (i = 0; i < optlen_aligned/2; i++) {
 849:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         chk_sum += ((u16_t*)p->payload)[i];
 850:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 851:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 852:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 853:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* generate IP header */
 855:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (pbuf_header(p, IP_HLEN)) {
 601              		.loc 1 855 0
 602 001a 1421     		movs	r1, #20
 603 001c 2846     		mov	r0, r5
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 28


 604 001e FFF7FEFF 		bl	pbuf_header
 605              	.LVL58:
 606 0022 0028     		cmp	r0, #0
 607 0024 58D1     		bne	.L78
 856:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_output: not enough room for IP header in
 857:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 858:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.err);
 859:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipoutdiscards);
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_BUF;
 861:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 862:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 863:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     iphdr = (struct ip_hdr *)p->payload;
 608              		.loc 1 863 0
 609 0026 6C68     		ldr	r4, [r5, #4]
 610              	.LVL59:
 864:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_ASSERT("check that first pbuf can hold struct ip_hdr",
 611              		.loc 1 864 0
 612 0028 6B89     		ldrh	r3, [r5, #10]
 613 002a 132B     		cmp	r3, #19
 614 002c 39D9     		bls	.L81
 615              	.L73:
 865:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                (p->len >= sizeof(struct ip_hdr)));
 866:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 867:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_TTL_SET(iphdr, ttl);
 616              		.loc 1 867 0
 617 002e 84F80880 		strb	r8, [r4, #8]
 868:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_PROTO_SET(iphdr, proto);
 618              		.loc 1 868 0
 619 0032 9DF82C30 		ldrb	r3, [sp, #44]	@ zero_extendqisi2
 620 0036 6372     		strb	r3, [r4, #9]
 869:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 870:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += PP_NTOHS(proto | (ttl << 8));
 871:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 872:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 873:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* dest cannot be NULL here */
 874:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(iphdr->dest, *dest);
 621              		.loc 1 874 0
 622 0038 3368     		ldr	r3, [r6]
 623 003a 2361     		str	r3, [r4, #16]	@ unaligned
 875:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 876:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->dest) & 0xFFFF;
 877:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->dest) >> 16;
 878:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 879:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 880:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_VHL_SET(iphdr, 4, ip_hlen / 4);
 624              		.loc 1 880 0
 625 003c 4523     		movs	r3, #69
 626 003e 2370     		strb	r3, [r4]
 881:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_TOS_SET(iphdr, tos);
 627              		.loc 1 881 0
 628 0040 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
 629 0044 6370     		strb	r3, [r4, #1]
 882:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 883:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += PP_NTOHS(tos | (iphdr->_v_hl << 8));
 884:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 885:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_LEN_SET(iphdr, lwip_htons(p->tot_len));
 630              		.loc 1 885 0
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 29


 631 0046 2889     		ldrh	r0, [r5, #8]
 632 0048 FFF7FEFF 		bl	lwip_htons
 633              	.LVL60:
 634 004c 6080     		strh	r0, [r4, #2]	@ unaligned
 886:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 887:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += iphdr->_len;
 888:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 889:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_OFFSET_SET(iphdr, 0);
 635              		.loc 1 889 0
 636 004e 0023     		movs	r3, #0
 637 0050 A371     		strb	r3, [r4, #6]
 638 0052 E371     		strb	r3, [r4, #7]
 890:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_ID_SET(iphdr, lwip_htons(ip_id));
 639              		.loc 1 890 0
 640 0054 DFF89C80 		ldr	r8, .L84+20
 641 0058 B8F80000 		ldrh	r0, [r8]
 642 005c FFF7FEFF 		bl	lwip_htons
 643              	.LVL61:
 644 0060 A080     		strh	r0, [r4, #4]	@ unaligned
 891:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 892:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += iphdr->_id;
 893:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 894:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ++ip_id;
 645              		.loc 1 894 0
 646 0062 B8F80030 		ldrh	r3, [r8]
 647 0066 0133     		adds	r3, r3, #1
 648 0068 A8F80030 		strh	r3, [r8]	@ movhi
 895:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 896:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (src == NULL) {
 649              		.loc 1 896 0
 650 006c B9F1000F 		cmp	r9, #0
 651 0070 1FD0     		beq	.L82
 897:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_copy(iphdr->src, *IP4_ADDR_ANY4);
 898:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 899:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* src cannot be NULL here */
 900:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_copy(iphdr->src, *src);
 652              		.loc 1 900 0
 653 0072 D9F80030 		ldr	r3, [r9]
 654 0076 E360     		str	r3, [r4, #12]	@ unaligned
 655              	.L75:
 901:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 902:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 903:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 904:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->src) & 0xFFFF;
 905:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->src) >> 16;
 906:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum = (chk_sum >> 16) + (chk_sum & 0xFFFF);
 907:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum = (chk_sum >> 16) + chk_sum;
 908:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum = ~chk_sum;
 909:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_IP) {
 910:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       iphdr->_chksum = (u16_t)chk_sum; /* network order */
 911:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 912:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_CHECKSUM_CTRL_PER_NETIF
 913:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     else {
 914:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IPH_CHKSUM_SET(iphdr, 0);
 915:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 916:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_CHECKSUM_CTRL_PER_NETIF*/
 917:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* CHECKSUM_GEN_IP_INLINE */
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 30


 918:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_CHKSUM_SET(iphdr, 0);
 656              		.loc 1 918 0
 657 0078 0023     		movs	r3, #0
 658 007a A372     		strb	r3, [r4, #10]
 659 007c E372     		strb	r3, [r4, #11]
 660              	.LVL62:
 661              	.L76:
 662              	.LBE6:
 919:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP
 920:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_IP) {
 921:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IPH_CHKSUM_SET(iphdr, inet_chksum(iphdr, ip_hlen));
 922:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 923:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP */
 924:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 925:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   } else {
 926:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* IP header already included in p */
 927:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     iphdr = (struct ip_hdr *)p->payload;
 928:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(dest_addr, iphdr->dest);
 929:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     dest = &dest_addr;
 930:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 931:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 932:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.xmit);
 933:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 934:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_output_if: %c%c%"U16_F"\n", netif->name[0], netif->name[1], (u16_t)ne
 935:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_debug_print(p);
 936:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 937:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if ENABLE_LOOPBACK
 938:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_cmp(dest, netif_ip4_addr(netif))
 939:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_HAVE_LOOPIF
 940:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       || ip4_addr_isloopback(dest)
 941:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* !LWIP_HAVE_LOOPIF */
 942:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ) {
 943:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* Packet to self, enqueue it for loopback */
 944:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("netif_loop_output()"));
 945:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return netif_loop_output(netif, p);
 946:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 947:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_MULTICAST_TX_OPTIONS
 948:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((p->flags & PBUF_FLAG_MCASTLOOP) != 0) {
 949:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     netif_loop_output(netif, p);
 950:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 951:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 952:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* ENABLE_LOOPBACK */
 953:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FRAG
 954:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* don't fragment if interface has mtu set to 0 [loopif] */
 955:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif->mtu && (p->tot_len > netif->mtu)) {
 663              		.loc 1 955 0
 664 007e FB8C     		ldrh	r3, [r7, #38]
 665 0080 0BBB     		cbnz	r3, .L83
 666              	.L77:
 956:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ip4_frag(p, netif, dest);
 957:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 958:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FRAG */
 959:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 960:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_output_if: call netif->output()\n"));
 961:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return netif->output(netif, p, dest);
 667              		.loc 1 961 0
 668 0082 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 31


 669 0084 3246     		mov	r2, r6
 670 0086 2946     		mov	r1, r5
 671 0088 3846     		mov	r0, r7
 672 008a 9847     		blx	r3
 673              	.LVL63:
 674              	.L72:
 962:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 675              		.loc 1 962 0
 676 008c 03B0     		add	sp, sp, #12
 677              	.LCFI9:
 678              		.cfi_remember_state
 679              		.cfi_def_cfa_offset 28
 680              		@ sp needed
 681 008e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 682              	.LVL64:
 683              	.L80:
 684              	.LCFI10:
 685              		.cfi_restore_state
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 686              		.loc 1 819 0 discriminator 1
 687 0092 134B     		ldr	r3, .L84
 688 0094 40F23332 		movw	r2, #819
 689              	.LVL65:
 690 0098 1249     		ldr	r1, .L84+4
 691              	.LVL66:
 692 009a 1348     		ldr	r0, .L84+8
 693              	.LVL67:
 694 009c FFF7FEFF 		bl	printf
 695              	.LVL68:
 696 00a0 B9E7     		b	.L70
 697              	.LVL69:
 698              	.L81:
 699              	.LBB7:
 864:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                (p->len >= sizeof(struct ip_hdr)));
 700              		.loc 1 864 0 discriminator 1
 701 00a2 0F4B     		ldr	r3, .L84
 702 00a4 40F26132 		movw	r2, #865
 703 00a8 1049     		ldr	r1, .L84+12
 704 00aa 0F48     		ldr	r0, .L84+8
 705 00ac FFF7FEFF 		bl	printf
 706              	.LVL70:
 707 00b0 BDE7     		b	.L73
 708              	.L82:
 897:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 709              		.loc 1 897 0
 710 00b2 0F4B     		ldr	r3, .L84+16
 711 00b4 1B68     		ldr	r3, [r3]
 712 00b6 E360     		str	r3, [r4, #12]	@ unaligned
 713 00b8 DEE7     		b	.L75
 714              	.LVL71:
 715              	.L71:
 716              	.LBE7:
 927:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(dest_addr, iphdr->dest);
 717              		.loc 1 927 0
 718 00ba 6B68     		ldr	r3, [r5, #4]
 719              	.LVL72:
 928:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     dest = &dest_addr;
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 32


 720              		.loc 1 928 0
 721 00bc 1B69     		ldr	r3, [r3, #16]	@ unaligned
 722              	.LVL73:
 723 00be 02AE     		add	r6, sp, #8
 724              	.LVL74:
 725 00c0 46F8043D 		str	r3, [r6, #-4]!
 726              	.LVL75:
 727 00c4 DBE7     		b	.L76
 728              	.LVL76:
 729              	.L83:
 955:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ip4_frag(p, netif, dest);
 730              		.loc 1 955 0 discriminator 1
 731 00c6 2A89     		ldrh	r2, [r5, #8]
 732 00c8 9342     		cmp	r3, r2
 733 00ca DAD2     		bcs	.L77
 956:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 734              		.loc 1 956 0
 735 00cc 3246     		mov	r2, r6
 736 00ce 3946     		mov	r1, r7
 737 00d0 2846     		mov	r0, r5
 738 00d2 FFF7FEFF 		bl	ip4_frag
 739              	.LVL77:
 740 00d6 D9E7     		b	.L72
 741              	.LVL78:
 742              	.L78:
 743              	.LBB8:
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 744              		.loc 1 860 0
 745 00d8 6FF00100 		mvn	r0, #1
 746 00dc D6E7     		b	.L72
 747              	.L85:
 748 00de 00BF     		.align	2
 749              	.L84:
 750 00e0 00000000 		.word	.LC0
 751 00e4 34000000 		.word	.LC1
 752 00e8 40000000 		.word	.LC2
 753 00ec 68000000 		.word	.LC3
 754 00f0 00000000 		.word	ip_addr_any
 755 00f4 00000000 		.word	.LANCHOR0
 756              	.LBE8:
 757              		.cfi_endproc
 758              	.LFE157:
 760              		.section	.text.ip4_output_if,"ax",%progbits
 761              		.align	1
 762              		.global	ip4_output_if
 763              		.syntax unified
 764              		.thumb
 765              		.thumb_func
 766              		.fpu fpv5-sp-d16
 768              	ip4_output_if:
 769              	.LFB156:
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 770              		.loc 1 758 0
 771              		.cfi_startproc
 772              		@ args = 12, pretend = 0, frame = 0
 773              		@ frame_needed = 0, uses_anonymous_args = 0
 774              	.LVL79:
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 33


 775 0000 30B5     		push	{r4, r5, lr}
 776              	.LCFI11:
 777              		.cfi_def_cfa_offset 12
 778              		.cfi_offset 4, -12
 779              		.cfi_offset 5, -8
 780              		.cfi_offset 14, -4
 781 0002 85B0     		sub	sp, sp, #20
 782              	.LCFI12:
 783              		.cfi_def_cfa_offset 32
 784 0004 0A9C     		ldr	r4, [sp, #40]
 785              	.LVL80:
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (ip4_addr_isany(src)) {
 786              		.loc 1 776 0
 787 0006 1546     		mov	r5, r2
 788 0008 1AB1     		cbz	r2, .L87
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 789              		.loc 1 777 0
 790 000a 09B1     		cbz	r1, .L88
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 791              		.loc 1 777 0 is_stmt 0 discriminator 1
 792 000c 0A68     		ldr	r2, [r1]
 793              	.LVL81:
 794 000e 02B9     		cbnz	r2, .L87
 795              	.L88:
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 796              		.loc 1 778 0 is_stmt 1
 797 0010 211D     		adds	r1, r4, #4
 798              	.LVL82:
 799              	.L87:
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 800              		.loc 1 786 0
 801 0012 0294     		str	r4, [sp, #8]
 802 0014 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
 803 0018 0192     		str	r2, [sp, #4]
 804 001a 9DF82020 		ldrb	r2, [sp, #32]	@ zero_extendqisi2
 805 001e 0092     		str	r2, [sp]
 806 0020 2A46     		mov	r2, r5
 807 0022 FFF7FEFF 		bl	ip4_output_if_src
 808              	.LVL83:
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 809              		.loc 1 788 0
 810 0026 05B0     		add	sp, sp, #20
 811              	.LCFI13:
 812              		.cfi_def_cfa_offset 12
 813              		@ sp needed
 814 0028 30BD     		pop	{r4, r5, pc}
 815              		.cfi_endproc
 816              	.LFE156:
 818              		.section	.text.ip4_output,"ax",%progbits
 819              		.align	1
 820              		.global	ip4_output
 821              		.syntax unified
 822              		.thumb
 823              		.thumb_func
 824              		.fpu fpv5-sp-d16
 826              	ip4_output:
 827              	.LFB158:
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 34


 963:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 964:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 965:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Simple interface to ip_output_if. It finds the outgoing network
 966:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * interface and calls upon ip_output_if to do the actual work.
 967:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 968:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to send (p->payload points to the data, e.g. next
 969:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             protocol header; if dest == LWIP_IP_HDRINCL, p already includes an
 970:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             IP header and p->payload points to that IP header)
 971:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param src the source IP address to send from (if src == IP4_ADDR_ANY, the
 972:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         IP  address of the netif used to send is used as source address)
 973:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param dest the destination IP address to send the packet to
 974:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param ttl the TTL value to be set in the IP header
 975:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param tos the TOS value to be set in the IP header
 976:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param proto the PROTOCOL to be set in the IP header
 977:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 978:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return ERR_RTE if no route is found
 979:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         see ip_output_if() for more return values
 980:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 981:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 982:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 983:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           u8_t ttl, u8_t tos, u8_t proto)
 984:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 828              		.loc 1 984 0
 829              		.cfi_startproc
 830              		@ args = 8, pretend = 0, frame = 0
 831              		@ frame_needed = 0, uses_anonymous_args = 0
 832              	.LVL84:
 833 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 834              	.LCFI14:
 835              		.cfi_def_cfa_offset 20
 836              		.cfi_offset 4, -20
 837              		.cfi_offset 5, -16
 838              		.cfi_offset 6, -12
 839              		.cfi_offset 7, -8
 840              		.cfi_offset 14, -4
 841 0002 85B0     		sub	sp, sp, #20
 842              	.LCFI15:
 843              		.cfi_def_cfa_offset 40
 844 0004 0446     		mov	r4, r0
 845 0006 0E46     		mov	r6, r1
 846 0008 1546     		mov	r5, r2
 847 000a 1F46     		mov	r7, r3
 985:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 986:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_IP_CHECK_PBUF_REF_COUNT_FOR_TX(p);
 848              		.loc 1 987 0
 849 000c C389     		ldrh	r3, [r0, #14]
 850              	.LVL85:
 851 000e 012B     		cmp	r3, #1
 852 0010 12D1     		bne	.L95
 853              	.LVL86:
 854              	.L91:
 988:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 989:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((netif = ip4_route_src(dest, src)) == NULL) {
 855              		.loc 1 989 0
 856 0012 2846     		mov	r0, r5
 857 0014 FFF7FEFF 		bl	ip4_route
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 35


 858              	.LVL87:
 859 0018 B0B1     		cbz	r0, .L93
 990:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_output: No route to %"U16_F".%"U16_F".%"U16_F".%"U16_F"\n",
 991:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr1_16(dest), ip4_addr2_16(dest), ip4_addr3_16(dest), ip4_addr4_16(dest)));
 992:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.rterr);
 993:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_RTE;
 994:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 995:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 996:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if(p, src, dest, ttl, tos, proto, netif);
 860              		.loc 1 996 0
 861 001a 0290     		str	r0, [sp, #8]
 862 001c 9DF82C30 		ldrb	r3, [sp, #44]	@ zero_extendqisi2
 863 0020 0193     		str	r3, [sp, #4]
 864 0022 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
 865 0026 0093     		str	r3, [sp]
 866 0028 3B46     		mov	r3, r7
 867 002a 2A46     		mov	r2, r5
 868 002c 3146     		mov	r1, r6
 869 002e 2046     		mov	r0, r4
 870              	.LVL88:
 871 0030 FFF7FEFF 		bl	ip4_output_if
 872              	.LVL89:
 873              	.L92:
 997:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 874              		.loc 1 997 0
 875 0034 05B0     		add	sp, sp, #20
 876              	.LCFI16:
 877              		.cfi_remember_state
 878              		.cfi_def_cfa_offset 20
 879              		@ sp needed
 880 0036 F0BD     		pop	{r4, r5, r6, r7, pc}
 881              	.LVL90:
 882              	.L95:
 883              	.LCFI17:
 884              		.cfi_restore_state
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 885              		.loc 1 987 0 discriminator 1
 886 0038 054B     		ldr	r3, .L96
 887 003a 40F2DB32 		movw	r2, #987
 888              	.LVL91:
 889 003e 0549     		ldr	r1, .L96+4
 890              	.LVL92:
 891 0040 0548     		ldr	r0, .L96+8
 892              	.LVL93:
 893 0042 FFF7FEFF 		bl	printf
 894              	.LVL94:
 895 0046 E4E7     		b	.L91
 896              	.LVL95:
 897              	.L93:
 993:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 898              		.loc 1 993 0
 899 0048 6FF00300 		mvn	r0, #3
 900              	.LVL96:
 901 004c F2E7     		b	.L92
 902              	.L97:
 903 004e 00BF     		.align	2
 904              	.L96:
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 36


 905 0050 00000000 		.word	.LC0
 906 0054 34000000 		.word	.LC1
 907 0058 40000000 		.word	.LC2
 908              		.cfi_endproc
 909              	.LFE158:
 911              		.section	.bss.ip_id,"aw",%nobits
 912              		.align	1
 913              		.set	.LANCHOR0,. + 0
 916              	ip_id:
 917 0000 0000     		.space	2
 918              		.section	.rodata.ip4_output_if_src.str1.4,"aMS",%progbits,1
 919              		.align	2
 920              	.LC0:
 921 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c\000"
 921      6C657761 
 921      7265732F 
 921      54686972 
 921      645F5061 
 922 0031 000000   		.space	3
 923              	.LC1:
 924 0034 702D3E72 		.ascii	"p->ref == 1\000"
 924      6566203D 
 924      3D203100 
 925              	.LC2:
 926 0040 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 926      7274696F 
 926      6E202225 
 926      73222066 
 926      61696C65 
 927              	.LC3:
 928 0068 63686563 		.ascii	"check that first pbuf can hold struct ip_hdr\000"
 928      6B207468 
 928      61742066 
 928      69727374 
 928      20706275 
 929              		.text
 930              	.Letext0:
 931              		.file 2 "c:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\machine\\_default
 932              		.file 3 "c:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 933              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 934              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 935              		.file 6 "c:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\lock.h"
 936              		.file 7 "c:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\_types.h"
 937              		.file 8 "c:\\program files (x86)\\gnu\\7_2018-q2-update\\lib\\gcc\\arm-none-eabi\\7.3.1\\include\\
 938              		.file 9 "c:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\reent.h"
 939              		.file 10 "c:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\stdlib.h"
 940              		.file 11 "c:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\time.h"
 941              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 942              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 943              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 944              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 945              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 946              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 947              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 948              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 949              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 950              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 37


 951              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/icmp.h"
 952              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/udp.h"
 953              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 954              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 955              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 956              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 957              		.file 28 "c:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\stdio.h"
 958              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 959              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_frag.h"
ARM GAS  C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s 			page 38


DEFINED SYMBOLS
                            *ABS*:00000000 ip4.c
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:18     .text.ip4_route:00000000 $t
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:25     .text.ip4_route:00000000 ip4_route
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:176    .text.ip4_route:000000a0 $d
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:182    .text.ip4_input:00000000 $t
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:189    .text.ip4_input:00000000 ip4_input
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:551    .text.ip4_input:000001b8 $d
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:557    .text.ip4_output_if_src:00000000 $t
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:564    .text.ip4_output_if_src:00000000 ip4_output_if_src
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:750    .text.ip4_output_if_src:000000e0 $d
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:761    .text.ip4_output_if:00000000 $t
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:768    .text.ip4_output_if:00000000 ip4_output_if
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:819    .text.ip4_output:00000000 $t
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:826    .text.ip4_output:00000000 ip4_output
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:905    .text.ip4_output:00000050 $d
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:912    .bss.ip_id:00000000 $d
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:916    .bss.ip_id:00000000 ip_id
C:\Users\Patryk\AppData\Local\Temp\cck0kmWf.s:919    .rodata.ip4_output_if_src.str1.4:00000000 $d

UNDEFINED SYMBOLS
netif_list
netif_default
pbuf_free
lwip_htons
pbuf_realloc
ip4_addr_isbroadcast_u32
ip4_reass
pbuf_header
udp_input
tcp_input
icmp_input
pbuf_header_force
icmp_dest_unreach
ip_data
printf
ip4_frag
ip_addr_any
