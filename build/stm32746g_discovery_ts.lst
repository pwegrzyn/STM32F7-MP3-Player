ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32746g_discovery_ts.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.BSP_TS_Init,"ax",%progbits
  18              		.align	1
  19              		.global	BSP_TS_Init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-sp-d16
  25              	BSP_TS_Init:
  26              	.LFB138:
  27              		.file 1 "Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c"
   1:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
   2:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   ******************************************************************************
   3:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @file    stm32746g_discovery_ts.c
   4:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @author  MCD Application Team
   5:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @brief   This file provides a set of functions needed to manage the Touch 
   6:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *          Screen on STM32746G-Discovery board.
   7:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   @verbatim
   8:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****    1. How To use this driver:
   9:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****    --------------------------
  10:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       - This driver is used to drive the touch screen module of the STM32746G-Discovery
  11:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         board on the RK043FN48H-CT672B 480x272 LCD screen with capacitive touch screen.
  12:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       - The FT5336 component driver must be included in project files according to
  13:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         the touch screen driver present on this board.
  14:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****    
  15:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****    2. Driver description:
  16:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****    ---------------------
  17:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****      + Initialization steps:
  18:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         o Initialize the TS module using the BSP_TS_Init() function. This 
  19:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           function includes the MSP layer hardware resources initialization and the
  20:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           communication layer configuration to start the TS use. The LCD size properties
  21:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           (x and y) are passed as parameters.
  22:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         o If TS interrupt mode is desired, you must configure the TS interrupt mode
  23:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           by calling the function BSP_TS_ITConfig(). The TS interrupt mode is generated
  24:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           as an external interrupt whenever a touch is detected. 
  25:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           The interrupt mode internally uses the IO functionalities driver driven by
  26:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           the IO expander, to configure the IT line.
  27:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****      
  28:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****      + Touch screen use
  29:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         o The touch screen state is captured whenever the function BSP_TS_GetState() is 
  30:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           used. This function returns information about the last LCD touch occurred
  31:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           in the TS_StateTypeDef structure.
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 2


  32:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         o If TS interrupt mode is used, the function BSP_TS_ITGetStatus() is needed to get
  33:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           the interrupt status. To clear the IT pending bits, you should call the 
  34:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           function BSP_TS_ITClear().
  35:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         o The IT is handled using the corresponding external interrupt IRQ handler,
  36:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           the user IT callback treatment is implemented on the same external interrupt
  37:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           callback.
  38:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   @endverbatim
  39:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   ******************************************************************************
  40:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @attention
  41:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *
  42:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * <h2><center>&copy; COPYRIGHT(c) 2016 STMicroelectronics</center></h2>
  43:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *
  44:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * Redistribution and use in source and binary forms, with or without modification,
  45:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * are permitted provided that the following conditions are met:
  46:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  47:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *      this list of conditions and the following disclaimer.
  48:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  49:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *      this list of conditions and the following disclaimer in the documentation
  50:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *      and/or other materials provided with the distribution.
  51:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  52:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *      may be used to endorse or promote products derived from this software
  53:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *      without specific prior written permission.
  54:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *
  55:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  56:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  57:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  58:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  59:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  60:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  61:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  62:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  63:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  64:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  65:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *
  66:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   ******************************************************************************
  67:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */ 
  68:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
  69:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /* Dependencies
  70:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** - stm32746g_discovery_lcd.c
  71:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** - ft5336.c
  72:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** EndDependencies */
  73:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
  74:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /* Includes ------------------------------------------------------------------*/
  75:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** #include "stm32746g_discovery_ts.h"
  76:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
  77:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /** @addtogroup BSP
  78:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @{
  79:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */
  80:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
  81:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /** @addtogroup STM32746G_DISCOVERY
  82:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @{
  83:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */ 
  84:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   
  85:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /** @defgroup STM32746G_DISCOVERY_TS STM32746G_DISCOVERY_TS
  86:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @{
  87:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */   
  88:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 3


  89:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /** @defgroup STM32746G_DISCOVERY_TS_Private_Types_Definitions STM32746G_DISCOVERY_TS Types Definit
  90:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @{
  91:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */ 
  92:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
  93:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @}
  94:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */ 
  95:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
  96:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /** @defgroup STM32746G_DISCOVERY_TS_Private_Defines STM32746G_DISCOVERY_TS Types Defines
  97:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @{
  98:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */ 
  99:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
 100:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @}
 101:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */ 
 102:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 103:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /** @defgroup STM32746G_DISCOVERY_TS_Private_Macros STM32746G_DISCOVERY_TS Private Macros
 104:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @{
 105:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */ 
 106:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
 107:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @}
 108:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */
 109:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 110:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /** @defgroup STM32746G_DISCOVERY_TS_Imported_Variables STM32746G_DISCOVERY_TS Imported Variables
 111:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @{
 112:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */
 113:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   /**
 114:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     * @}
 115:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     */
 116:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 117:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /** @defgroup STM32746G_DISCOVERY_TS_Private_Variables STM32746G_DISCOVERY_TS Private Variables
 118:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @{
 119:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */ 
 120:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** static TS_DrvTypeDef *tsDriver;
 121:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** static uint16_t tsXBoundary, tsYBoundary; 
 122:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** static uint8_t  tsOrientation;
 123:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** static uint8_t  I2cAddress;
 124:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
 125:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @}
 126:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */ 
 127:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 128:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /** @defgroup STM32746G_DISCOVERY_TS_Private_Function_Prototypes STM32746G_DISCOVERY_TS Private Fun
 129:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @{
 130:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */ 
 131:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
 132:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @}
 133:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */ 
 134:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 135:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /** @defgroup STM32746G_DISCOVERY_TS_Exported_Functions STM32746G_DISCOVERY_TS Exported Functions
 136:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @{
 137:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */ 
 138:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 139:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
 140:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @brief  Initializes and configures the touch screen functionalities and 
 141:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *         configures all necessary hardware resources (GPIOs, I2C, clocks..).
 142:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @param  ts_SizeX: Maximum X size of the TS area on LCD
 143:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @param  ts_SizeY: Maximum Y size of the TS area on LCD
 144:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @retval TS_OK if all initializations are OK. Other value if error.
 145:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 4


 146:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** uint8_t BSP_TS_Init(uint16_t ts_SizeX, uint16_t ts_SizeY)
 147:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** {
  28              		.loc 1 147 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  38              	.LVL1:
 148:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint8_t status = TS_OK;
 149:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   tsXBoundary = ts_SizeX;
  39              		.loc 1 149 0
  40 0002 0D4B     		ldr	r3, .L5
  41 0004 1880     		strh	r0, [r3]	@ movhi
 150:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   tsYBoundary = ts_SizeY;
  42              		.loc 1 150 0
  43 0006 0D4B     		ldr	r3, .L5+4
  44 0008 1980     		strh	r1, [r3]	@ movhi
 151:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   
 152:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   /* Read ID and verify if the touch screen driver is ready */
 153:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   ft5336_ts_drv.Init(TS_I2C_ADDRESS);
  45              		.loc 1 153 0
  46 000a 0D4C     		ldr	r4, .L5+8
  47 000c 2368     		ldr	r3, [r4]
  48 000e 7020     		movs	r0, #112
  49              	.LVL2:
  50 0010 9847     		blx	r3
  51              	.LVL3:
 154:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   if(ft5336_ts_drv.ReadID(TS_I2C_ADDRESS) == FT5336_ID_VALUE)
  52              		.loc 1 154 0
  53 0012 6368     		ldr	r3, [r4, #4]
  54 0014 7020     		movs	r0, #112
  55 0016 9847     		blx	r3
  56              	.LVL4:
  57 0018 5128     		cmp	r0, #81
  58 001a 0BD1     		bne	.L3
 155:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   { 
 156:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     /* Initialize the TS driver structure */
 157:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     tsDriver = &ft5336_ts_drv;
  59              		.loc 1 157 0
  60 001c 094A     		ldr	r2, .L5+12
  61 001e 1460     		str	r4, [r2]
 158:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     I2cAddress = TS_I2C_ADDRESS;
  62              		.loc 1 158 0
  63 0020 7020     		movs	r0, #112
  64 0022 094A     		ldr	r2, .L5+16
  65 0024 1070     		strb	r0, [r2]
 159:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     tsOrientation = TS_SWAP_XY;
  66              		.loc 1 159 0
  67 0026 094A     		ldr	r2, .L5+20
  68 0028 0821     		movs	r1, #8
  69 002a 1170     		strb	r1, [r2]
 160:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 5


 161:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     /* Initialize the TS driver */
 162:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     tsDriver->Start(I2cAddress);
  70              		.loc 1 162 0
  71 002c E368     		ldr	r3, [r4, #12]
  72 002e 9847     		blx	r3
  73              	.LVL5:
 148:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   tsXBoundary = ts_SizeX;
  74              		.loc 1 148 0
  75 0030 0020     		movs	r0, #0
  76              	.L2:
  77              	.LVL6:
 163:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   }
 164:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   else
 165:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   {
 166:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     status = TS_DEVICE_NOT_FOUND;
 167:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   }
 168:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 169:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   return status;
 170:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** }
  78              		.loc 1 170 0
  79 0032 10BD     		pop	{r4, pc}
  80              	.LVL7:
  81              	.L3:
 166:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   }
  82              		.loc 1 166 0
  83 0034 0320     		movs	r0, #3
  84 0036 FCE7     		b	.L2
  85              	.L6:
  86              		.align	2
  87              	.L5:
  88 0038 00000000 		.word	.LANCHOR0
  89 003c 00000000 		.word	.LANCHOR1
  90 0040 00000000 		.word	ft5336_ts_drv
  91 0044 00000000 		.word	.LANCHOR2
  92 0048 00000000 		.word	.LANCHOR3
  93 004c 00000000 		.word	.LANCHOR4
  94              		.cfi_endproc
  95              	.LFE138:
  97              		.section	.text.BSP_TS_DeInit,"ax",%progbits
  98              		.align	1
  99              		.global	BSP_TS_DeInit
 100              		.syntax unified
 101              		.thumb
 102              		.thumb_func
 103              		.fpu fpv5-sp-d16
 105              	BSP_TS_DeInit:
 106              	.LFB139:
 171:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 172:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
 173:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @brief  DeInitializes the TouchScreen.
 174:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @retval TS state
 175:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */
 176:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** uint8_t BSP_TS_DeInit(void)
 177:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** { 
 107              		.loc 1 177 0
 108              		.cfi_startproc
 109              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 6


 110              		@ frame_needed = 0, uses_anonymous_args = 0
 111              		@ link register save eliminated.
 178:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   /* Actually ts_driver does not provide a DeInit function */
 179:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   return TS_OK;
 180:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** }
 112              		.loc 1 180 0
 113 0000 0020     		movs	r0, #0
 114 0002 7047     		bx	lr
 115              		.cfi_endproc
 116              	.LFE139:
 118              		.section	.text.BSP_TS_ITConfig,"ax",%progbits
 119              		.align	1
 120              		.global	BSP_TS_ITConfig
 121              		.syntax unified
 122              		.thumb
 123              		.thumb_func
 124              		.fpu fpv5-sp-d16
 126              	BSP_TS_ITConfig:
 127              	.LFB140:
 181:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 182:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
 183:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @brief  Configures and enables the touch screen interrupts.
 184:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @retval TS_OK if all initializations are OK. Other value if error.
 185:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */
 186:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** uint8_t BSP_TS_ITConfig(void)
 187:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** {
 128              		.loc 1 187 0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 24
 131              		@ frame_needed = 0, uses_anonymous_args = 0
 132 0000 10B5     		push	{r4, lr}
 133              	.LCFI1:
 134              		.cfi_def_cfa_offset 8
 135              		.cfi_offset 4, -8
 136              		.cfi_offset 14, -4
 137 0002 86B0     		sub	sp, sp, #24
 138              	.LCFI2:
 139              		.cfi_def_cfa_offset 32
 188:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   GPIO_InitTypeDef gpio_init_structure;
 189:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 190:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   /* Configure Interrupt mode for SD detection pin */
 191:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   gpio_init_structure.Pin = TS_INT_PIN;
 140              		.loc 1 191 0
 141 0004 4FF40053 		mov	r3, #8192
 142 0008 0193     		str	r3, [sp, #4]
 192:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
 143              		.loc 1 192 0
 144 000a 0024     		movs	r4, #0
 145 000c 0394     		str	r4, [sp, #12]
 193:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   gpio_init_structure.Speed = GPIO_SPEED_FAST;
 146              		.loc 1 193 0
 147 000e 0223     		movs	r3, #2
 148 0010 0493     		str	r3, [sp, #16]
 194:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   gpio_init_structure.Mode = GPIO_MODE_IT_RISING;
 149              		.loc 1 194 0
 150 0012 0B4B     		ldr	r3, .L10
 151 0014 0293     		str	r3, [sp, #8]
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 7


 195:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   HAL_GPIO_Init(TS_INT_GPIO_PORT, &gpio_init_structure);
 152              		.loc 1 195 0
 153 0016 01A9     		add	r1, sp, #4
 154 0018 0A48     		ldr	r0, .L10+4
 155 001a FFF7FEFF 		bl	HAL_GPIO_Init
 156              	.LVL8:
 196:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 197:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   /* Enable and set Touch screen EXTI Interrupt to the lowest priority */
 198:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   HAL_NVIC_SetPriority((IRQn_Type)(TS_INT_EXTI_IRQn), 0x0F, 0x00);
 157              		.loc 1 198 0
 158 001e 2246     		mov	r2, r4
 159 0020 0F21     		movs	r1, #15
 160 0022 2820     		movs	r0, #40
 161 0024 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 162              	.LVL9:
 199:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   HAL_NVIC_EnableIRQ((IRQn_Type)(TS_INT_EXTI_IRQn));
 163              		.loc 1 199 0
 164 0028 2820     		movs	r0, #40
 165 002a FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 166              	.LVL10:
 200:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 201:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   /* Enable the TS ITs */
 202:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   tsDriver->EnableIT(I2cAddress);
 167              		.loc 1 202 0
 168 002e 064B     		ldr	r3, .L10+8
 169 0030 1B68     		ldr	r3, [r3]
 170 0032 9B69     		ldr	r3, [r3, #24]
 171 0034 054A     		ldr	r2, .L10+12
 172 0036 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 173 0038 9847     		blx	r3
 174              	.LVL11:
 203:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 204:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   return TS_OK;  
 205:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** }
 175              		.loc 1 205 0
 176 003a 2046     		mov	r0, r4
 177 003c 06B0     		add	sp, sp, #24
 178              	.LCFI3:
 179              		.cfi_def_cfa_offset 8
 180              		@ sp needed
 181 003e 10BD     		pop	{r4, pc}
 182              	.L11:
 183              		.align	2
 184              	.L10:
 185 0040 00001110 		.word	269549568
 186 0044 00200240 		.word	1073881088
 187 0048 00000000 		.word	.LANCHOR2
 188 004c 00000000 		.word	.LANCHOR3
 189              		.cfi_endproc
 190              	.LFE140:
 192              		.section	.text.BSP_TS_ITGetStatus,"ax",%progbits
 193              		.align	1
 194              		.global	BSP_TS_ITGetStatus
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 198              		.fpu fpv5-sp-d16
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 8


 200              	BSP_TS_ITGetStatus:
 201              	.LFB141:
 206:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 207:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
 208:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @brief  Gets the touch screen interrupt status.
 209:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @retval TS_OK if all initializations are OK. Other value if error.
 210:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */
 211:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** uint8_t BSP_TS_ITGetStatus(void)
 212:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** {
 202              		.loc 1 212 0
 203              		.cfi_startproc
 204              		@ args = 0, pretend = 0, frame = 0
 205              		@ frame_needed = 0, uses_anonymous_args = 0
 206 0000 08B5     		push	{r3, lr}
 207              	.LCFI4:
 208              		.cfi_def_cfa_offset 8
 209              		.cfi_offset 3, -8
 210              		.cfi_offset 14, -4
 213:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   /* Return the TS IT status */
 214:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   return (tsDriver->GetITStatus(I2cAddress));
 211              		.loc 1 214 0
 212 0002 034B     		ldr	r3, .L14
 213 0004 1B68     		ldr	r3, [r3]
 214 0006 1B6A     		ldr	r3, [r3, #32]
 215 0008 024A     		ldr	r2, .L14+4
 216 000a 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 217 000c 9847     		blx	r3
 218              	.LVL12:
 215:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** }
 219              		.loc 1 215 0
 220 000e 08BD     		pop	{r3, pc}
 221              	.L15:
 222              		.align	2
 223              	.L14:
 224 0010 00000000 		.word	.LANCHOR2
 225 0014 00000000 		.word	.LANCHOR3
 226              		.cfi_endproc
 227              	.LFE141:
 229              		.section	.text.BSP_TS_Get_GestureId,"ax",%progbits
 230              		.align	1
 231              		.global	BSP_TS_Get_GestureId
 232              		.syntax unified
 233              		.thumb
 234              		.thumb_func
 235              		.fpu fpv5-sp-d16
 237              	BSP_TS_Get_GestureId:
 238              	.LFB143:
 216:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 217:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
 218:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @brief  Returns status and positions of the touch screen.
 219:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @param  TS_State: Pointer to touch screen current state structure
 220:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @retval TS_OK if all initializations are OK. Other value if error.
 221:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */
 222:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** uint8_t BSP_TS_GetState(TS_StateTypeDef *TS_State)
 223:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** {
 224:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   static uint32_t _x[TS_MAX_NB_TOUCH] = {0, 0};
 225:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   static uint32_t _y[TS_MAX_NB_TOUCH] = {0, 0};
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 9


 226:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint8_t ts_status = TS_OK;
 227:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint16_t x[TS_MAX_NB_TOUCH];
 228:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint16_t y[TS_MAX_NB_TOUCH];
 229:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint16_t brute_x[TS_MAX_NB_TOUCH];
 230:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint16_t brute_y[TS_MAX_NB_TOUCH];
 231:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint16_t x_diff;
 232:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint16_t y_diff;
 233:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint32_t index;
 234:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** #if (TS_MULTI_TOUCH_SUPPORTED == 1)
 235:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint32_t weight = 0;
 236:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint32_t area = 0;
 237:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint32_t event = 0;
 238:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** #endif /* TS_MULTI_TOUCH_SUPPORTED == 1 */
 239:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 240:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   /* Check and update the number of touches active detected */
 241:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   TS_State->touchDetected = tsDriver->DetectTouch(I2cAddress);
 242:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   
 243:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   if(TS_State->touchDetected)
 244:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   {
 245:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     for(index=0; index < TS_State->touchDetected; index++)
 246:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     {
 247:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       /* Get each touch coordinates */
 248:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       tsDriver->GetXY(I2cAddress, &(brute_x[index]), &(brute_y[index]));
 249:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 250:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       if(tsOrientation == TS_SWAP_NONE)
 251:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 252:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         x[index] = brute_x[index];
 253:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         y[index] = brute_y[index];
 254:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 255:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 256:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       if(tsOrientation & TS_SWAP_X)
 257:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 258:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         x[index] = 4096 - brute_x[index];
 259:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 260:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 261:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       if(tsOrientation & TS_SWAP_Y)
 262:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 263:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         y[index] = 4096 - brute_y[index];
 264:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 265:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 266:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       if(tsOrientation & TS_SWAP_XY)
 267:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 268:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         y[index] = brute_x[index];
 269:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         x[index] = brute_y[index];
 270:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 271:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 272:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       x_diff = x[index] > _x[index]? (x[index] - _x[index]): (_x[index] - x[index]);
 273:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       y_diff = y[index] > _y[index]? (y[index] - _y[index]): (_y[index] - y[index]);
 274:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 275:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       if ((x_diff + y_diff) > 5)
 276:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 277:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         _x[index] = x[index];
 278:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         _y[index] = y[index];
 279:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 280:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 281:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       if(I2cAddress == FT5336_I2C_SLAVE_ADDRESS)
 282:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 10


 283:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         TS_State->touchX[index] = x[index];
 284:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         TS_State->touchY[index] = y[index];
 285:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 286:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       else
 287:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 288:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         /* 2^12 = 4096 : indexes are expressed on a dynamic of 4096 */
 289:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         TS_State->touchX[index] = (tsXBoundary * _x[index]) >> 12;
 290:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         TS_State->touchY[index] = (tsYBoundary * _y[index]) >> 12;
 291:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 292:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 293:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** #if (TS_MULTI_TOUCH_SUPPORTED == 1)
 294:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 295:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       /* Get touch info related to the current touch */
 296:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       ft5336_TS_GetTouchInfo(I2cAddress, index, &weight, &area, &event);
 297:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 298:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       /* Update TS_State structure */
 299:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->touchWeight[index] = weight;
 300:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->touchArea[index]   = area;
 301:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 302:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       /* Remap touch event */
 303:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       switch(event)
 304:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 305:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         case FT5336_TOUCH_EVT_FLAG_PRESS_DOWN	:
 306:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           TS_State->touchEventId[index] = TOUCH_EVENT_PRESS_DOWN;
 307:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           break;
 308:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         case FT5336_TOUCH_EVT_FLAG_LIFT_UP :
 309:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           TS_State->touchEventId[index] = TOUCH_EVENT_LIFT_UP;
 310:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           break;
 311:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         case FT5336_TOUCH_EVT_FLAG_CONTACT :
 312:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           TS_State->touchEventId[index] = TOUCH_EVENT_CONTACT;
 313:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           break;
 314:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         case FT5336_TOUCH_EVT_FLAG_NO_EVENT :
 315:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           TS_State->touchEventId[index] = TOUCH_EVENT_NO_EVT;
 316:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           break;
 317:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         default :
 318:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           ts_status = TS_ERROR;
 319:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           break;
 320:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       } /* of switch(event) */
 321:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 322:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** #endif /* TS_MULTI_TOUCH_SUPPORTED == 1 */
 323:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 324:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     } /* of for(index=0; index < TS_State->touchDetected; index++) */
 325:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 326:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** #if (TS_MULTI_TOUCH_SUPPORTED == 1)
 327:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     /* Get gesture Id */
 328:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     ts_status = BSP_TS_Get_GestureId(TS_State);
 329:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** #endif /* TS_MULTI_TOUCH_SUPPORTED == 1 */
 330:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 331:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   } /* end of if(TS_State->touchDetected != 0) */
 332:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 333:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   return (ts_status);
 334:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** }
 335:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 336:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** #if (TS_MULTI_TOUCH_SUPPORTED == 1)
 337:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
 338:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @brief  Update gesture Id following a touch detected.
 339:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @param  TS_State: Pointer to touch screen current state structure
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 11


 340:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @retval TS_OK if all initializations are OK. Other value if error.
 341:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */
 342:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** uint8_t BSP_TS_Get_GestureId(TS_StateTypeDef *TS_State)
 343:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** {
 239              		.loc 1 343 0
 240              		.cfi_startproc
 241              		@ args = 0, pretend = 0, frame = 8
 242              		@ frame_needed = 0, uses_anonymous_args = 0
 243              	.LVL13:
 244 0000 10B5     		push	{r4, lr}
 245              	.LCFI5:
 246              		.cfi_def_cfa_offset 8
 247              		.cfi_offset 4, -8
 248              		.cfi_offset 14, -4
 249 0002 82B0     		sub	sp, sp, #8
 250              	.LCFI6:
 251              		.cfi_def_cfa_offset 16
 252 0004 0446     		mov	r4, r0
 344:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint32_t gestureId = 0;
 253              		.loc 1 344 0
 254 0006 02A9     		add	r1, sp, #8
 255 0008 0023     		movs	r3, #0
 256 000a 41F8043D 		str	r3, [r1, #-4]!
 257              	.LVL14:
 345:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint8_t  ts_status = TS_OK;
 346:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 347:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   /* Get gesture Id */
 348:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   ft5336_TS_GetGestureID(I2cAddress, &gestureId);
 258              		.loc 1 348 0
 259 000e 184B     		ldr	r3, .L29
 260 0010 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 261              	.LVL15:
 262 0012 FFF7FEFF 		bl	ft5336_TS_GetGestureID
 263              	.LVL16:
 349:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 350:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   /* Remap gesture Id to a TS_GestureIdTypeDef value */
 351:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   switch(gestureId)
 264              		.loc 1 351 0
 265 0016 019B     		ldr	r3, [sp, #4]
 266 0018 182B     		cmp	r3, #24
 267 001a 1DD0     		beq	.L18
 268 001c 06D8     		bhi	.L19
 269 001e 102B     		cmp	r3, #16
 270 0020 12D0     		beq	.L20
 271 0022 142B     		cmp	r3, #20
 272 0024 14D0     		beq	.L21
 273 0026 5BB1     		cbz	r3, .L28
 274              	.L26:
 352:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   {
 353:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     case FT5336_GEST_ID_NO_GESTURE :
 354:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->gestureId = GEST_ID_NO_GESTURE;
 355:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 356:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     case FT5336_GEST_ID_MOVE_UP :
 357:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->gestureId = GEST_ID_MOVE_UP;
 358:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 359:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     case FT5336_GEST_ID_MOVE_RIGHT :
 360:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->gestureId = GEST_ID_MOVE_RIGHT;
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 12


 361:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 362:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     case FT5336_GEST_ID_MOVE_DOWN :
 363:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->gestureId = GEST_ID_MOVE_DOWN;
 364:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 365:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     case FT5336_GEST_ID_MOVE_LEFT :
 366:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->gestureId = GEST_ID_MOVE_LEFT;
 367:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 368:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     case FT5336_GEST_ID_ZOOM_IN :
 369:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->gestureId = GEST_ID_ZOOM_IN;
 370:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 371:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     case FT5336_GEST_ID_ZOOM_OUT :
 372:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->gestureId = GEST_ID_ZOOM_OUT;
 373:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 374:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     default :
 375:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       ts_status = TS_ERROR;
 275              		.loc 1 375 0
 276 0028 0120     		movs	r0, #1
 277 002a 0BE0     		b	.L17
 278              	.L19:
 351:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   {
 279              		.loc 1 351 0
 280 002c 402B     		cmp	r3, #64
 281 002e 17D0     		beq	.L23
 282 0030 492B     		cmp	r3, #73
 283 0032 19D0     		beq	.L24
 284 0034 1C2B     		cmp	r3, #28
 285 0036 F7D1     		bne	.L26
 366:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 286              		.loc 1 366 0
 287 0038 0423     		movs	r3, #4
 288 003a A362     		str	r3, [r4, #40]
 345:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 289              		.loc 1 345 0
 290 003c 0020     		movs	r0, #0
 367:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     case FT5336_GEST_ID_ZOOM_IN :
 291              		.loc 1 367 0
 292 003e 01E0     		b	.L17
 293              	.L28:
 354:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 294              		.loc 1 354 0
 295 0040 0020     		movs	r0, #0
 296 0042 A062     		str	r0, [r4, #40]
 297              	.L17:
 298              	.LVL17:
 376:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 377:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   } /* of switch(gestureId) */
 378:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 379:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   return(ts_status);
 380:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** }
 299              		.loc 1 380 0
 300 0044 02B0     		add	sp, sp, #8
 301              	.LCFI7:
 302              		.cfi_remember_state
 303              		.cfi_def_cfa_offset 8
 304              		@ sp needed
 305 0046 10BD     		pop	{r4, pc}
 306              	.LVL18:
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 13


 307              	.L20:
 308              	.LCFI8:
 309              		.cfi_restore_state
 357:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 310              		.loc 1 357 0
 311 0048 0123     		movs	r3, #1
 312 004a A362     		str	r3, [r4, #40]
 345:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 313              		.loc 1 345 0
 314 004c 0020     		movs	r0, #0
 358:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     case FT5336_GEST_ID_MOVE_RIGHT :
 315              		.loc 1 358 0
 316 004e F9E7     		b	.L17
 317              	.L21:
 360:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 318              		.loc 1 360 0
 319 0050 0223     		movs	r3, #2
 320 0052 A362     		str	r3, [r4, #40]
 345:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 321              		.loc 1 345 0
 322 0054 0020     		movs	r0, #0
 361:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     case FT5336_GEST_ID_MOVE_DOWN :
 323              		.loc 1 361 0
 324 0056 F5E7     		b	.L17
 325              	.L18:
 363:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 326              		.loc 1 363 0
 327 0058 0323     		movs	r3, #3
 328 005a A362     		str	r3, [r4, #40]
 345:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 329              		.loc 1 345 0
 330 005c 0020     		movs	r0, #0
 364:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     case FT5336_GEST_ID_MOVE_LEFT :
 331              		.loc 1 364 0
 332 005e F1E7     		b	.L17
 333              	.L23:
 369:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 334              		.loc 1 369 0
 335 0060 0523     		movs	r3, #5
 336 0062 A362     		str	r3, [r4, #40]
 345:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 337              		.loc 1 345 0
 338 0064 0020     		movs	r0, #0
 370:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     case FT5336_GEST_ID_ZOOM_OUT :
 339              		.loc 1 370 0
 340 0066 EDE7     		b	.L17
 341              	.L24:
 372:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       break;
 342              		.loc 1 372 0
 343 0068 0623     		movs	r3, #6
 344 006a A362     		str	r3, [r4, #40]
 345:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 345              		.loc 1 345 0
 346 006c 0020     		movs	r0, #0
 373:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     default :
 347              		.loc 1 373 0
 348 006e E9E7     		b	.L17
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 14


 349              	.L30:
 350              		.align	2
 351              	.L29:
 352 0070 00000000 		.word	.LANCHOR3
 353              		.cfi_endproc
 354              	.LFE143:
 356              		.section	.text.BSP_TS_GetState,"ax",%progbits
 357              		.align	1
 358              		.global	BSP_TS_GetState
 359              		.syntax unified
 360              		.thumb
 361              		.thumb_func
 362              		.fpu fpv5-sp-d16
 364              	BSP_TS_GetState:
 365              	.LFB142:
 223:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   static uint32_t _x[TS_MAX_NB_TOUCH] = {0, 0};
 366              		.loc 1 223 0
 367              		.cfi_startproc
 368              		@ args = 0, pretend = 0, frame = 64
 369              		@ frame_needed = 0, uses_anonymous_args = 0
 370              	.LVL19:
 371 0000 30B5     		push	{r4, r5, lr}
 372              	.LCFI9:
 373              		.cfi_def_cfa_offset 12
 374              		.cfi_offset 4, -12
 375              		.cfi_offset 5, -8
 376              		.cfi_offset 14, -4
 377 0002 93B0     		sub	sp, sp, #76
 378              	.LCFI10:
 379              		.cfi_def_cfa_offset 88
 380 0004 0546     		mov	r5, r0
 381              	.LVL20:
 235:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint32_t area = 0;
 382              		.loc 1 235 0
 383 0006 0023     		movs	r3, #0
 384 0008 0593     		str	r3, [sp, #20]
 236:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint32_t event = 0;
 385              		.loc 1 236 0
 386 000a 0493     		str	r3, [sp, #16]
 237:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** #endif /* TS_MULTI_TOUCH_SUPPORTED == 1 */
 387              		.loc 1 237 0
 388 000c 0393     		str	r3, [sp, #12]
 241:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   
 389              		.loc 1 241 0
 390 000e 694B     		ldr	r3, .L57
 391 0010 1B68     		ldr	r3, [r3]
 392 0012 1B69     		ldr	r3, [r3, #16]
 393 0014 684A     		ldr	r2, .L57+4
 394 0016 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 395              	.LVL21:
 396 0018 9847     		blx	r3
 397              	.LVL22:
 398 001a 2870     		strb	r0, [r5]
 243:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   {
 399              		.loc 1 243 0
 400 001c 0028     		cmp	r0, #0
 401 001e 00F0C680 		beq	.L33
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 15


 245:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     {
 402              		.loc 1 245 0
 403 0022 0024     		movs	r4, #0
 404 0024 1FE0     		b	.L32
 405              	.LVL23:
 406              	.L55:
 252:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         y[index] = brute_y[index];
 407              		.loc 1 252 0
 408 0026 12AA     		add	r2, sp, #72
 409 0028 02EB4402 		add	r2, r2, r4, lsl #1
 410 002c 32F8241C 		ldrh	r1, [r2, #-36]
 411 0030 22F80C1C 		strh	r1, [r2, #-12]	@ movhi
 253:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 412              		.loc 1 253 0
 413 0034 32F8301C 		ldrh	r1, [r2, #-48]
 414 0038 22F8181C 		strh	r1, [r2, #-24]	@ movhi
 415 003c 26E0     		b	.L34
 416              	.L38:
 272:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       y_diff = y[index] > _y[index]? (y[index] - _y[index]): (_y[index] - y[index]);
 417              		.loc 1 272 0 discriminator 2
 418 003e 9BB2     		uxth	r3, r3
 419 0040 5B1A     		subs	r3, r3, r1
 420 0042 9BB2     		uxth	r3, r3
 421 0044 55E0     		b	.L39
 422              	.LVL24:
 423              	.L40:
 273:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 424              		.loc 1 273 0 discriminator 2
 425 0046 92B2     		uxth	r2, r2
 426 0048 121A     		subs	r2, r2, r0
 427 004a 92B2     		uxth	r2, r2
 428 004c 5EE0     		b	.L41
 429              	.LVL25:
 430              	.L56:
 283:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         TS_State->touchY[index] = y[index];
 431              		.loc 1 283 0
 432 004e 05EB4403 		add	r3, r5, r4, lsl #1
 433 0052 5980     		strh	r1, [r3, #2]	@ movhi
 284:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 434              		.loc 1 284 0
 435 0054 231D     		adds	r3, r4, #4
 436 0056 05EB4303 		add	r3, r5, r3, lsl #1
 437 005a 9880     		strh	r0, [r3, #4]	@ movhi
 438 005c 7AE0     		b	.L44
 439              	.LVL26:
 440              	.L46:
 306:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           break;
 441              		.loc 1 306 0
 442 005e 2B19     		adds	r3, r5, r4
 443 0060 0122     		movs	r2, #1
 444 0062 DA76     		strb	r2, [r3, #27]
 445              	.L45:
 245:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     {
 446              		.loc 1 245 0 discriminator 2
 447 0064 0134     		adds	r4, r4, #1
 448              	.LVL27:
 449              	.L32:
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 16


 245:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     {
 450              		.loc 1 245 0 is_stmt 0 discriminator 1
 451 0066 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 452 0068 A342     		cmp	r3, r4
 453 006a 40F29D80 		bls	.L54
 248:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 454              		.loc 1 248 0 is_stmt 1
 455 006e 514B     		ldr	r3, .L57
 456 0070 1B68     		ldr	r3, [r3]
 457 0072 5B69     		ldr	r3, [r3, #20]
 458 0074 6100     		lsls	r1, r4, #1
 459 0076 06AA     		add	r2, sp, #24
 460 0078 0A44     		add	r2, r2, r1
 461 007a 09A8     		add	r0, sp, #36
 462 007c 0144     		add	r1, r1, r0
 463 007e 4E48     		ldr	r0, .L57+4
 464 0080 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 465 0082 9847     		blx	r3
 466              	.LVL28:
 250:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 467              		.loc 1 250 0
 468 0084 4D4B     		ldr	r3, .L57+8
 469 0086 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 470 0088 012B     		cmp	r3, #1
 471 008a CCD0     		beq	.L55
 472              	.L34:
 256:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 473              		.loc 1 256 0
 474 008c 13F0020F 		tst	r3, #2
 475 0090 08D0     		beq	.L35
 258:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 476              		.loc 1 258 0
 477 0092 12AA     		add	r2, sp, #72
 478 0094 02EB4401 		add	r1, r2, r4, lsl #1
 479 0098 31F8242C 		ldrh	r2, [r1, #-36]
 480 009c C2F58052 		rsb	r2, r2, #4096
 481 00a0 21F80C2C 		strh	r2, [r1, #-12]	@ movhi
 482              	.L35:
 261:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 483              		.loc 1 261 0
 484 00a4 13F0040F 		tst	r3, #4
 485 00a8 08D0     		beq	.L36
 263:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 486              		.loc 1 263 0
 487 00aa 12AA     		add	r2, sp, #72
 488 00ac 02EB4401 		add	r1, r2, r4, lsl #1
 489 00b0 31F8302C 		ldrh	r2, [r1, #-48]
 490 00b4 C2F58052 		rsb	r2, r2, #4096
 491 00b8 21F8182C 		strh	r2, [r1, #-24]	@ movhi
 492              	.L36:
 266:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 493              		.loc 1 266 0
 494 00bc 13F0080F 		tst	r3, #8
 495 00c0 0AD0     		beq	.L37
 268:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         x[index] = brute_y[index];
 496              		.loc 1 268 0
 497 00c2 12AB     		add	r3, sp, #72
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 17


 498 00c4 03EB4403 		add	r3, r3, r4, lsl #1
 499 00c8 33F8242C 		ldrh	r2, [r3, #-36]
 500 00cc 23F8182C 		strh	r2, [r3, #-24]	@ movhi
 269:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 501              		.loc 1 269 0
 502 00d0 33F8302C 		ldrh	r2, [r3, #-48]
 503 00d4 23F80C2C 		strh	r2, [r3, #-12]	@ movhi
 504              	.L37:
 272:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       y_diff = y[index] > _y[index]? (y[index] - _y[index]): (_y[index] - y[index]);
 505              		.loc 1 272 0
 506 00d8 12AB     		add	r3, sp, #72
 507 00da 03EB4403 		add	r3, r3, r4, lsl #1
 508 00de 33F80C1C 		ldrh	r1, [r3, #-12]
 509 00e2 374B     		ldr	r3, .L57+12
 510 00e4 53F82430 		ldr	r3, [r3, r4, lsl #2]
 511 00e8 9942     		cmp	r1, r3
 512 00ea A8D9     		bls	.L38
 272:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       y_diff = y[index] > _y[index]? (y[index] - _y[index]): (_y[index] - y[index]);
 513              		.loc 1 272 0 is_stmt 0 discriminator 1
 514 00ec 9BB2     		uxth	r3, r3
 515 00ee CB1A     		subs	r3, r1, r3
 516 00f0 9BB2     		uxth	r3, r3
 517              	.L39:
 518              	.LVL29:
 273:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 519              		.loc 1 273 0 is_stmt 1 discriminator 4
 520 00f2 12AA     		add	r2, sp, #72
 521 00f4 02EB4402 		add	r2, r2, r4, lsl #1
 522 00f8 32F8180C 		ldrh	r0, [r2, #-24]
 523 00fc 314A     		ldr	r2, .L57+16
 524 00fe 52F82420 		ldr	r2, [r2, r4, lsl #2]
 525 0102 9042     		cmp	r0, r2
 526 0104 9FD9     		bls	.L40
 273:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 527              		.loc 1 273 0 is_stmt 0 discriminator 1
 528 0106 92B2     		uxth	r2, r2
 529 0108 821A     		subs	r2, r0, r2
 530 010a 92B2     		uxth	r2, r2
 531              	.L41:
 532              	.LVL30:
 275:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 533              		.loc 1 275 0 is_stmt 1 discriminator 4
 534 010c 1344     		add	r3, r3, r2
 535              	.LVL31:
 536 010e 052B     		cmp	r3, #5
 537 0110 05DD     		ble	.L42
 277:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         _y[index] = y[index];
 538              		.loc 1 277 0
 539 0112 2B4B     		ldr	r3, .L57+12
 540 0114 43F82410 		str	r1, [r3, r4, lsl #2]
 278:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 541              		.loc 1 278 0
 542 0118 2A4B     		ldr	r3, .L57+16
 543 011a 43F82400 		str	r0, [r3, r4, lsl #2]
 544              	.L42:
 281:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 545              		.loc 1 281 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 18


 546 011e 264B     		ldr	r3, .L57+4
 547 0120 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 548 0122 702B     		cmp	r3, #112
 549 0124 93D0     		beq	.L56
 289:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         TS_State->touchY[index] = (tsYBoundary * _y[index]) >> 12;
 550              		.loc 1 289 0
 551 0126 264B     		ldr	r3, .L57+12
 552 0128 53F82430 		ldr	r3, [r3, r4, lsl #2]
 553 012c 264A     		ldr	r2, .L57+20
 554              	.LVL32:
 555 012e 1288     		ldrh	r2, [r2]
 556 0130 03FB02F3 		mul	r3, r3, r2
 557 0134 1B0B     		lsrs	r3, r3, #12
 558 0136 05EB4402 		add	r2, r5, r4, lsl #1
 559 013a 5380     		strh	r3, [r2, #2]	@ movhi
 290:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       }
 560              		.loc 1 290 0
 561 013c 214B     		ldr	r3, .L57+16
 562 013e 53F82430 		ldr	r3, [r3, r4, lsl #2]
 563 0142 224A     		ldr	r2, .L57+24
 564 0144 1288     		ldrh	r2, [r2]
 565 0146 03FB02F3 		mul	r3, r3, r2
 566 014a 1B0B     		lsrs	r3, r3, #12
 567 014c 221D     		adds	r2, r4, #4
 568 014e 05EB4202 		add	r2, r5, r2, lsl #1
 569 0152 9380     		strh	r3, [r2, #4]	@ movhi
 570              	.L44:
 296:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 571              		.loc 1 296 0
 572 0154 184B     		ldr	r3, .L57+4
 573 0156 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 574 0158 03AB     		add	r3, sp, #12
 575 015a 0093     		str	r3, [sp]
 576 015c 04AB     		add	r3, sp, #16
 577 015e 05AA     		add	r2, sp, #20
 578 0160 2146     		mov	r1, r4
 579 0162 FFF7FEFF 		bl	ft5336_TS_GetTouchInfo
 580              	.LVL33:
 299:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->touchArea[index]   = area;
 581              		.loc 1 299 0
 582 0166 2B19     		adds	r3, r5, r4
 583 0168 059A     		ldr	r2, [sp, #20]
 584 016a 9A75     		strb	r2, [r3, #22]
 300:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 585              		.loc 1 300 0
 586 016c 049A     		ldr	r2, [sp, #16]
 587 016e 83F82020 		strb	r2, [r3, #32]
 303:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       {
 588              		.loc 1 303 0
 589 0172 039B     		ldr	r3, [sp, #12]
 590 0174 032B     		cmp	r3, #3
 591 0176 3FF675AF 		bhi	.L45
 592 017a 01A2     		adr	r2, .L47
 593 017c 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 594              		.p2align 2
 595              	.L47:
 596 0180 5F000000 		.word	.L46+1
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 19


 597 0184 91010000 		.word	.L48+1
 598 0188 99010000 		.word	.L49+1
 599 018c A1010000 		.word	.L50+1
 600              		.p2align 1
 601              	.L48:
 309:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           break;
 602              		.loc 1 309 0
 603 0190 2B19     		adds	r3, r5, r4
 604 0192 0222     		movs	r2, #2
 605 0194 DA76     		strb	r2, [r3, #27]
 310:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         case FT5336_TOUCH_EVT_FLAG_CONTACT :
 606              		.loc 1 310 0
 607 0196 65E7     		b	.L45
 608              	.L49:
 312:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           break;
 609              		.loc 1 312 0
 610 0198 2B19     		adds	r3, r5, r4
 611 019a 0322     		movs	r2, #3
 612 019c DA76     		strb	r2, [r3, #27]
 313:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         case FT5336_TOUCH_EVT_FLAG_NO_EVENT :
 613              		.loc 1 313 0
 614 019e 61E7     		b	.L45
 615              	.L50:
 315:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****           break;
 616              		.loc 1 315 0
 617 01a0 2B19     		adds	r3, r5, r4
 618 01a2 0022     		movs	r2, #0
 619 01a4 DA76     		strb	r2, [r3, #27]
 316:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****         default :
 620              		.loc 1 316 0
 621 01a6 5DE7     		b	.L45
 622              	.L54:
 328:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** #endif /* TS_MULTI_TOUCH_SUPPORTED == 1 */
 623              		.loc 1 328 0
 624 01a8 2846     		mov	r0, r5
 625 01aa FFF7FEFF 		bl	BSP_TS_Get_GestureId
 626              	.LVL34:
 627              	.L33:
 334:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 628              		.loc 1 334 0
 629 01ae 13B0     		add	sp, sp, #76
 630              	.LCFI11:
 631              		.cfi_def_cfa_offset 12
 632              		@ sp needed
 633 01b0 30BD     		pop	{r4, r5, pc}
 634              	.LVL35:
 635              	.L58:
 636 01b2 00BF     		.align	2
 637              	.L57:
 638 01b4 00000000 		.word	.LANCHOR2
 639 01b8 00000000 		.word	.LANCHOR3
 640 01bc 00000000 		.word	.LANCHOR4
 641 01c0 00000000 		.word	.LANCHOR5
 642 01c4 00000000 		.word	.LANCHOR6
 643 01c8 00000000 		.word	.LANCHOR0
 644 01cc 00000000 		.word	.LANCHOR1
 645              		.cfi_endproc
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 20


 646              	.LFE142:
 648              		.section	.text.BSP_TS_ITClear,"ax",%progbits
 649              		.align	1
 650              		.global	BSP_TS_ITClear
 651              		.syntax unified
 652              		.thumb
 653              		.thumb_func
 654              		.fpu fpv5-sp-d16
 656              	BSP_TS_ITClear:
 657              	.LFB144:
 381:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** #endif /* TS_MULTI_TOUCH_SUPPORTED == 1 */
 382:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 383:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
 384:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @brief  Clears all touch screen interrupts.
 385:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */
 386:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** void BSP_TS_ITClear(void)
 387:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** {
 658              		.loc 1 387 0
 659              		.cfi_startproc
 660              		@ args = 0, pretend = 0, frame = 0
 661              		@ frame_needed = 0, uses_anonymous_args = 0
 662 0000 08B5     		push	{r3, lr}
 663              	.LCFI12:
 664              		.cfi_def_cfa_offset 8
 665              		.cfi_offset 3, -8
 666              		.cfi_offset 14, -4
 388:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   /* Clear TS IT pending bits */
 389:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   tsDriver->ClearIT(I2cAddress); 
 667              		.loc 1 389 0
 668 0002 034B     		ldr	r3, .L61
 669 0004 1B68     		ldr	r3, [r3]
 670 0006 DB69     		ldr	r3, [r3, #28]
 671 0008 024A     		ldr	r2, .L61+4
 672 000a 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 673 000c 9847     		blx	r3
 674              	.LVL36:
 390:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** }
 675              		.loc 1 390 0
 676 000e 08BD     		pop	{r3, pc}
 677              	.L62:
 678              		.align	2
 679              	.L61:
 680 0010 00000000 		.word	.LANCHOR2
 681 0014 00000000 		.word	.LANCHOR3
 682              		.cfi_endproc
 683              	.LFE144:
 685              		.section	.text.BSP_TS_ResetTouchData,"ax",%progbits
 686              		.align	1
 687              		.global	BSP_TS_ResetTouchData
 688              		.syntax unified
 689              		.thumb
 690              		.thumb_func
 691              		.fpu fpv5-sp-d16
 693              	BSP_TS_ResetTouchData:
 694              	.LFB145:
 391:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 392:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 21


 393:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /** @defgroup STM32756G_DISCOVERY_TS_Private_Functions TS Private Functions
 394:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @{
 395:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */
 396:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 397:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 398:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** /**
 399:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @brief  Function used to reset all touch data before a new acquisition
 400:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   *         of touch information.
 401:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @param  TS_State: Pointer to touch screen current state structure
 402:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   * @retval TS_OK if OK, TE_ERROR if problem found.
 403:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   */
 404:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** uint8_t BSP_TS_ResetTouchData(TS_StateTypeDef *TS_State)
 405:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** {
 695              		.loc 1 405 0
 696              		.cfi_startproc
 697              		@ args = 0, pretend = 0, frame = 0
 698              		@ frame_needed = 0, uses_anonymous_args = 0
 699              		@ link register save eliminated.
 700              	.LVL37:
 406:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint8_t ts_status = TS_ERROR;
 407:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint32_t index;
 408:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 409:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   if (TS_State != (TS_StateTypeDef *)NULL)
 701              		.loc 1 409 0
 702 0000 C8B1     		cbz	r0, .L67
 405:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint8_t ts_status = TS_ERROR;
 703              		.loc 1 405 0
 704 0002 10B4     		push	{r4}
 705              	.LCFI13:
 706              		.cfi_def_cfa_offset 4
 707              		.cfi_offset 4, -4
 708 0004 0446     		mov	r4, r0
 410:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   {
 411:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     TS_State->gestureId = GEST_ID_NO_GESTURE;
 709              		.loc 1 411 0
 710 0006 0023     		movs	r3, #0
 711 0008 8362     		str	r3, [r0, #40]
 412:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     TS_State->touchDetected = 0;
 712              		.loc 1 412 0
 713 000a 0370     		strb	r3, [r0]
 714              	.LVL38:
 413:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 414:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     for(index = 0; index < TS_MAX_NB_TOUCH; index++)
 715              		.loc 1 414 0
 716 000c 0DE0     		b	.L65
 717              	.LVL39:
 718              	.L66:
 415:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     {
 416:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->touchX[index]       = 0;
 719              		.loc 1 416 0 discriminator 3
 720 000e 04EB4301 		add	r1, r4, r3, lsl #1
 721 0012 0022     		movs	r2, #0
 722 0014 4A80     		strh	r2, [r1, #2]	@ movhi
 417:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->touchY[index]       = 0;
 723              		.loc 1 417 0 discriminator 3
 724 0016 191D     		adds	r1, r3, #4
 725 0018 04EB4101 		add	r1, r4, r1, lsl #1
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 22


 726 001c 8A80     		strh	r2, [r1, #4]	@ movhi
 418:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->touchArea[index]    = 0;
 727              		.loc 1 418 0 discriminator 3
 728 001e E118     		adds	r1, r4, r3
 729 0020 81F82020 		strb	r2, [r1, #32]
 419:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->touchEventId[index] = TOUCH_EVENT_NO_EVT;
 730              		.loc 1 419 0 discriminator 3
 731 0024 CA76     		strb	r2, [r1, #27]
 420:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****       TS_State->touchWeight[index]  = 0;
 732              		.loc 1 420 0 discriminator 3
 733 0026 8A75     		strb	r2, [r1, #22]
 414:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     {
 734              		.loc 1 414 0 discriminator 3
 735 0028 0133     		adds	r3, r3, #1
 736              	.LVL40:
 737              	.L65:
 414:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     {
 738              		.loc 1 414 0 is_stmt 0 discriminator 1
 739 002a 042B     		cmp	r3, #4
 740 002c EFD9     		bls	.L66
 421:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     }
 422:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 423:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****     ts_status = TS_OK;
 741              		.loc 1 423 0 is_stmt 1
 742 002e 0020     		movs	r0, #0
 743              	.LVL41:
 424:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 425:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   } /* of if (TS_State != (TS_StateTypeDef *)NULL) */
 426:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** 
 427:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   return (ts_status);
 428:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c **** }
 744              		.loc 1 428 0
 745 0030 5DF8044B 		ldr	r4, [sp], #4
 746              	.LCFI14:
 747              		.cfi_restore 4
 748              		.cfi_def_cfa_offset 0
 749              	.LVL42:
 750 0034 7047     		bx	lr
 751              	.LVL43:
 752              	.L67:
 406:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c ****   uint32_t index;
 753              		.loc 1 406 0
 754 0036 0120     		movs	r0, #1
 755              	.LVL44:
 756              		.loc 1 428 0
 757 0038 7047     		bx	lr
 758              		.cfi_endproc
 759              	.LFE145:
 761              		.section	.bss.I2cAddress,"aw",%nobits
 762              		.set	.LANCHOR3,. + 0
 765              	I2cAddress:
 766 0000 00       		.space	1
 767              		.section	.bss._x.12002,"aw",%nobits
 768              		.align	2
 769              		.set	.LANCHOR5,. + 0
 772              	_x.12002:
 773 0000 00000000 		.space	20
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 23


 773      00000000 
 773      00000000 
 773      00000000 
 773      00000000 
 774              		.section	.bss._y.12003,"aw",%nobits
 775              		.align	2
 776              		.set	.LANCHOR6,. + 0
 779              	_y.12003:
 780 0000 00000000 		.space	20
 780      00000000 
 780      00000000 
 780      00000000 
 780      00000000 
 781              		.section	.bss.tsDriver,"aw",%nobits
 782              		.align	2
 783              		.set	.LANCHOR2,. + 0
 786              	tsDriver:
 787 0000 00000000 		.space	4
 788              		.section	.bss.tsOrientation,"aw",%nobits
 789              		.set	.LANCHOR4,. + 0
 792              	tsOrientation:
 793 0000 00       		.space	1
 794              		.section	.bss.tsXBoundary,"aw",%nobits
 795              		.align	1
 796              		.set	.LANCHOR0,. + 0
 799              	tsXBoundary:
 800 0000 0000     		.space	2
 801              		.section	.bss.tsYBoundary,"aw",%nobits
 802              		.align	1
 803              		.set	.LANCHOR1,. + 0
 806              	tsYBoundary:
 807 0000 0000     		.space	2
 808              		.text
 809              	.Letext0:
 810              		.file 2 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f746xx.h"
 811              		.file 3 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\machine\\_default
 812              		.file 4 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 813              		.file 5 "Drivers/CMSIS/Include/core_cm7.h"
 814              		.file 6 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 815              		.file 7 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\lock.h"
 816              		.file 8 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\_types.h"
 817              		.file 9 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\lib\\gcc\\arm-none-eabi\\7.3.1\\include\\
 818              		.file 10 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\reent.h"
 819              		.file 11 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_gpio.h"
 820              		.file 12 "d:\\sw\\drivers\\bsp\\components\\common\\ts.h"
 821              		.file 13 "d:\\sw\\drivers\\bsp\\components\\ft5336\\ft5336.h"
 822              		.file 14 "Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.h"
 823              		.file 15 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_cortex.h"
ARM GAS  C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s 			page 24


DEFINED SYMBOLS
                            *ABS*:00000000 stm32746g_discovery_ts.c
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:18     .text.BSP_TS_Init:00000000 $t
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:25     .text.BSP_TS_Init:00000000 BSP_TS_Init
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:88     .text.BSP_TS_Init:00000038 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:98     .text.BSP_TS_DeInit:00000000 $t
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:105    .text.BSP_TS_DeInit:00000000 BSP_TS_DeInit
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:119    .text.BSP_TS_ITConfig:00000000 $t
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:126    .text.BSP_TS_ITConfig:00000000 BSP_TS_ITConfig
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:185    .text.BSP_TS_ITConfig:00000040 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:193    .text.BSP_TS_ITGetStatus:00000000 $t
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:200    .text.BSP_TS_ITGetStatus:00000000 BSP_TS_ITGetStatus
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:224    .text.BSP_TS_ITGetStatus:00000010 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:230    .text.BSP_TS_Get_GestureId:00000000 $t
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:237    .text.BSP_TS_Get_GestureId:00000000 BSP_TS_Get_GestureId
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:352    .text.BSP_TS_Get_GestureId:00000070 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:357    .text.BSP_TS_GetState:00000000 $t
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:364    .text.BSP_TS_GetState:00000000 BSP_TS_GetState
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:596    .text.BSP_TS_GetState:00000180 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:600    .text.BSP_TS_GetState:00000190 $t
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:638    .text.BSP_TS_GetState:000001b4 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:649    .text.BSP_TS_ITClear:00000000 $t
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:656    .text.BSP_TS_ITClear:00000000 BSP_TS_ITClear
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:680    .text.BSP_TS_ITClear:00000010 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:686    .text.BSP_TS_ResetTouchData:00000000 $t
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:693    .text.BSP_TS_ResetTouchData:00000000 BSP_TS_ResetTouchData
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:765    .bss.I2cAddress:00000000 I2cAddress
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:766    .bss.I2cAddress:00000000 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:768    .bss._x.12002:00000000 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:772    .bss._x.12002:00000000 _x.12002
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:775    .bss._y.12003:00000000 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:779    .bss._y.12003:00000000 _y.12003
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:782    .bss.tsDriver:00000000 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:786    .bss.tsDriver:00000000 tsDriver
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:792    .bss.tsOrientation:00000000 tsOrientation
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:793    .bss.tsOrientation:00000000 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:795    .bss.tsXBoundary:00000000 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:799    .bss.tsXBoundary:00000000 tsXBoundary
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:802    .bss.tsYBoundary:00000000 $d
C:\Users\milek\AppData\Local\Temp\cc0Oa2Bq.s:806    .bss.tsYBoundary:00000000 tsYBoundary

UNDEFINED SYMBOLS
ft5336_ts_drv
HAL_GPIO_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
ft5336_TS_GetGestureID
ft5336_TS_GetTouchInfo
