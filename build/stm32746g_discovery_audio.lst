ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32746g_discovery_audio.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SAIx_Out_DeInit,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-sp-d16
  24              	SAIx_Out_DeInit:
  25              	.LFB160:
  26              		.file 1 "Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c"
   1:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
   2:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   ******************************************************************************
   3:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @file    stm32746g_discovery_audio.c
   4:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @author  MCD Application Team
   5:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief   This file provides the Audio driver for the STM32746G-Discovery board.
   6:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   @verbatim
   7:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     How To use this driver:
   8:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     -----------------------
   9:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        + This driver supports STM32F7xx devices on STM32746G-Discovery (MB1191) board.
  10:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        + Call the function BSP_AUDIO_OUT_Init(
  11:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****                                         OutputDevice: physical output mode (OUTPUT_DEVICE_SPEAKER, 
  12:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****                                                       OUTPUT_DEVICE_HEADPHONE or OUTPUT_DEVICE_BOTH
  13:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****                                         Volume      : Initial volume to be set (0 is min (mute), 10
  14:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****                                         AudioFreq   : Audio frequency in Hz (8000, 16000, 22500, 32
  15:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****                                                       this parameter is relative to the audio file/
  16:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****                                        )
  17:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           This function configures all the hardware required for the audio application (codec, I2C,
  18:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           GPIOs, DMA and interrupt if needed). This function returns AUDIO_OK if configuration is O
  19:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           If the returned value is different from AUDIO_OK or the function is stuck then the commun
  20:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           the codec or the MFX has failed (try to un-plug the power or reset device in this case).
  21:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           - OUTPUT_DEVICE_SPEAKER  : only speaker will be set as output for the audio stream.
  22:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           - OUTPUT_DEVICE_HEADPHONE: only headphones will be set as output for the audio stream.
  23:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           - OUTPUT_DEVICE_BOTH     : both Speaker and Headphone are used as outputs for the audio s
  24:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****                                      at the same time.
  25:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           Note. On STM32746G-Discovery SAI_DMA is configured in CIRCULAR mode. Due to this the appl
  26:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****             does NOT need to call BSP_AUDIO_OUT_ChangeBuffer() to assure streaming.
  27:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        + Call the function BSP_DISCOVERY_AUDIO_OUT_Play(
  28:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****                                       pBuffer: pointer to the audio data file address
  29:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****                                       Size   : size of the buffer to be sent in Bytes
  30:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****                                      )
  31:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           to start playing (for the first time) from the audio file/stream.
  32:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        + Call the function BSP_AUDIO_OUT_Pause() to pause playing   
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 2


  33:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        + Call the function BSP_AUDIO_OUT_Resume() to resume playing.
  34:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****            Note. After calling BSP_AUDIO_OUT_Pause() function for pause, only BSP_AUDIO_OUT_Resume(
  35:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****               for resume (it is not allowed to call BSP_AUDIO_OUT_Play() in this case).
  36:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****            Note. This function should be called only when the audio file is played or paused (not s
  37:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        + For each mode, you may need to implement the relative callback functions into your code.
  38:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           The Callback functions are named AUDIO_OUT_XXX_CallBack() and only their prototypes are d
  39:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           the stm32746g_discovery_audio.h file. (refer to the example for more details on the callb
  40:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        + To Stop playing, to modify the volume level, the frequency, the audio frame slot, 
  41:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           the device output mode the mute or the stop, use the functions: BSP_AUDIO_OUT_SetVolume()
  42:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           AUDIO_OUT_SetFrequency(), BSP_AUDIO_OUT_SetAudioFrameSlot(), BSP_AUDIO_OUT_SetOutputMode(
  43:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           BSP_AUDIO_OUT_SetMute() and BSP_AUDIO_OUT_Stop().
  44:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        + The driver API and the callback functions are at the end of the stm32746g_discovery_audio.
  45:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      
  46:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     Driver architecture:
  47:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     --------------------
  48:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        + This driver provides the High Audio Layer: consists of the function API exported in the st
  49:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****          (BSP_AUDIO_OUT_Init(), BSP_AUDIO_OUT_Play() ...)
  50:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        + This driver provide also the Media Access Layer (MAL): which consists of functions allowin
  51:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****          providing the audio file/stream. These functions are also included as local functions into
  52:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****          the stm32746g_discovery_audio_codec.c file (SAIx_Out_Init() and SAIx_Out_DeInit(), SAIx_In
  53:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
  54:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     Known Limitations:
  55:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     ------------------
  56:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        1- If the TDM Format used to play in parallel 2 audio Stream (the first Stream is configured
  57:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           Stream in SLOT1) the Pause/Resume, volume and mute feature will control the both streams.
  58:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        2- Parsing of audio file is not implemented (in order to determine audio file properties: Mo
  59:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****           File size, Audio Frequency, Audio Data header size ...). The configuration is fixed for t
  60:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        3- Supports only Stereo audio streaming.
  61:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        4- Supports only 16-bits audio data size.
  62:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   @endverbatim  
  63:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   ******************************************************************************
  64:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @attention
  65:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *
  66:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * <h2><center>&copy; COPYRIGHT(c) 2016 STMicroelectronics</center></h2>
  67:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *
  68:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * Redistribution and use in source and binary forms, with or without modification,
  69:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * are permitted provided that the following conditions are met:
  70:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  71:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *      this list of conditions and the following disclaimer.
  72:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  73:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *      this list of conditions and the following disclaimer in the documentation
  74:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *      and/or other materials provided with the distribution.
  75:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  76:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *      may be used to endorse or promote products derived from this software
  77:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *      without specific prior written permission.
  78:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *
  79:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  80:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  81:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  82:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  83:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  84:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  85:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  86:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  87:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  88:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  89:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 3


  90:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   ******************************************************************************
  91:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
  92:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
  93:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /* Dependencies
  94:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** - stm32746g_discovery.c
  95:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** - stm32f7xx_hal_sai.c
  96:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** - stm32f7xx_hal_dma.c
  97:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** - stm32f7xx_hal_gpio.c
  98:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** - stm32f7xx_hal_cortex.c
  99:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** - stm32f7xx_hal_rcc_ex.h
 100:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** - wm8994.c
 101:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** EndDependencies */
 102:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 103:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /* Includes ------------------------------------------------------------------*/
 104:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** #include "stm32746g_discovery_audio.h"
 105:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 106:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /** @addtogroup BSP
 107:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @{
 108:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 109:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 110:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /** @addtogroup STM32746G_DISCOVERY
 111:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @{
 112:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */ 
 113:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 114:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /** @defgroup STM32746G_DISCOVERY_AUDIO STM32746G_DISCOVERY AUDIO
 115:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief This file includes the low layer driver for wm8994 Audio Codec
 116:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *        available on STM32746G-Discovery board(MB1191).
 117:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @{
 118:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */ 
 119:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 120:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /** @defgroup STM32746G_DISCOVERY_AUDIO_Private_Types STM32746G_DISCOVERY AUDIO Private Types
 121:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @{
 122:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */ 
 123:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 124:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @}
 125:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */ 
 126:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 127:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /** @defgroup STM32746G_DISCOVERY_AUDIO_Private_Defines STM32746G_DISCOVERY AUDIO Private Defines
 128:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @{
 129:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 130:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 131:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @}
 132:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */ 
 133:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 134:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /** @defgroup STM32746G_DISCOVERY_AUDIO_Private_Macros STM32746G_DISCOVERY AUDIO Private Macros
 135:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @{
 136:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 137:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 138:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @}
 139:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */ 
 140:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 141:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /** @defgroup STM32746G_DISCOVERY_AUDIO_Private_Variables STM32746G_DISCOVERY AUDIO Private Variabl
 142:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @{
 143:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 144:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** AUDIO_DrvTypeDef          *audio_drv;
 145:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** SAI_HandleTypeDef         haudio_out_sai={0};
 146:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** SAI_HandleTypeDef         haudio_in_sai={0};
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 4


 147:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** TIM_HandleTypeDef         haudio_tim;
 148:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 149:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint16_t __IO AudioInVolume = DEFAULT_AUDIO_IN_VOLUME;
 150:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 151:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 152:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @}
 153:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */ 
 154:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 155:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /** @defgroup STM32746G_DISCOVERY_AUDIO_Private_Function_Prototypes STM32746G_DISCOVERY AUDIO Priva
 156:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @{
 157:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 158:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** static void SAIx_Out_Init(uint32_t AudioFreq);
 159:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** static void SAIx_Out_DeInit(void);
 160:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** static void SAIx_In_Init(uint32_t SaiOutMode, uint32_t SlotActive, uint32_t AudioFreq);
 161:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** static void SAIx_In_DeInit(void);
 162:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 163:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @}
 164:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */ 
 165:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 166:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /** @defgroup STM32746G_DISCOVERY_AUDIO_OUT_Exported_Functions STM32746G_DISCOVERY AUDIO Out Export
 167:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @{
 168:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */ 
 169:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 170:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 171:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Configures the audio peripherals.
 172:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  OutputDevice: OUTPUT_DEVICE_SPEAKER, OUTPUT_DEVICE_HEADPHONE,
 173:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *                       or OUTPUT_DEVICE_BOTH.
 174:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Volume: Initial volume level (from 0 (Mute) to 100 (Max))
 175:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to play the audio stream.
 176:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @note   The I2S PLL input clock must be done in the user application.  
 177:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 178:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 179:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Init(uint16_t OutputDevice, uint8_t Volume, uint32_t AudioFreq)
 180:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** { 
 181:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint8_t ret = AUDIO_ERROR;
 182:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint32_t deviceid = 0x00;
 183:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 184:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Disable SAI */
 185:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   SAIx_Out_DeInit();
 186:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 187:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* PLL clock is set depending on the AudioFreq (44.1khz vs 48khz groups) */
 188:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   BSP_AUDIO_OUT_ClockConfig(&haudio_out_sai, AudioFreq, NULL);
 189:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****  
 190:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* SAI data transfer preparation:
 191:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Prepare the Media to be used for the audio transfer from memory to SAI peripheral */
 192:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Instance = AUDIO_OUT_SAIx;
 193:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(HAL_SAI_GetState(&haudio_out_sai) == HAL_SAI_STATE_RESET)
 194:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 195:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Init the SAI MSP: this __weak function can be redefined by the application*/
 196:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     BSP_AUDIO_OUT_MspInit(&haudio_out_sai, NULL);
 197:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 198:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   SAIx_Out_Init(AudioFreq);
 199:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 200:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* wm8994 codec initialization */
 201:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   deviceid = wm8994_drv.ReadID(AUDIO_I2C_ADDRESS);
 202:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 203:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if((deviceid) == WM8994_ID)
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 5


 204:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {  
 205:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Reset the Codec Registers */
 206:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     wm8994_drv.Reset(AUDIO_I2C_ADDRESS);
 207:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Initialize the audio driver structure */
 208:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     audio_drv = &wm8994_drv; 
 209:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     ret = AUDIO_OK;
 210:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 211:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else
 212:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 213:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     ret = AUDIO_ERROR;
 214:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 215:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 216:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(ret == AUDIO_OK)
 217:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 218:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Initialize the codec internal registers */
 219:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     audio_drv->Init(AUDIO_I2C_ADDRESS, OutputDevice, Volume, AudioFreq);
 220:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 221:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****  
 222:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   return ret;
 223:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 224:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 225:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 226:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Starts playing audio stream from a data buffer for a determined size. 
 227:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  pBuffer: Pointer to the buffer 
 228:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Size: Number of audio data in BYTES unit.
 229:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *         In memory, first element is for left channel, second element is for right channel
 230:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 231:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 232:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Play(uint16_t* pBuffer, uint32_t Size)
 233:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 234:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the audio Codec Play function */
 235:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(audio_drv->Play(AUDIO_I2C_ADDRESS, pBuffer, Size) != 0)
 236:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {  
 237:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_ERROR;
 238:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 239:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else
 240:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 241:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Update the Media layer and enable it for play */  
 242:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_SAI_Transmit_DMA(&haudio_out_sai, (uint8_t*) pBuffer, DMA_MAX(Size / AUDIODATA_SIZE));
 243:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 244:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_OK;
 245:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 246:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 247:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 248:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 249:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Sends n-Bytes on the SAI interface.
 250:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  pData: pointer on data address 
 251:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Size: number of data to be written
 252:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 253:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 254:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** void BSP_AUDIO_OUT_ChangeBuffer(uint16_t *pData, uint16_t Size)
 255:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 256:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****    HAL_SAI_Transmit_DMA(&haudio_out_sai, (uint8_t*) pData, Size);
 257:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 258:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 259:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 260:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  This function Pauses the audio file stream. In case
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 6


 261:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *         of using DMA, the DMA Pause feature is used.
 262:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @note When calling BSP_AUDIO_OUT_Pause() function for pause, only
 263:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *          BSP_AUDIO_OUT_Resume() function should be called for resume (use of BSP_AUDIO_OUT_Play
 264:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *          function for resume could lead to unexpected behaviour).
 265:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 266:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 267:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Pause(void)
 268:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {    
 269:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 270:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(audio_drv->Pause(AUDIO_I2C_ADDRESS) != 0)
 271:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 272:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_ERROR;
 273:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 274:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else
 275:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 276:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Call the Media layer pause function */
 277:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_SAI_DMAPause(&haudio_out_sai);
 278:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 279:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 280:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_OK;
 281:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 282:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 283:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 284:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 285:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  This function  Resumes the audio file stream.  
 286:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @note When calling BSP_AUDIO_OUT_Pause() function for pause, only
 287:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *          BSP_AUDIO_OUT_Resume() function should be called for resume (use of BSP_AUDIO_OUT_Play
 288:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *          function for resume could lead to unexpected behaviour).
 289:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 290:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 291:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Resume(void)
 292:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {    
 293:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 294:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(audio_drv->Resume(AUDIO_I2C_ADDRESS) != 0)
 295:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 296:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_ERROR;
 297:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 298:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else
 299:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 300:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Call the Media layer pause/resume function */
 301:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_SAI_DMAResume(&haudio_out_sai);
 302:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 303:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 304:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_OK;
 305:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 306:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 307:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 308:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 309:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Stops audio playing and Power down the Audio Codec. 
 310:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Option: could be one of the following parameters 
 311:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *           - CODEC_PDWN_SW: for software power off (by writing registers). 
 312:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *                            Then no need to reconfigure the Codec after power on.
 313:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *           - CODEC_PDWN_HW: completely shut down the codec (physically). 
 314:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *                            Then need to reconfigure the Codec after power on.  
 315:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 316:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 317:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Stop(uint32_t Option)
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 7


 318:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 319:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Media layer stop function */
 320:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_DMAStop(&haudio_out_sai);
 321:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 322:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call Audio Codec Stop function */
 323:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(audio_drv->Stop(AUDIO_I2C_ADDRESS, Option) != 0)
 324:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 325:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_ERROR;
 326:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 327:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else
 328:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 329:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if(Option == CODEC_PDWN_HW)
 330:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     { 
 331:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Wait at least 100us */
 332:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       HAL_Delay(1);
 333:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 334:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 335:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_OK;
 336:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 337:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 338:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 339:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 340:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Controls the current audio volume level. 
 341:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Volume: Volume level to be set in percentage from 0% to 100% (0 for 
 342:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *         Mute and 100 for Max volume level).
 343:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 344:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 345:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_SetVolume(uint8_t Volume)
 346:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 347:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
 348:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(audio_drv->SetVolume(AUDIO_I2C_ADDRESS, Volume) != 0)
 349:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 350:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_ERROR;
 351:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 352:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else
 353:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 354:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 355:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_OK;
 356:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 357:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 358:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 359:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 360:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Enables or disables the MUTE mode by software 
 361:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Cmd: Could be AUDIO_MUTE_ON to mute sound or AUDIO_MUTE_OFF to 
 362:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *         unmute the codec and restore previous volume level.
 363:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 364:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 365:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_SetMute(uint32_t Cmd)
 366:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** { 
 367:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Codec Mute function */
 368:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(audio_drv->SetMute(AUDIO_I2C_ADDRESS, Cmd) != 0)
 369:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 370:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_ERROR;
 371:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 372:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else
 373:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 374:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 8


 375:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_OK;
 376:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 377:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 378:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 379:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 380:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Switch dynamically (while audio file is played) the output target 
 381:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *         (speaker or headphone).
 382:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Output: The audio output target: OUTPUT_DEVICE_SPEAKER,
 383:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *         OUTPUT_DEVICE_HEADPHONE or OUTPUT_DEVICE_BOTH
 384:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 385:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 386:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_SetOutputMode(uint8_t Output)
 387:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 388:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Codec output device function */
 389:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(audio_drv->SetOutputMode(AUDIO_I2C_ADDRESS, Output) != 0)
 390:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 391:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_ERROR;
 392:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 393:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else
 394:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 395:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 396:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_OK;
 397:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 398:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 399:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 400:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 401:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Updates the audio frequency.
 402:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to play the audio stream.
 403:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @note   This API should be called after the BSP_AUDIO_OUT_Init() to adjust the
 404:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *         audio frequency.
 405:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 406:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 407:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** void BSP_AUDIO_OUT_SetFrequency(uint32_t AudioFreq)
 408:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** { 
 409:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 410:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   BSP_AUDIO_OUT_ClockConfig(&haudio_out_sai, AudioFreq, NULL);
 411:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 412:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Disable SAI peripheral to allow access to SAI internal registers */
 413:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_DISABLE(&haudio_out_sai);
 414:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 415:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Update the SAI audio frequency configuration */
 416:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.AudioFrequency = AudioFreq;
 417:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_Init(&haudio_out_sai);
 418:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 419:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Enable SAI peripheral to generate MCLK */
 420:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_ENABLE(&haudio_out_sai);
 421:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 422:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 423:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 424:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Updates the Audio frame slot configuration.
 425:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  AudioFrameSlot: specifies the audio Frame slot
 426:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *         This parameter can be one of the following values
 427:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *            @arg CODEC_AUDIOFRAME_SLOT_0123
 428:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *            @arg CODEC_AUDIOFRAME_SLOT_02
 429:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *            @arg CODEC_AUDIOFRAME_SLOT_13
 430:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @note   This API should be called after the BSP_AUDIO_OUT_Init() to adjust the
 431:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *         audio frame slot.
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 9


 432:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 433:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 434:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** void BSP_AUDIO_OUT_SetAudioFrameSlot(uint32_t AudioFrameSlot)
 435:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** { 
 436:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Disable SAI peripheral to allow access to SAI internal registers */
 437:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_DISABLE(&haudio_out_sai);
 438:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 439:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Update the SAI audio frame slot configuration */
 440:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotActive = AudioFrameSlot;
 441:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_Init(&haudio_out_sai);
 442:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 443:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Enable SAI peripheral to generate MCLK */
 444:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_ENABLE(&haudio_out_sai);
 445:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 446:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 447:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 448:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Deinit the audio peripherals.
 449:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 450:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 451:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** void BSP_AUDIO_OUT_DeInit(void)
 452:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 453:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   SAIx_Out_DeInit();
 454:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* DeInit the SAI MSP : this __weak function can be rewritten by the application */
 455:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   BSP_AUDIO_OUT_MspDeInit(&haudio_out_sai, NULL);
 456:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 457:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 458:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 459:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Tx Transfer completed callbacks.
 460:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  hsai: SAI handle
 461:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 462:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 463:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** void HAL_SAI_TxCpltCallback(SAI_HandleTypeDef *hsai)
 464:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 465:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 466:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      should be coded by user (its prototype is already declared in stm32746g_discovery_audio.h) */
 467:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   BSP_AUDIO_OUT_TransferComplete_CallBack();
 468:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 469:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 470:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 471:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Tx Half Transfer completed callbacks.
 472:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  hsai: SAI handle
 473:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 474:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 475:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** void HAL_SAI_TxHalfCpltCallback(SAI_HandleTypeDef *hsai)
 476:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 477:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 478:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      should be coded by user (its prototype is already declared in stm32746g_discovery_audio.h) */
 479:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   BSP_AUDIO_OUT_HalfTransfer_CallBack();
 480:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 481:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 482:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 483:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  SAI error callbacks.
 484:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  hsai: SAI handle
 485:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 486:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 487:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** void HAL_SAI_ErrorCallback(SAI_HandleTypeDef *hsai)
 488:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 10


 489:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_StateTypeDef audio_out_state;
 490:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_StateTypeDef audio_in_state;
 491:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 492:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   audio_out_state = HAL_SAI_GetState(&haudio_out_sai);
 493:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   audio_in_state = HAL_SAI_GetState(&haudio_in_sai);
 494:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 495:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Determines if it is an audio out or audio in error */
 496:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if ((audio_out_state == HAL_SAI_STATE_BUSY) || (audio_out_state == HAL_SAI_STATE_BUSY_TX))
 497:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 498:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     BSP_AUDIO_OUT_Error_CallBack();
 499:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 500:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 501:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if ((audio_in_state == HAL_SAI_STATE_BUSY) || (audio_in_state == HAL_SAI_STATE_BUSY_RX))
 502:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 503:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     BSP_AUDIO_IN_Error_CallBack();
 504:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 505:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 506:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 507:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 508:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Manages the DMA full Transfer complete event.
 509:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 510:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 511:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** __weak void BSP_AUDIO_OUT_TransferComplete_CallBack(void)
 512:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 513:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 514:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 515:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 516:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Manages the DMA Half Transfer complete event.
 517:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 518:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 519:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** __weak void BSP_AUDIO_OUT_HalfTransfer_CallBack(void)
 520:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** { 
 521:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 522:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 523:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 524:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Manages the DMA FIFO error event.
 525:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 526:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 527:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** __weak void BSP_AUDIO_OUT_Error_CallBack(void)
 528:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 529:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 530:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 531:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 532:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Initializes BSP_AUDIO_OUT MSP.
 533:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  hsai: SAI handle
 534:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Params
 535:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 536:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 537:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** __weak void BSP_AUDIO_OUT_MspInit(SAI_HandleTypeDef *hsai, void *Params)
 538:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** { 
 539:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   static DMA_HandleTypeDef hdma_sai_tx;
 540:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;  
 541:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 542:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Enable SAI clock */
 543:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   AUDIO_OUT_SAIx_CLK_ENABLE();
 544:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 545:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Enable GPIO clock */
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 11


 546:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   AUDIO_OUT_SAIx_MCLK_ENABLE();
 547:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   AUDIO_OUT_SAIx_SCK_SD_ENABLE();
 548:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   AUDIO_OUT_SAIx_FS_ENABLE();
 549:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* CODEC_SAI pins configuration: FS, SCK, MCK and SD pins ------------------*/
 550:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pin = AUDIO_OUT_SAIx_FS_PIN;
 551:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Mode = GPIO_MODE_AF_PP;
 552:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
 553:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Speed = GPIO_SPEED_HIGH;
 554:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Alternate = AUDIO_OUT_SAIx_FS_SD_MCLK_AF;
 555:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_Init(AUDIO_OUT_SAIx_FS_GPIO_PORT, &gpio_init_structure);
 556:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 557:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pin = AUDIO_OUT_SAIx_SCK_PIN;
 558:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Mode = GPIO_MODE_AF_PP;
 559:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
 560:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Speed = GPIO_SPEED_HIGH;
 561:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Alternate = AUDIO_OUT_SAIx_SCK_AF;
 562:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_Init(AUDIO_OUT_SAIx_SCK_SD_GPIO_PORT, &gpio_init_structure);
 563:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 564:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pin =  AUDIO_OUT_SAIx_SD_PIN;
 565:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Mode = GPIO_MODE_AF_PP;
 566:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
 567:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Speed = GPIO_SPEED_HIGH;
 568:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Alternate = AUDIO_OUT_SAIx_FS_SD_MCLK_AF;
 569:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_Init(AUDIO_OUT_SAIx_SCK_SD_GPIO_PORT, &gpio_init_structure);
 570:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 571:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pin = AUDIO_OUT_SAIx_MCLK_PIN;
 572:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Mode = GPIO_MODE_AF_PP;
 573:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
 574:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Speed = GPIO_SPEED_HIGH;
 575:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Alternate = AUDIO_OUT_SAIx_FS_SD_MCLK_AF;
 576:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_Init(AUDIO_OUT_SAIx_MCLK_GPIO_PORT, &gpio_init_structure);
 577:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 578:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Enable the DMA clock */
 579:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   AUDIO_OUT_SAIx_DMAx_CLK_ENABLE();
 580:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 581:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(hsai->Instance == AUDIO_OUT_SAIx)
 582:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 583:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Configure the hdma_saiTx handle parameters */   
 584:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.Channel             = AUDIO_OUT_SAIx_DMAx_CHANNEL;
 585:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 586:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.PeriphInc           = DMA_PINC_DISABLE;
 587:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.MemInc              = DMA_MINC_ENABLE;
 588:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.PeriphDataAlignment = AUDIO_OUT_SAIx_DMAx_PERIPH_DATA_SIZE;
 589:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.MemDataAlignment    = AUDIO_OUT_SAIx_DMAx_MEM_DATA_SIZE;
 590:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.Mode                = DMA_CIRCULAR;
 591:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.Priority            = DMA_PRIORITY_HIGH;
 592:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.FIFOMode            = DMA_FIFOMODE_ENABLE;         
 593:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 594:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.MemBurst            = DMA_MBURST_SINGLE;
 595:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.PeriphBurst         = DMA_PBURST_SINGLE; 
 596:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 597:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Instance = AUDIO_OUT_SAIx_DMAx_STREAM;
 598:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 599:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Associate the DMA handle */
 600:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     __HAL_LINKDMA(hsai, hdmatx, hdma_sai_tx);
 601:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 602:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 12


 603:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_DMA_DeInit(&hdma_sai_tx);
 604:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 605:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Configure the DMA Stream */
 606:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_DMA_Init(&hdma_sai_tx);      
 607:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 608:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 609:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* SAI DMA IRQ Channel configuration */
 610:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_NVIC_SetPriority(AUDIO_OUT_SAIx_DMAx_IRQ, AUDIO_OUT_IRQ_PREPRIO, 0);
 611:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_NVIC_EnableIRQ(AUDIO_OUT_SAIx_DMAx_IRQ); 
 612:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 613:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 614:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 615:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Deinitializes SAI MSP.
 616:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  hsai: SAI handle
 617:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Params
 618:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 619:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 620:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** __weak void BSP_AUDIO_OUT_MspDeInit(SAI_HandleTypeDef *hsai, void *Params)
 621:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 622:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     GPIO_InitTypeDef  gpio_init_structure;
 623:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 624:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* SAI DMA IRQ Channel deactivation */
 625:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_NVIC_DisableIRQ(AUDIO_OUT_SAIx_DMAx_IRQ);
 626:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 627:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if(hsai->Instance == AUDIO_OUT_SAIx)
 628:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 629:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Deinitialize the DMA stream */
 630:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       HAL_DMA_DeInit(hsai->hdmatx);
 631:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 632:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 633:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Disable SAI peripheral */
 634:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     __HAL_SAI_DISABLE(hsai);  
 635:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 636:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Deactives CODEC_SAI pins FS, SCK, MCK and SD by putting them in input mode */
 637:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     gpio_init_structure.Pin = AUDIO_OUT_SAIx_FS_PIN;
 638:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_GPIO_DeInit(AUDIO_OUT_SAIx_FS_GPIO_PORT, gpio_init_structure.Pin);
 639:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 640:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     gpio_init_structure.Pin = AUDIO_OUT_SAIx_SCK_PIN;
 641:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_GPIO_DeInit(AUDIO_OUT_SAIx_SCK_SD_GPIO_PORT, gpio_init_structure.Pin);
 642:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 643:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     gpio_init_structure.Pin =  AUDIO_OUT_SAIx_SD_PIN;
 644:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_GPIO_DeInit(AUDIO_OUT_SAIx_SCK_SD_GPIO_PORT, gpio_init_structure.Pin);
 645:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 646:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     gpio_init_structure.Pin = AUDIO_OUT_SAIx_MCLK_PIN;
 647:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_GPIO_DeInit(AUDIO_OUT_SAIx_MCLK_GPIO_PORT, gpio_init_structure.Pin);
 648:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 649:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Disable SAI clock */
 650:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     AUDIO_OUT_SAIx_CLK_DISABLE();
 651:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 652:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* GPIO pins clock and DMA clock can be shut down in the application
 653:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****        by surcharging this __weak function */
 654:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 655:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 656:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 657:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Clock Config.
 658:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  hsai: might be required to set audio peripheral predivider if any.
 659:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to play the audio stream.
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 13


 660:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Params  
 661:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @note   This API is called by BSP_AUDIO_OUT_Init() and BSP_AUDIO_OUT_SetFrequency()
 662:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *         Being __weak it can be overwritten by the application     
 663:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 664:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 665:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** __weak void BSP_AUDIO_OUT_ClockConfig(SAI_HandleTypeDef *hsai, uint32_t AudioFreq, void *Params)
 666:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** { 
 667:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rcc_ex_clk_init_struct;
 668:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 669:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_RCCEx_GetPeriphCLKConfig(&rcc_ex_clk_init_struct);
 670:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 671:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Set the PLL configuration according to the audio frequency */
 672:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if((AudioFreq == AUDIO_FREQUENCY_11K) || (AudioFreq == AUDIO_FREQUENCY_22K) || (AudioFreq == AUDI
 673:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 674:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Configure PLLI2S prescalers */
 675:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* PLLI2S_VCO: VCO_429M
 676:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     I2S_CLK(first level) = PLLI2S_VCO/PLLI2SQ = 429/2 = 214.5 Mhz
 677:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     I2S_CLK_x = I2S_CLK(first level)/PLLI2SDIVQ = 214.5/19 = 11.289 Mhz */
 678:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PeriphClockSelection = RCC_PERIPHCLK_SAI2;
 679:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.Sai2ClockSelection = RCC_SAI2CLKSOURCE_PLLI2S;
 680:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PLLI2S.PLLI2SN = 429;
 681:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PLLI2S.PLLI2SQ = 2;
 682:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PLLI2SDivQ = 19;
 683:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 684:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rcc_ex_clk_init_struct);
 685:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 686:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 687:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else /* AUDIO_FREQUENCY_8K, AUDIO_FREQUENCY_16K, AUDIO_FREQUENCY_48K), AUDIO_FREQUENCY_96K */
 688:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 689:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* I2S clock config
 690:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     PLLI2S_VCO: VCO_344M
 691:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     I2S_CLK(first level) = PLLI2S_VCO/PLLI2SQ = 344/7 = 49.142 Mhz
 692:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     I2S_CLK_x = I2S_CLK(first level)/PLLI2SDIVQ = 49.142/1 = 49.142 Mhz */
 693:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PeriphClockSelection = RCC_PERIPHCLK_SAI2;
 694:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.Sai2ClockSelection = RCC_SAI2CLKSOURCE_PLLI2S;
 695:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PLLI2S.PLLI2SN = 344;
 696:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PLLI2S.PLLI2SQ = 7;
 697:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PLLI2SDivQ = 1;
 698:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 699:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rcc_ex_clk_init_struct);
 700:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 701:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 702:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 703:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /*******************************************************************************
 704:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****                             Static Functions
 705:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** *******************************************************************************/
 706:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 707:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 708:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Initializes the output Audio Codec audio interface (SAI).
 709:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the SAI peripheral.
 710:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @note   The default SlotActive configuration is set to CODEC_AUDIOFRAME_SLOT_0123 
 711:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *         and user can update this configuration using 
 712:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 713:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 714:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** static void SAIx_Out_Init(uint32_t AudioFreq)
 715:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 716:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Initialize the haudio_out_sai Instance parameter */
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 14


 717:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Instance = AUDIO_OUT_SAIx;
 718:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 719:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Disable SAI peripheral to allow access to SAI internal registers */
 720:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_DISABLE(&haudio_out_sai);
 721:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 722:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Configure SAI_Block_x 
 723:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   LSBFirst: Disabled 
 724:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   DataSize: 16 */
 725:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.AudioFrequency = AudioFreq;
 726:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.AudioMode = SAI_MODEMASTER_TX;
 727:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.NoDivider = SAI_MASTERDIVIDER_ENABLED;
 728:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.Protocol = SAI_FREE_PROTOCOL;
 729:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.DataSize = SAI_DATASIZE_16;
 730:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.FirstBit = SAI_FIRSTBIT_MSB;
 731:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.ClockStrobing = SAI_CLOCKSTROBING_RISINGEDGE;
 732:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.Synchro = SAI_ASYNCHRONOUS;
 733:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.OutputDrive = SAI_OUTPUTDRIVE_ENABLED;
 734:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.FIFOThreshold = SAI_FIFOTHRESHOLD_1QF;
 735:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 736:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Configure SAI_Block_x Frame 
 737:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Frame Length: 64
 738:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Frame active Length: 32
 739:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   FS Definition: Start frame + Channel Side identification
 740:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   FS Polarity: FS active Low
 741:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   FS Offset: FS asserted one bit before the first bit of slot 0 */ 
 742:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FrameLength = 64;
 743:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.ActiveFrameLength = 32;
 744:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FSDefinition = SAI_FS_CHANNEL_IDENTIFICATION;
 745:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FSPolarity = SAI_FS_ACTIVE_LOW;
 746:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FSOffset = SAI_FS_BEFOREFIRSTBIT;
 747:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 748:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Configure SAI Block_x Slot 
 749:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Slot First Bit Offset: 0
 750:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Slot Size  : 16
 751:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Slot Number: 4
 752:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Slot Active: All slot actives */
 753:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.FirstBitOffset = 0;
 754:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotSize = SAI_SLOTSIZE_DATASIZE;
 755:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotNumber = 4; 
 756:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotActive = CODEC_AUDIOFRAME_SLOT_0123;
 757:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 758:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_Init(&haudio_out_sai);
 759:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 760:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Enable SAI peripheral to generate MCLK */
 761:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_ENABLE(&haudio_out_sai);
 762:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 763:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 764:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 765:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 766:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 767:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Deinitializes the output Audio Codec audio interface (SAI).
 768:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
 769:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 770:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** static void SAIx_Out_DeInit(void)
 771:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
  27              		.loc 1 771 0
  28              		.cfi_startproc
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 15


  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 08B5     		push	{r3, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 3, -8
  35              		.cfi_offset 14, -4
 772:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Initialize the haudio_out_sai Instance parameter */
 773:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Instance = AUDIO_OUT_SAIx;
  36              		.loc 1 773 0
  37 0002 0548     		ldr	r0, .L3
  38 0004 054B     		ldr	r3, .L3+4
  39 0006 0360     		str	r3, [r0]
 774:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 775:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Disable SAI peripheral */
 776:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_DISABLE(&haudio_out_sai);
  40              		.loc 1 776 0
  41 0008 1A68     		ldr	r2, [r3]
  42 000a 22F48032 		bic	r2, r2, #65536
  43 000e 1A60     		str	r2, [r3]
 777:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 778:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_DeInit(&haudio_out_sai);
  44              		.loc 1 778 0
  45 0010 FFF7FEFF 		bl	HAL_SAI_DeInit
  46              	.LVL0:
 779:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
  47              		.loc 1 779 0
  48 0014 08BD     		pop	{r3, pc}
  49              	.L4:
  50 0016 00BF     		.align	2
  51              	.L3:
  52 0018 00000000 		.word	.LANCHOR0
  53 001c 045C0140 		.word	1073830916
  54              		.cfi_endproc
  55              	.LFE160:
  57              		.section	.text.SAIx_In_DeInit,"ax",%progbits
  58              		.align	1
  59              		.syntax unified
  60              		.thumb
  61              		.thumb_func
  62              		.fpu fpv5-sp-d16
  64              	SAIx_In_DeInit:
  65              	.LFB178:
 780:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 781:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 782:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @}
 783:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 784:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 785:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /** @defgroup STM32746G_DISCOVERY_AUDIO_Out_Private_Functions STM32746G_DISCOVERY_AUDIO Out Private
 786:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @{
 787:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */ 
 788:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 789:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 790:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Initializes wave recording.
 791:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the SAI peripheral.
 792:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  BitRes: Audio frequency to be configured.
 793:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  ChnlNbr: Channel number.
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 16


 794:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 795:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 796:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Init(uint32_t AudioFreq, uint32_t BitRes, uint32_t ChnlNbr)
 797:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 798:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   return BSP_AUDIO_IN_InitEx(INPUT_DEVICE_DIGITAL_MICROPHONE_2, AudioFreq, BitRes, ChnlNbr); 
 799:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 800:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 801:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 802:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Initializes wave recording.
 803:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  InputDevice: INPUT_DEVICE_DIGITAL_MICROPHONE_2 or INPUT_DEVICE_INPUT_LINE_1
 804:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the SAI peripheral.
 805:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  BitRes: Audio frequency to be configured.
 806:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  ChnlNbr: Channel number.
 807:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 808:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 809:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_IN_InitEx(uint16_t InputDevice, uint32_t AudioFreq, uint32_t BitRes, uint32_t Chn
 810:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 811:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint8_t ret = AUDIO_ERROR;
 812:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint32_t deviceid = 0x00;
 813:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint32_t slot_active;
 814:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 815:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if ((InputDevice != INPUT_DEVICE_INPUT_LINE_1) &&       /* Only INPUT_LINE_1 and MICROPHONE_2 inp
 816:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       (InputDevice != INPUT_DEVICE_DIGITAL_MICROPHONE_2))
 817:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 818:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     ret = AUDIO_ERROR;
 819:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 820:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else
 821:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 822:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Disable SAI */
 823:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     SAIx_In_DeInit();
 824:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 825:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* PLL clock is set depending on the AudioFreq (44.1khz vs 48khz groups) */
 826:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     BSP_AUDIO_OUT_ClockConfig(&haudio_in_sai, AudioFreq, NULL); /* Clock config is shared between A
 827:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 828:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* SAI data transfer preparation:
 829:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     Prepare the Media to be used for the audio transfer from SAI peripheral to memory */
 830:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     haudio_in_sai.Instance = AUDIO_IN_SAIx;
 831:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if(HAL_SAI_GetState(&haudio_in_sai) == HAL_SAI_STATE_RESET)
 832:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 833:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Init the SAI MSP: this __weak function can be redefined by the application*/
 834:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       BSP_AUDIO_OUT_MspInit(&haudio_in_sai, NULL);  /* Initialize GPIOs for SAI2 block A Master sig
 835:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       BSP_AUDIO_IN_MspInit(&haudio_in_sai, NULL);
 836:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 837:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 838:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Configure SAI in master RX mode :
 839:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      *   - SAI2_block_A in master RX mode
 840:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      *   - SAI2_block_B in slave RX mode synchronous from SAI2_block_A
 841:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      */
 842:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if (InputDevice == INPUT_DEVICE_DIGITAL_MICROPHONE_2)
 843:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 844:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       slot_active = CODEC_AUDIOFRAME_SLOT_13;
 845:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 846:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     else
 847:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 848:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       slot_active = CODEC_AUDIOFRAME_SLOT_02;
 849:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 850:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     SAIx_In_Init(SAI_MODEMASTER_RX, slot_active, AudioFreq);
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 17


 851:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 852:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* wm8994 codec initialization */
 853:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     deviceid = wm8994_drv.ReadID(AUDIO_I2C_ADDRESS);
 854:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 855:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if((deviceid) == WM8994_ID)
 856:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 857:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Reset the Codec Registers */
 858:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       wm8994_drv.Reset(AUDIO_I2C_ADDRESS);
 859:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Initialize the audio driver structure */
 860:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       audio_drv = &wm8994_drv;
 861:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       ret = AUDIO_OK;
 862:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 863:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     else
 864:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 865:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       ret = AUDIO_ERROR;
 866:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 867:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 868:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if(ret == AUDIO_OK)
 869:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 870:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Initialize the codec internal registers */
 871:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       audio_drv->Init(AUDIO_I2C_ADDRESS, InputDevice, 100, AudioFreq);
 872:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 873:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 874:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   return ret;
 875:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 876:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 877:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 878:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Initializes wave recording and playback in parallel.
 879:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  InputDevice: INPUT_DEVICE_DIGITAL_MICROPHONE_2
 880:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  OutputDevice: OUTPUT_DEVICE_SPEAKER, OUTPUT_DEVICE_HEADPHONE,
 881:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *                       or OUTPUT_DEVICE_BOTH.
 882:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the SAI peripheral.
 883:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  BitRes: Audio frequency to be configured.
 884:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  ChnlNbr: Channel number.
 885:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 886:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 887:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_IN_OUT_Init(uint16_t InputDevice, uint16_t OutputDevice, uint32_t AudioFreq, uint
 888:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 889:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint8_t ret = AUDIO_ERROR;
 890:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint32_t deviceid = 0x00;
 891:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint32_t slot_active;
 892:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 893:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if (InputDevice != INPUT_DEVICE_DIGITAL_MICROPHONE_2)  /* Only MICROPHONE_2 input supported */
 894:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 895:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     ret = AUDIO_ERROR;
 896:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 897:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else
 898:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 899:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Disable SAI */
 900:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     SAIx_In_DeInit();
 901:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     SAIx_Out_DeInit();
 902:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 903:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* PLL clock is set depending on the AudioFreq (44.1khz vs 48khz groups) */
 904:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     BSP_AUDIO_OUT_ClockConfig(&haudio_in_sai, AudioFreq, NULL); /* Clock config is shared between A
 905:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 906:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* SAI data transfer preparation:
 907:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     Prepare the Media to be used for the audio transfer from SAI peripheral to memory */
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 18


 908:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     haudio_in_sai.Instance = AUDIO_IN_SAIx;
 909:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if(HAL_SAI_GetState(&haudio_in_sai) == HAL_SAI_STATE_RESET)
 910:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 911:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Init the SAI MSP: this __weak function can be redefined by the application*/
 912:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       BSP_AUDIO_IN_MspInit(&haudio_in_sai, NULL);
 913:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 914:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 915:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* SAI data transfer preparation:
 916:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     Prepare the Media to be used for the audio transfer from memory to SAI peripheral */
 917:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     haudio_out_sai.Instance = AUDIO_OUT_SAIx;
 918:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if(HAL_SAI_GetState(&haudio_out_sai) == HAL_SAI_STATE_RESET)
 919:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 920:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Init the SAI MSP: this __weak function can be redefined by the application*/
 921:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       BSP_AUDIO_OUT_MspInit(&haudio_out_sai, NULL);
 922:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 923:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 924:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Configure SAI in master mode :
 925:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      *   - SAI2_block_A in master TX mode
 926:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      *   - SAI2_block_B in slave RX mode synchronous from SAI2_block_A
 927:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      */
 928:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if (InputDevice == INPUT_DEVICE_DIGITAL_MICROPHONE_2)
 929:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 930:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       slot_active = CODEC_AUDIOFRAME_SLOT_13;
 931:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 932:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     else
 933:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 934:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       slot_active = CODEC_AUDIOFRAME_SLOT_02;
 935:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 936:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     SAIx_In_Init(SAI_MODEMASTER_TX, slot_active, AudioFreq);
 937:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 938:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* wm8994 codec initialization */
 939:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     deviceid = wm8994_drv.ReadID(AUDIO_I2C_ADDRESS);
 940:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 941:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if((deviceid) == WM8994_ID)
 942:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 943:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Reset the Codec Registers */
 944:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       wm8994_drv.Reset(AUDIO_I2C_ADDRESS);
 945:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Initialize the audio driver structure */
 946:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       audio_drv = &wm8994_drv;
 947:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       ret = AUDIO_OK;
 948:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 949:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     else
 950:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 951:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       ret = AUDIO_ERROR;
 952:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 953:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 954:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if(ret == AUDIO_OK)
 955:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 956:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Initialize the codec internal registers */
 957:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       audio_drv->Init(AUDIO_I2C_ADDRESS, InputDevice | OutputDevice, 100, AudioFreq);
 958:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 959:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 960:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   return ret;
 961:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 962:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 963:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 964:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 19


 965:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Starts audio recording.
 966:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  pbuf: Main buffer pointer for the recorded data storing  
 967:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  size: size of the recorded buffer in number of elements (typically number of half-words
 968:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *               Be careful that it is not the same unit than BSP_AUDIO_OUT_Play function
 969:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 970:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 971:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t  BSP_AUDIO_IN_Record(uint16_t* pbuf, uint32_t size)
 972:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 973:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 974:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 975:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Start the process receive DMA */
 976:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_Receive_DMA(&haudio_in_sai, (uint8_t*)pbuf, size);
 977:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 978:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 979:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   ret = AUDIO_OK;
 980:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 981:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   return ret;
 982:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 983:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 984:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
 985:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Stops audio recording.
 986:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Option: could be one of the following parameters
 987:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *           - CODEC_PDWN_SW: for software power off (by writing registers).
 988:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *                            Then no need to reconfigure the Codec after power on.
 989:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *           - CODEC_PDWN_HW: completely shut down the codec (physically).
 990:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *                            Then need to reconfigure the Codec after power on.
 991:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 992:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
 993:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Stop(uint32_t Option)
 994:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
 995:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Media layer stop function */
 996:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_DMAStop(&haudio_in_sai);
 997:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 998:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call Audio Codec Stop function */
 999:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(audio_drv->Stop(AUDIO_I2C_ADDRESS, Option) != 0)
1000:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
1001:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_ERROR;
1002:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
1003:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else
1004:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
1005:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if(Option == CODEC_PDWN_HW)
1006:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
1007:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Wait at least 100us */
1008:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       HAL_Delay(1);
1009:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
1010:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
1011:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_OK;
1012:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
1013:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1014:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1015:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
1016:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Pauses the audio file stream.
1017:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
1018:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1019:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Pause(void)
1020:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {    
1021:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Media layer pause function */
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 20


1022:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_DMAPause(&haudio_in_sai);
1023:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
1024:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   return AUDIO_OK;
1025:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1026:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1027:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
1028:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Resumes the audio file stream.
1029:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
1030:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1031:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Resume(void)
1032:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {    
1033:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Media layer pause/resume function */
1034:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_DMAResume(&haudio_in_sai);
1035:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
1036:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   return AUDIO_OK;
1037:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1038:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1039:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
1040:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Controls the audio in volume level. 
1041:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Volume: Volume level in range 0(Mute)..80(+0dB)..100(+17.625dB)
1042:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
1043:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1044:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** uint8_t BSP_AUDIO_IN_SetVolume(uint8_t Volume)
1045:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
1046:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
1047:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(audio_drv->SetVolume(AUDIO_I2C_ADDRESS, Volume) != 0)
1048:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
1049:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_ERROR;
1050:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
1051:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   else
1052:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
1053:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Set the Global variable AudioInVolume  */
1054:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     AudioInVolume = Volume;
1055:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
1056:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     return AUDIO_OK;
1057:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
1058:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1059:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1060:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
1061:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Deinit the audio IN peripherals.
1062:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
1063:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1064:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** void BSP_AUDIO_IN_DeInit(void)
1065:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
1066:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   SAIx_In_DeInit();
1067:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* DeInit the SAI MSP : this __weak function can be rewritten by the application */
1068:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   BSP_AUDIO_IN_MspDeInit(&haudio_in_sai, NULL);
1069:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1070:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1071:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****  /**
1072:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Rx Transfer completed callbacks.
1073:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  hsai: SAI handle
1074:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
1075:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1076:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** void HAL_SAI_RxCpltCallback(SAI_HandleTypeDef *hsai)
1077:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
1078:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the record update function to get the next buffer to fill and its size (size is ignored) 
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 21


1079:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   BSP_AUDIO_IN_TransferComplete_CallBack();
1080:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1081:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1082:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
1083:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Rx Half Transfer completed callbacks.
1084:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  hsai: SAI handle
1085:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
1086:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1087:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** void HAL_SAI_RxHalfCpltCallback(SAI_HandleTypeDef *hsai)
1088:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
1089:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
1090:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      should be coded by user (its prototype is already declared in stm32746g_discovery_audio.h) */
1091:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   BSP_AUDIO_IN_HalfTransfer_CallBack();
1092:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1093:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1094:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
1095:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  User callback when record buffer is filled.
1096:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
1097:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1098:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** __weak void BSP_AUDIO_IN_TransferComplete_CallBack(void)
1099:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
1100:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* This function should be implemented by the user application.
1101:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      It is called into this driver when the current buffer is filled
1102:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      to prepare the next buffer pointer and its size. */
1103:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1104:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1105:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
1106:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Manages the DMA Half Transfer complete event.
1107:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
1108:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1109:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** __weak void BSP_AUDIO_IN_HalfTransfer_CallBack(void)
1110:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** { 
1111:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* This function should be implemented by the user application.
1112:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      It is called into this driver when the current buffer is filled
1113:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      to prepare the next buffer pointer and its size. */
1114:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1115:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1116:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
1117:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Audio IN Error callback function.
1118:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
1119:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1120:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** __weak void BSP_AUDIO_IN_Error_CallBack(void)
1121:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {   
1122:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* This function is called when an Interrupt due to transfer error on or peripheral
1123:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      error occurs. */
1124:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1125:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1126:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
1127:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Initializes BSP_AUDIO_IN MSP.
1128:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  hsai: SAI handle
1129:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Params
1130:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
1131:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1132:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** __weak void BSP_AUDIO_IN_MspInit(SAI_HandleTypeDef *hsai, void *Params)
1133:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
1134:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   static DMA_HandleTypeDef hdma_sai_rx;
1135:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;  
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 22


1136:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1137:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Enable SAI clock */
1138:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   AUDIO_IN_SAIx_CLK_ENABLE();
1139:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
1140:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Enable SD GPIO clock */
1141:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   AUDIO_IN_SAIx_SD_ENABLE();
1142:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* CODEC_SAI pin configuration: SD pin */
1143:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pin = AUDIO_IN_SAIx_SD_PIN;
1144:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Mode = GPIO_MODE_AF_PP;
1145:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
1146:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Speed = GPIO_SPEED_FAST;
1147:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Alternate = AUDIO_IN_SAIx_SD_AF;
1148:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_Init(AUDIO_IN_SAIx_SD_GPIO_PORT, &gpio_init_structure);
1149:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1150:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Enable Audio INT GPIO clock */
1151:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   AUDIO_IN_INT_GPIO_ENABLE();
1152:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Audio INT pin configuration: input */
1153:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pin = AUDIO_IN_INT_GPIO_PIN;
1154:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Mode = GPIO_MODE_INPUT;
1155:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
1156:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Speed = GPIO_SPEED_FAST;
1157:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_Init(AUDIO_IN_INT_GPIO_PORT, &gpio_init_structure);
1158:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1159:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Enable the DMA clock */
1160:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   AUDIO_IN_SAIx_DMAx_CLK_ENABLE();
1161:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
1162:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(hsai->Instance == AUDIO_IN_SAIx)
1163:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
1164:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Configure the hdma_sai_rx handle parameters */
1165:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.Channel             = AUDIO_IN_SAIx_DMAx_CHANNEL;
1166:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
1167:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.PeriphInc           = DMA_PINC_DISABLE;
1168:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.MemInc              = DMA_MINC_ENABLE;
1169:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.PeriphDataAlignment = AUDIO_IN_SAIx_DMAx_PERIPH_DATA_SIZE;
1170:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.MemDataAlignment    = AUDIO_IN_SAIx_DMAx_MEM_DATA_SIZE;
1171:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.Mode                = DMA_CIRCULAR;
1172:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.Priority            = DMA_PRIORITY_HIGH;
1173:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.FIFOMode            = DMA_FIFOMODE_DISABLE;
1174:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
1175:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.MemBurst            = DMA_MBURST_SINGLE;
1176:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.PeriphBurst         = DMA_MBURST_SINGLE;
1177:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
1178:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Instance = AUDIO_IN_SAIx_DMAx_STREAM;
1179:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
1180:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Associate the DMA handle */
1181:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     __HAL_LINKDMA(hsai, hdmarx, hdma_sai_rx);
1182:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
1183:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
1184:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_DMA_DeInit(&hdma_sai_rx);
1185:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
1186:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Configure the DMA Stream */
1187:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_DMA_Init(&hdma_sai_rx);
1188:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
1189:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
1190:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* SAI DMA IRQ Channel configuration */
1191:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_NVIC_SetPriority(AUDIO_IN_SAIx_DMAx_IRQ, AUDIO_IN_IRQ_PREPRIO, 0);
1192:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_NVIC_EnableIRQ(AUDIO_IN_SAIx_DMAx_IRQ);
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 23


1193:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1194:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Audio INT IRQ Channel configuration */
1195:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_NVIC_SetPriority(AUDIO_IN_INT_IRQ, AUDIO_IN_IRQ_PREPRIO, 0);
1196:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_NVIC_EnableIRQ(AUDIO_IN_INT_IRQ);
1197:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1198:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1199:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
1200:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  DeInitializes BSP_AUDIO_IN MSP.
1201:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  hsai: SAI handle
1202:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  Params
1203:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
1204:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1205:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** __weak void BSP_AUDIO_IN_MspDeInit(SAI_HandleTypeDef *hsai, void *Params)
1206:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
1207:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
1208:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1209:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   static DMA_HandleTypeDef hdma_sai_rx;
1210:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1211:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* SAI IN DMA IRQ Channel deactivation */
1212:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_NVIC_DisableIRQ(AUDIO_IN_SAIx_DMAx_IRQ);
1213:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1214:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(hsai->Instance == AUDIO_IN_SAIx)
1215:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
1216:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
1217:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     HAL_DMA_DeInit(&hdma_sai_rx);
1218:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
1219:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1220:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****  /* Disable SAI block */
1221:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_DISABLE(hsai);
1222:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1223:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Disable pin: SD pin */
1224:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pin = AUDIO_IN_SAIx_SD_PIN;
1225:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_DeInit(AUDIO_IN_SAIx_SD_GPIO_PORT, gpio_init_structure.Pin);
1226:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1227:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Disable SAI clock */
1228:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   AUDIO_IN_SAIx_CLK_DISABLE();
1229:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1230:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* GPIO pins clock and DMA clock can be shut down in the application
1231:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****      by surcharging this __weak function */
1232:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1233:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1234:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1235:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /*******************************************************************************
1236:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****                             Static Functions
1237:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** *******************************************************************************/
1238:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1239:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
1240:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Initializes the input Audio Codec audio interface (SAI).
1241:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  SaiOutMode: SAI_MODEMASTER_TX (for record and playback in parallel)
1242:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   *                     or SAI_MODEMASTER_RX (for record only).
1243:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  SlotActive: CODEC_AUDIOFRAME_SLOT_02 or CODEC_AUDIOFRAME_SLOT_13
1244:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the SAI peripheral.
1245:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
1246:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1247:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** static void SAIx_In_Init(uint32_t SaiOutMode, uint32_t SlotActive, uint32_t AudioFreq)
1248:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
1249:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Initialize SAI2 block A in MASTER RX */
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 24


1250:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Initialize the haudio_out_sai Instance parameter */
1251:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Instance = AUDIO_OUT_SAIx;
1252:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1253:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Disable SAI peripheral to allow access to SAI internal registers */
1254:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_DISABLE(&haudio_out_sai);
1255:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1256:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Configure SAI_Block_x
1257:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   LSBFirst: Disabled
1258:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   DataSize: 16 */
1259:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.AudioFrequency = AudioFreq;
1260:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.AudioMode = SaiOutMode;
1261:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.NoDivider = SAI_MASTERDIVIDER_ENABLED;
1262:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.Protocol = SAI_FREE_PROTOCOL;
1263:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.DataSize = SAI_DATASIZE_16;
1264:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.FirstBit = SAI_FIRSTBIT_MSB;
1265:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.ClockStrobing = SAI_CLOCKSTROBING_RISINGEDGE;
1266:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.Synchro = SAI_ASYNCHRONOUS;
1267:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.OutputDrive = SAI_OUTPUTDRIVE_ENABLED;
1268:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.FIFOThreshold = SAI_FIFOTHRESHOLD_1QF;
1269:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1270:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Configure SAI_Block_x Frame
1271:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Frame Length: 64
1272:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Frame active Length: 32
1273:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   FS Definition: Start frame + Channel Side identification
1274:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   FS Polarity: FS active Low
1275:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   FS Offset: FS asserted one bit before the first bit of slot 0 */
1276:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FrameLength = 64;
1277:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.ActiveFrameLength = 32;
1278:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FSDefinition = SAI_FS_CHANNEL_IDENTIFICATION;
1279:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FSPolarity = SAI_FS_ACTIVE_LOW;
1280:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FSOffset = SAI_FS_BEFOREFIRSTBIT;
1281:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1282:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Configure SAI Block_x Slot
1283:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Slot First Bit Offset: 0
1284:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Slot Size  : 16
1285:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Slot Number: 4
1286:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Slot Active: All slot actives */
1287:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.FirstBitOffset = 0;
1288:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotSize = SAI_SLOTSIZE_DATASIZE;
1289:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotNumber = 4;
1290:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotActive = SlotActive;
1291:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1292:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_Init(&haudio_out_sai);
1293:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1294:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Initialize SAI2 block B in SLAVE RX synchronous from SAI2 block A */
1295:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Initialize the haudio_in_sai Instance parameter */
1296:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Instance = AUDIO_IN_SAIx;
1297:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
1298:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Disable SAI peripheral to allow access to SAI internal registers */
1299:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_DISABLE(&haudio_in_sai);
1300:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
1301:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Configure SAI_Block_x
1302:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   LSBFirst: Disabled
1303:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   DataSize: 16 */
1304:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.AudioFrequency = AudioFreq;
1305:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.AudioMode = SAI_MODESLAVE_RX;
1306:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.NoDivider = SAI_MASTERDIVIDER_ENABLED;
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 25


1307:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.Protocol = SAI_FREE_PROTOCOL;
1308:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.DataSize = SAI_DATASIZE_16;
1309:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.FirstBit = SAI_FIRSTBIT_MSB;
1310:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.ClockStrobing = SAI_CLOCKSTROBING_RISINGEDGE;
1311:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.Synchro = SAI_SYNCHRONOUS;
1312:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.OutputDrive = SAI_OUTPUTDRIVE_DISABLED;
1313:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.FIFOThreshold = SAI_FIFOTHRESHOLD_1QF;
1314:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
1315:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Configure SAI_Block_x Frame
1316:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Frame Length: 64
1317:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Frame active Length: 32
1318:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   FS Definition: Start frame + Channel Side identification
1319:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   FS Polarity: FS active Low
1320:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   FS Offset: FS asserted one bit before the first bit of slot 0 */
1321:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.FrameInit.FrameLength = 64;
1322:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.FrameInit.ActiveFrameLength = 32;
1323:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.FrameInit.FSDefinition = SAI_FS_CHANNEL_IDENTIFICATION;
1324:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.FrameInit.FSPolarity = SAI_FS_ACTIVE_LOW;
1325:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.FrameInit.FSOffset = SAI_FS_BEFOREFIRSTBIT;
1326:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
1327:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Configure SAI Block_x Slot
1328:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Slot First Bit Offset: 0
1329:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Slot Size  : 16
1330:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Slot Number: 4
1331:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   Slot Active: All slot active */
1332:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.SlotInit.FirstBitOffset = 0;
1333:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.SlotInit.SlotSize = SAI_SLOTSIZE_DATASIZE;
1334:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.SlotInit.SlotNumber = 4;
1335:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.SlotInit.SlotActive = SlotActive;
1336:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1337:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_Init(&haudio_in_sai);
1338:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1339:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Enable SAI peripheral to generate MCLK */
1340:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_ENABLE(&haudio_out_sai);
1341:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1342:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Enable SAI peripheral */
1343:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_ENABLE(&haudio_in_sai);
1344:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
1345:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1346:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1347:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1348:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** /**
1349:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @brief  Deinitializes the output Audio Codec audio interface (SAI).
1350:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   * @retval None
1351:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   */
1352:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** static void SAIx_In_DeInit(void)
1353:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** {
  66              		.loc 1 1353 0
  67              		.cfi_startproc
  68              		@ args = 0, pretend = 0, frame = 0
  69              		@ frame_needed = 0, uses_anonymous_args = 0
  70 0000 08B5     		push	{r3, lr}
  71              	.LCFI1:
  72              		.cfi_def_cfa_offset 8
  73              		.cfi_offset 3, -8
  74              		.cfi_offset 14, -4
1354:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Initialize the haudio_in_sai Instance parameter */
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 26


1355:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Instance = AUDIO_IN_SAIx;
  75              		.loc 1 1355 0
  76 0002 0548     		ldr	r0, .L7
  77 0004 054B     		ldr	r3, .L7+4
  78 0006 0360     		str	r3, [r0]
1356:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1357:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Disable SAI peripheral */
1358:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   __HAL_SAI_DISABLE(&haudio_in_sai);
  79              		.loc 1 1358 0
  80 0008 1A68     		ldr	r2, [r3]
  81 000a 22F48032 		bic	r2, r2, #65536
  82 000e 1A60     		str	r2, [r3]
1359:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
1360:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_DeInit(&haudio_in_sai);
  83              		.loc 1 1360 0
  84 0010 FFF7FEFF 		bl	HAL_SAI_DeInit
  85              	.LVL1:
1361:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
  86              		.loc 1 1361 0
  87 0014 08BD     		pop	{r3, pc}
  88              	.L8:
  89 0016 00BF     		.align	2
  90              	.L7:
  91 0018 00000000 		.word	.LANCHOR1
  92 001c 245C0140 		.word	1073830948
  93              		.cfi_endproc
  94              	.LFE178:
  96              		.section	.text.SAIx_Out_Init,"ax",%progbits
  97              		.align	1
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 101              		.fpu fpv5-sp-d16
 103              	SAIx_Out_Init:
 104              	.LFB159:
 715:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Initialize the haudio_out_sai Instance parameter */
 105              		.loc 1 715 0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 0
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109              	.LVL2:
 110 0000 10B5     		push	{r4, lr}
 111              	.LCFI2:
 112              		.cfi_def_cfa_offset 8
 113              		.cfi_offset 4, -8
 114              		.cfi_offset 14, -4
 717:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 115              		.loc 1 717 0
 116 0002 184C     		ldr	r4, .L11
 117 0004 184B     		ldr	r3, .L11+4
 118 0006 2360     		str	r3, [r4]
 720:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 119              		.loc 1 720 0
 120 0008 1A68     		ldr	r2, [r3]
 121 000a 22F48032 		bic	r2, r2, #65536
 122 000e 1A60     		str	r2, [r3]
 725:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.AudioMode = SAI_MODEMASTER_TX;
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 27


 123              		.loc 1 725 0
 124 0010 E061     		str	r0, [r4, #28]
 726:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.NoDivider = SAI_MASTERDIVIDER_ENABLED;
 125              		.loc 1 726 0
 126 0012 0023     		movs	r3, #0
 127 0014 6360     		str	r3, [r4, #4]
 727:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.Protocol = SAI_FREE_PROTOCOL;
 128              		.loc 1 727 0
 129 0016 6361     		str	r3, [r4, #20]
 728:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.DataSize = SAI_DATASIZE_16;
 130              		.loc 1 728 0
 131 0018 2363     		str	r3, [r4, #48]
 729:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.FirstBit = SAI_FIRSTBIT_MSB;
 132              		.loc 1 729 0
 133 001a 8022     		movs	r2, #128
 134 001c 6263     		str	r2, [r4, #52]
 730:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.ClockStrobing = SAI_CLOCKSTROBING_RISINGEDGE;
 135              		.loc 1 730 0
 136 001e A363     		str	r3, [r4, #56]
 731:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.Synchro = SAI_ASYNCHRONOUS;
 137              		.loc 1 731 0
 138 0020 0122     		movs	r2, #1
 139 0022 E263     		str	r2, [r4, #60]
 732:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.OutputDrive = SAI_OUTPUTDRIVE_ENABLED;
 140              		.loc 1 732 0
 141 0024 A360     		str	r3, [r4, #8]
 733:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.FIFOThreshold = SAI_FIFOTHRESHOLD_1QF;
 142              		.loc 1 733 0
 143 0026 4FF40051 		mov	r1, #8192
 144 002a 2161     		str	r1, [r4, #16]
 734:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 145              		.loc 1 734 0
 146 002c A261     		str	r2, [r4, #24]
 742:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.ActiveFrameLength = 32;
 147              		.loc 1 742 0
 148 002e 4022     		movs	r2, #64
 149 0030 2264     		str	r2, [r4, #64]
 743:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FSDefinition = SAI_FS_CHANNEL_IDENTIFICATION;
 150              		.loc 1 743 0
 151 0032 2022     		movs	r2, #32
 152 0034 6264     		str	r2, [r4, #68]
 744:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FSPolarity = SAI_FS_ACTIVE_LOW;
 153              		.loc 1 744 0
 154 0036 4FF48032 		mov	r2, #65536
 155 003a A264     		str	r2, [r4, #72]
 745:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FSOffset = SAI_FS_BEFOREFIRSTBIT;
 156              		.loc 1 745 0
 157 003c E364     		str	r3, [r4, #76]
 746:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 158              		.loc 1 746 0
 159 003e 4FF48022 		mov	r2, #262144
 160 0042 2265     		str	r2, [r4, #80]
 753:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotSize = SAI_SLOTSIZE_DATASIZE;
 161              		.loc 1 753 0
 162 0044 6365     		str	r3, [r4, #84]
 754:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotNumber = 4; 
 163              		.loc 1 754 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 28


 164 0046 A365     		str	r3, [r4, #88]
 755:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotActive = CODEC_AUDIOFRAME_SLOT_0123;
 165              		.loc 1 755 0
 166 0048 0423     		movs	r3, #4
 167 004a E365     		str	r3, [r4, #92]
 756:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 168              		.loc 1 756 0
 169 004c 0F23     		movs	r3, #15
 170 004e 2366     		str	r3, [r4, #96]
 758:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 171              		.loc 1 758 0
 172 0050 2046     		mov	r0, r4
 173              	.LVL3:
 174 0052 FFF7FEFF 		bl	HAL_SAI_Init
 175              	.LVL4:
 761:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 176              		.loc 1 761 0
 177 0056 2268     		ldr	r2, [r4]
 178 0058 1368     		ldr	r3, [r2]
 179 005a 43F48033 		orr	r3, r3, #65536
 180 005e 1360     		str	r3, [r2]
 762:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 181              		.loc 1 762 0
 182 0060 10BD     		pop	{r4, pc}
 183              	.L12:
 184 0062 00BF     		.align	2
 185              	.L11:
 186 0064 00000000 		.word	.LANCHOR0
 187 0068 045C0140 		.word	1073830916
 188              		.cfi_endproc
 189              	.LFE159:
 191              		.section	.text.SAIx_In_Init,"ax",%progbits
 192              		.align	1
 193              		.syntax unified
 194              		.thumb
 195              		.thumb_func
 196              		.fpu fpv5-sp-d16
 198              	SAIx_In_Init:
 199              	.LFB177:
1248:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Initialize SAI2 block A in MASTER RX */
 200              		.loc 1 1248 0
 201              		.cfi_startproc
 202              		@ args = 0, pretend = 0, frame = 8
 203              		@ frame_needed = 0, uses_anonymous_args = 0
 204              	.LVL5:
 205 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 206              	.LCFI3:
 207              		.cfi_def_cfa_offset 36
 208              		.cfi_offset 4, -36
 209              		.cfi_offset 5, -32
 210              		.cfi_offset 6, -28
 211              		.cfi_offset 7, -24
 212              		.cfi_offset 8, -20
 213              		.cfi_offset 9, -16
 214              		.cfi_offset 10, -12
 215              		.cfi_offset 11, -8
 216              		.cfi_offset 14, -4
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 29


 217 0004 83B0     		sub	sp, sp, #12
 218              	.LCFI4:
 219              		.cfi_def_cfa_offset 48
 220 0006 1446     		mov	r4, r2
1251:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 221              		.loc 1 1251 0
 222 0008 324D     		ldr	r5, .L15
 223 000a 334B     		ldr	r3, .L15+4
 224 000c 2B60     		str	r3, [r5]
1254:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 225              		.loc 1 1254 0
 226 000e 1A68     		ldr	r2, [r3]
 227              	.LVL6:
 228 0010 22F48032 		bic	r2, r2, #65536
 229 0014 1A60     		str	r2, [r3]
1259:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.AudioMode = SaiOutMode;
 230              		.loc 1 1259 0
 231 0016 0194     		str	r4, [sp, #4]
 232 0018 EC61     		str	r4, [r5, #28]
1260:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.NoDivider = SAI_MASTERDIVIDER_ENABLED;
 233              		.loc 1 1260 0
 234 001a 6860     		str	r0, [r5, #4]
1261:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.Protocol = SAI_FREE_PROTOCOL;
 235              		.loc 1 1261 0
 236 001c 0026     		movs	r6, #0
 237 001e 6E61     		str	r6, [r5, #20]
1262:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.DataSize = SAI_DATASIZE_16;
 238              		.loc 1 1262 0
 239 0020 2E63     		str	r6, [r5, #48]
1263:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.FirstBit = SAI_FIRSTBIT_MSB;
 240              		.loc 1 1263 0
 241 0022 4FF0800B 		mov	fp, #128
 242 0026 C5F834B0 		str	fp, [r5, #52]
1264:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.ClockStrobing = SAI_CLOCKSTROBING_RISINGEDGE;
 243              		.loc 1 1264 0
 244 002a AE63     		str	r6, [r5, #56]
1265:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.Synchro = SAI_ASYNCHRONOUS;
 245              		.loc 1 1265 0
 246 002c 0127     		movs	r7, #1
 247 002e EF63     		str	r7, [r5, #60]
1266:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.OutputDrive = SAI_OUTPUTDRIVE_ENABLED;
 248              		.loc 1 1266 0
 249 0030 AE60     		str	r6, [r5, #8]
1267:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.Init.FIFOThreshold = SAI_FIFOTHRESHOLD_1QF;
 250              		.loc 1 1267 0
 251 0032 4FF40053 		mov	r3, #8192
 252 0036 2B61     		str	r3, [r5, #16]
1268:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 253              		.loc 1 1268 0
 254 0038 AF61     		str	r7, [r5, #24]
1276:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.ActiveFrameLength = 32;
 255              		.loc 1 1276 0
 256 003a 4FF0400A 		mov	r10, #64
 257 003e C5F840A0 		str	r10, [r5, #64]
1277:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FSDefinition = SAI_FS_CHANNEL_IDENTIFICATION;
 258              		.loc 1 1277 0
 259 0042 4FF02009 		mov	r9, #32
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 30


 260 0046 C5F84490 		str	r9, [r5, #68]
1278:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FSPolarity = SAI_FS_ACTIVE_LOW;
 261              		.loc 1 1278 0
 262 004a 4FF48038 		mov	r8, #65536
 263 004e C5F84880 		str	r8, [r5, #72]
1279:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.FrameInit.FSOffset = SAI_FS_BEFOREFIRSTBIT;
 264              		.loc 1 1279 0
 265 0052 EE64     		str	r6, [r5, #76]
1280:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 266              		.loc 1 1280 0
 267 0054 4FF48020 		mov	r0, #262144
 268              	.LVL7:
 269 0058 2865     		str	r0, [r5, #80]
1287:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotSize = SAI_SLOTSIZE_DATASIZE;
 270              		.loc 1 1287 0
 271 005a 6E65     		str	r6, [r5, #84]
1288:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotNumber = 4;
 272              		.loc 1 1288 0
 273 005c AE65     		str	r6, [r5, #88]
1289:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_out_sai.SlotInit.SlotActive = SlotActive;
 274              		.loc 1 1289 0
 275 005e 0420     		movs	r0, #4
 276 0060 E865     		str	r0, [r5, #92]
1290:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 277              		.loc 1 1290 0
 278 0062 0091     		str	r1, [sp]
 279 0064 2966     		str	r1, [r5, #96]
1292:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 280              		.loc 1 1292 0
 281 0066 2846     		mov	r0, r5
 282 0068 FFF7FEFF 		bl	HAL_SAI_Init
 283              	.LVL8:
1296:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 284              		.loc 1 1296 0
 285 006c 1B4C     		ldr	r4, .L15+8
 286              	.LVL9:
 287 006e 1C4B     		ldr	r3, .L15+12
 288 0070 2360     		str	r3, [r4]
1299:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 289              		.loc 1 1299 0
 290 0072 1A68     		ldr	r2, [r3]
 291 0074 22F48032 		bic	r2, r2, #65536
 292 0078 1A60     		str	r2, [r3]
 293              	.LVL10:
1304:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.AudioMode = SAI_MODESLAVE_RX;
 294              		.loc 1 1304 0
 295 007a 019B     		ldr	r3, [sp, #4]
 296 007c E361     		str	r3, [r4, #28]
1305:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.NoDivider = SAI_MASTERDIVIDER_ENABLED;
 297              		.loc 1 1305 0
 298 007e 0323     		movs	r3, #3
 299 0080 6360     		str	r3, [r4, #4]
1306:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.Protocol = SAI_FREE_PROTOCOL;
 300              		.loc 1 1306 0
 301 0082 6661     		str	r6, [r4, #20]
1307:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.DataSize = SAI_DATASIZE_16;
 302              		.loc 1 1307 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 31


 303 0084 2663     		str	r6, [r4, #48]
1308:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.FirstBit = SAI_FIRSTBIT_MSB;
 304              		.loc 1 1308 0
 305 0086 C4F834B0 		str	fp, [r4, #52]
1309:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.ClockStrobing = SAI_CLOCKSTROBING_RISINGEDGE;
 306              		.loc 1 1309 0
 307 008a A663     		str	r6, [r4, #56]
1310:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.Synchro = SAI_SYNCHRONOUS;
 308              		.loc 1 1310 0
 309 008c E763     		str	r7, [r4, #60]
1311:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.OutputDrive = SAI_OUTPUTDRIVE_DISABLED;
 310              		.loc 1 1311 0
 311 008e A760     		str	r7, [r4, #8]
1312:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.Init.FIFOThreshold = SAI_FIFOTHRESHOLD_1QF;
 312              		.loc 1 1312 0
 313 0090 2661     		str	r6, [r4, #16]
1313:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 314              		.loc 1 1313 0
 315 0092 A761     		str	r7, [r4, #24]
1321:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.FrameInit.ActiveFrameLength = 32;
 316              		.loc 1 1321 0
 317 0094 C4F840A0 		str	r10, [r4, #64]
1322:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.FrameInit.FSDefinition = SAI_FS_CHANNEL_IDENTIFICATION;
 318              		.loc 1 1322 0
 319 0098 C4F84490 		str	r9, [r4, #68]
1323:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.FrameInit.FSPolarity = SAI_FS_ACTIVE_LOW;
 320              		.loc 1 1323 0
 321 009c C4F84880 		str	r8, [r4, #72]
1324:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.FrameInit.FSOffset = SAI_FS_BEFOREFIRSTBIT;
 322              		.loc 1 1324 0
 323 00a0 E664     		str	r6, [r4, #76]
1325:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 324              		.loc 1 1325 0
 325 00a2 4FF48023 		mov	r3, #262144
 326 00a6 2365     		str	r3, [r4, #80]
1332:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.SlotInit.SlotSize = SAI_SLOTSIZE_DATASIZE;
 327              		.loc 1 1332 0
 328 00a8 6665     		str	r6, [r4, #84]
1333:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.SlotInit.SlotNumber = 4;
 329              		.loc 1 1333 0
 330 00aa A665     		str	r6, [r4, #88]
1334:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   haudio_in_sai.SlotInit.SlotActive = SlotActive;
 331              		.loc 1 1334 0
 332 00ac 0423     		movs	r3, #4
 333 00ae E365     		str	r3, [r4, #92]
1335:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 334              		.loc 1 1335 0
 335 00b0 009A     		ldr	r2, [sp]
 336 00b2 2266     		str	r2, [r4, #96]
1337:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 337              		.loc 1 1337 0
 338 00b4 2046     		mov	r0, r4
 339 00b6 FFF7FEFF 		bl	HAL_SAI_Init
 340              	.LVL11:
1340:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 341              		.loc 1 1340 0
 342 00ba 2A68     		ldr	r2, [r5]
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 32


 343 00bc 1368     		ldr	r3, [r2]
 344 00be 43EA0803 		orr	r3, r3, r8
 345 00c2 1360     		str	r3, [r2]
1343:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 346              		.loc 1 1343 0
 347 00c4 2268     		ldr	r2, [r4]
 348 00c6 1368     		ldr	r3, [r2]
 349 00c8 43EA0803 		orr	r3, r3, r8
 350 00cc 1360     		str	r3, [r2]
1344:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 351              		.loc 1 1344 0
 352 00ce 03B0     		add	sp, sp, #12
 353              	.LCFI5:
 354              		.cfi_def_cfa_offset 36
 355              		@ sp needed
 356 00d0 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 357              	.L16:
 358              		.align	2
 359              	.L15:
 360 00d4 00000000 		.word	.LANCHOR0
 361 00d8 045C0140 		.word	1073830916
 362 00dc 00000000 		.word	.LANCHOR1
 363 00e0 245C0140 		.word	1073830948
 364              		.cfi_endproc
 365              	.LFE177:
 367              		.section	.text.BSP_AUDIO_OUT_Play,"ax",%progbits
 368              		.align	1
 369              		.global	BSP_AUDIO_OUT_Play
 370              		.syntax unified
 371              		.thumb
 372              		.thumb_func
 373              		.fpu fpv5-sp-d16
 375              	BSP_AUDIO_OUT_Play:
 376              	.LFB139:
 233:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the audio Codec Play function */
 377              		.loc 1 233 0
 378              		.cfi_startproc
 379              		@ args = 0, pretend = 0, frame = 0
 380              		@ frame_needed = 0, uses_anonymous_args = 0
 381              	.LVL12:
 382 0000 38B5     		push	{r3, r4, r5, lr}
 383              	.LCFI6:
 384              		.cfi_def_cfa_offset 16
 385              		.cfi_offset 3, -16
 386              		.cfi_offset 4, -12
 387              		.cfi_offset 5, -8
 388              		.cfi_offset 14, -4
 389 0002 0546     		mov	r5, r0
 390 0004 0C46     		mov	r4, r1
 235:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {  
 391              		.loc 1 235 0
 392 0006 0C4B     		ldr	r3, .L23
 393 0008 1B68     		ldr	r3, [r3]
 394 000a DB68     		ldr	r3, [r3, #12]
 395 000c 8AB2     		uxth	r2, r1
 396 000e 0146     		mov	r1, r0
 397              	.LVL13:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 33


 398 0010 3420     		movs	r0, #52
 399              	.LVL14:
 400 0012 9847     		blx	r3
 401              	.LVL15:
 402 0014 68B9     		cbnz	r0, .L20
 242:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 403              		.loc 1 242 0
 404 0016 B4F5003F 		cmp	r4, #131072
 405 001a 07D2     		bcs	.L21
 242:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 406              		.loc 1 242 0 is_stmt 0 discriminator 1
 407 001c C4F34F02 		ubfx	r2, r4, #1, #16
 408              	.L19:
 242:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 409              		.loc 1 242 0 discriminator 4
 410 0020 2946     		mov	r1, r5
 411 0022 0648     		ldr	r0, .L23+4
 412 0024 FFF7FEFF 		bl	HAL_SAI_Transmit_DMA
 413              	.LVL16:
 244:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 414              		.loc 1 244 0 is_stmt 1 discriminator 4
 415 0028 0020     		movs	r0, #0
 416              	.L18:
 246:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 417              		.loc 1 246 0
 418 002a 38BD     		pop	{r3, r4, r5, pc}
 419              	.LVL17:
 420              	.L21:
 242:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 421              		.loc 1 242 0
 422 002c 4FF6FF72 		movw	r2, #65535
 423 0030 F6E7     		b	.L19
 424              	.L20:
 237:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 425              		.loc 1 237 0
 426 0032 0120     		movs	r0, #1
 427 0034 F9E7     		b	.L18
 428              	.L24:
 429 0036 00BF     		.align	2
 430              	.L23:
 431 0038 00000000 		.word	audio_drv
 432 003c 00000000 		.word	.LANCHOR0
 433              		.cfi_endproc
 434              	.LFE139:
 436              		.section	.text.BSP_AUDIO_OUT_ChangeBuffer,"ax",%progbits
 437              		.align	1
 438              		.global	BSP_AUDIO_OUT_ChangeBuffer
 439              		.syntax unified
 440              		.thumb
 441              		.thumb_func
 442              		.fpu fpv5-sp-d16
 444              	BSP_AUDIO_OUT_ChangeBuffer:
 445              	.LFB140:
 255:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****    HAL_SAI_Transmit_DMA(&haudio_out_sai, (uint8_t*) pData, Size);
 446              		.loc 1 255 0
 447              		.cfi_startproc
 448              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 34


 449              		@ frame_needed = 0, uses_anonymous_args = 0
 450              	.LVL18:
 451 0000 08B5     		push	{r3, lr}
 452              	.LCFI7:
 453              		.cfi_def_cfa_offset 8
 454              		.cfi_offset 3, -8
 455              		.cfi_offset 14, -4
 256:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 456              		.loc 1 256 0
 457 0002 0A46     		mov	r2, r1
 458 0004 0146     		mov	r1, r0
 459              	.LVL19:
 460 0006 0248     		ldr	r0, .L27
 461              	.LVL20:
 462 0008 FFF7FEFF 		bl	HAL_SAI_Transmit_DMA
 463              	.LVL21:
 257:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 464              		.loc 1 257 0
 465 000c 08BD     		pop	{r3, pc}
 466              	.L28:
 467 000e 00BF     		.align	2
 468              	.L27:
 469 0010 00000000 		.word	.LANCHOR0
 470              		.cfi_endproc
 471              	.LFE140:
 473              		.section	.text.BSP_AUDIO_OUT_Pause,"ax",%progbits
 474              		.align	1
 475              		.global	BSP_AUDIO_OUT_Pause
 476              		.syntax unified
 477              		.thumb
 478              		.thumb_func
 479              		.fpu fpv5-sp-d16
 481              	BSP_AUDIO_OUT_Pause:
 482              	.LFB141:
 268:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 483              		.loc 1 268 0
 484              		.cfi_startproc
 485              		@ args = 0, pretend = 0, frame = 0
 486              		@ frame_needed = 0, uses_anonymous_args = 0
 487 0000 08B5     		push	{r3, lr}
 488              	.LCFI8:
 489              		.cfi_def_cfa_offset 8
 490              		.cfi_offset 3, -8
 491              		.cfi_offset 14, -4
 270:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 492              		.loc 1 270 0
 493 0002 064B     		ldr	r3, .L34
 494 0004 1B68     		ldr	r3, [r3]
 495 0006 1B69     		ldr	r3, [r3, #16]
 496 0008 3420     		movs	r0, #52
 497 000a 9847     		blx	r3
 498              	.LVL22:
 499 000c 08B1     		cbz	r0, .L33
 272:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 500              		.loc 1 272 0
 501 000e 0120     		movs	r0, #1
 502              	.L30:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 35


 282:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 503              		.loc 1 282 0
 504 0010 08BD     		pop	{r3, pc}
 505              	.L33:
 277:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 506              		.loc 1 277 0
 507 0012 0348     		ldr	r0, .L34+4
 508 0014 FFF7FEFF 		bl	HAL_SAI_DMAPause
 509              	.LVL23:
 280:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 510              		.loc 1 280 0
 511 0018 0020     		movs	r0, #0
 512 001a F9E7     		b	.L30
 513              	.L35:
 514              		.align	2
 515              	.L34:
 516 001c 00000000 		.word	audio_drv
 517 0020 00000000 		.word	.LANCHOR0
 518              		.cfi_endproc
 519              	.LFE141:
 521              		.section	.text.BSP_AUDIO_OUT_Resume,"ax",%progbits
 522              		.align	1
 523              		.global	BSP_AUDIO_OUT_Resume
 524              		.syntax unified
 525              		.thumb
 526              		.thumb_func
 527              		.fpu fpv5-sp-d16
 529              	BSP_AUDIO_OUT_Resume:
 530              	.LFB142:
 292:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 531              		.loc 1 292 0
 532              		.cfi_startproc
 533              		@ args = 0, pretend = 0, frame = 0
 534              		@ frame_needed = 0, uses_anonymous_args = 0
 535 0000 08B5     		push	{r3, lr}
 536              	.LCFI9:
 537              		.cfi_def_cfa_offset 8
 538              		.cfi_offset 3, -8
 539              		.cfi_offset 14, -4
 294:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 540              		.loc 1 294 0
 541 0002 064B     		ldr	r3, .L41
 542 0004 1B68     		ldr	r3, [r3]
 543 0006 5B69     		ldr	r3, [r3, #20]
 544 0008 3420     		movs	r0, #52
 545 000a 9847     		blx	r3
 546              	.LVL24:
 547 000c 08B1     		cbz	r0, .L40
 296:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 548              		.loc 1 296 0
 549 000e 0120     		movs	r0, #1
 550              	.L37:
 306:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 551              		.loc 1 306 0
 552 0010 08BD     		pop	{r3, pc}
 553              	.L40:
 301:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 36


 554              		.loc 1 301 0
 555 0012 0348     		ldr	r0, .L41+4
 556 0014 FFF7FEFF 		bl	HAL_SAI_DMAResume
 557              	.LVL25:
 304:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 558              		.loc 1 304 0
 559 0018 0020     		movs	r0, #0
 560 001a F9E7     		b	.L37
 561              	.L42:
 562              		.align	2
 563              	.L41:
 564 001c 00000000 		.word	audio_drv
 565 0020 00000000 		.word	.LANCHOR0
 566              		.cfi_endproc
 567              	.LFE142:
 569              		.section	.text.BSP_AUDIO_OUT_Stop,"ax",%progbits
 570              		.align	1
 571              		.global	BSP_AUDIO_OUT_Stop
 572              		.syntax unified
 573              		.thumb
 574              		.thumb_func
 575              		.fpu fpv5-sp-d16
 577              	BSP_AUDIO_OUT_Stop:
 578              	.LFB143:
 318:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Media layer stop function */
 579              		.loc 1 318 0
 580              		.cfi_startproc
 581              		@ args = 0, pretend = 0, frame = 0
 582              		@ frame_needed = 0, uses_anonymous_args = 0
 583              	.LVL26:
 584 0000 10B5     		push	{r4, lr}
 585              	.LCFI10:
 586              		.cfi_def_cfa_offset 8
 587              		.cfi_offset 4, -8
 588              		.cfi_offset 14, -4
 589 0002 0446     		mov	r4, r0
 320:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 590              		.loc 1 320 0
 591 0004 0A48     		ldr	r0, .L49
 592              	.LVL27:
 593 0006 FFF7FEFF 		bl	HAL_SAI_DMAStop
 594              	.LVL28:
 323:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 595              		.loc 1 323 0
 596 000a 0A4B     		ldr	r3, .L49+4
 597 000c 1B68     		ldr	r3, [r3]
 598 000e 9B69     		ldr	r3, [r3, #24]
 599 0010 2146     		mov	r1, r4
 600 0012 3420     		movs	r0, #52
 601 0014 9847     		blx	r3
 602              	.LVL29:
 603 0016 40B9     		cbnz	r0, .L45
 329:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     { 
 604              		.loc 1 329 0
 605 0018 012C     		cmp	r4, #1
 606 001a 01D0     		beq	.L48
 335:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 37


 607              		.loc 1 335 0
 608 001c 0020     		movs	r0, #0
 609 001e 05E0     		b	.L44
 610              	.L48:
 332:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 611              		.loc 1 332 0
 612 0020 0120     		movs	r0, #1
 613 0022 FFF7FEFF 		bl	HAL_Delay
 614              	.LVL30:
 335:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 615              		.loc 1 335 0
 616 0026 0020     		movs	r0, #0
 617 0028 00E0     		b	.L44
 618              	.L45:
 325:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 619              		.loc 1 325 0
 620 002a 0120     		movs	r0, #1
 621              	.L44:
 337:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 622              		.loc 1 337 0
 623 002c 10BD     		pop	{r4, pc}
 624              	.LVL31:
 625              	.L50:
 626 002e 00BF     		.align	2
 627              	.L49:
 628 0030 00000000 		.word	.LANCHOR0
 629 0034 00000000 		.word	audio_drv
 630              		.cfi_endproc
 631              	.LFE143:
 633              		.section	.text.BSP_AUDIO_OUT_SetVolume,"ax",%progbits
 634              		.align	1
 635              		.global	BSP_AUDIO_OUT_SetVolume
 636              		.syntax unified
 637              		.thumb
 638              		.thumb_func
 639              		.fpu fpv5-sp-d16
 641              	BSP_AUDIO_OUT_SetVolume:
 642              	.LFB144:
 346:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
 643              		.loc 1 346 0
 644              		.cfi_startproc
 645              		@ args = 0, pretend = 0, frame = 0
 646              		@ frame_needed = 0, uses_anonymous_args = 0
 647              	.LVL32:
 648 0000 08B5     		push	{r3, lr}
 649              	.LCFI11:
 650              		.cfi_def_cfa_offset 8
 651              		.cfi_offset 3, -8
 652              		.cfi_offset 14, -4
 348:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 653              		.loc 1 348 0
 654 0002 054B     		ldr	r3, .L56
 655 0004 1B68     		ldr	r3, [r3]
 656 0006 1B6A     		ldr	r3, [r3, #32]
 657 0008 0146     		mov	r1, r0
 658 000a 3420     		movs	r0, #52
 659              	.LVL33:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 38


 660 000c 9847     		blx	r3
 661              	.LVL34:
 662 000e 08B9     		cbnz	r0, .L55
 355:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 663              		.loc 1 355 0
 664 0010 0020     		movs	r0, #0
 665              	.L52:
 357:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 666              		.loc 1 357 0
 667 0012 08BD     		pop	{r3, pc}
 668              	.L55:
 350:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 669              		.loc 1 350 0
 670 0014 0120     		movs	r0, #1
 671 0016 FCE7     		b	.L52
 672              	.L57:
 673              		.align	2
 674              	.L56:
 675 0018 00000000 		.word	audio_drv
 676              		.cfi_endproc
 677              	.LFE144:
 679              		.section	.text.BSP_AUDIO_OUT_SetMute,"ax",%progbits
 680              		.align	1
 681              		.global	BSP_AUDIO_OUT_SetMute
 682              		.syntax unified
 683              		.thumb
 684              		.thumb_func
 685              		.fpu fpv5-sp-d16
 687              	BSP_AUDIO_OUT_SetMute:
 688              	.LFB145:
 366:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Codec Mute function */
 689              		.loc 1 366 0
 690              		.cfi_startproc
 691              		@ args = 0, pretend = 0, frame = 0
 692              		@ frame_needed = 0, uses_anonymous_args = 0
 693              	.LVL35:
 694 0000 08B5     		push	{r3, lr}
 695              	.LCFI12:
 696              		.cfi_def_cfa_offset 8
 697              		.cfi_offset 3, -8
 698              		.cfi_offset 14, -4
 368:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 699              		.loc 1 368 0
 700 0002 054B     		ldr	r3, .L63
 701 0004 1B68     		ldr	r3, [r3]
 702 0006 5B6A     		ldr	r3, [r3, #36]
 703 0008 0146     		mov	r1, r0
 704 000a 3420     		movs	r0, #52
 705              	.LVL36:
 706 000c 9847     		blx	r3
 707              	.LVL37:
 708 000e 08B9     		cbnz	r0, .L62
 375:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 709              		.loc 1 375 0
 710 0010 0020     		movs	r0, #0
 711              	.L59:
 377:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 39


 712              		.loc 1 377 0
 713 0012 08BD     		pop	{r3, pc}
 714              	.L62:
 370:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 715              		.loc 1 370 0
 716 0014 0120     		movs	r0, #1
 717 0016 FCE7     		b	.L59
 718              	.L64:
 719              		.align	2
 720              	.L63:
 721 0018 00000000 		.word	audio_drv
 722              		.cfi_endproc
 723              	.LFE145:
 725              		.section	.text.BSP_AUDIO_OUT_SetOutputMode,"ax",%progbits
 726              		.align	1
 727              		.global	BSP_AUDIO_OUT_SetOutputMode
 728              		.syntax unified
 729              		.thumb
 730              		.thumb_func
 731              		.fpu fpv5-sp-d16
 733              	BSP_AUDIO_OUT_SetOutputMode:
 734              	.LFB146:
 387:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Codec output device function */
 735              		.loc 1 387 0
 736              		.cfi_startproc
 737              		@ args = 0, pretend = 0, frame = 0
 738              		@ frame_needed = 0, uses_anonymous_args = 0
 739              	.LVL38:
 740 0000 08B5     		push	{r3, lr}
 741              	.LCFI13:
 742              		.cfi_def_cfa_offset 8
 743              		.cfi_offset 3, -8
 744              		.cfi_offset 14, -4
 389:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 745              		.loc 1 389 0
 746 0002 054B     		ldr	r3, .L70
 747 0004 1B68     		ldr	r3, [r3]
 748 0006 9B6A     		ldr	r3, [r3, #40]
 749 0008 0146     		mov	r1, r0
 750 000a 3420     		movs	r0, #52
 751              	.LVL39:
 752 000c 9847     		blx	r3
 753              	.LVL40:
 754 000e 08B9     		cbnz	r0, .L69
 396:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 755              		.loc 1 396 0
 756 0010 0020     		movs	r0, #0
 757              	.L66:
 398:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 758              		.loc 1 398 0
 759 0012 08BD     		pop	{r3, pc}
 760              	.L69:
 391:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 761              		.loc 1 391 0
 762 0014 0120     		movs	r0, #1
 763 0016 FCE7     		b	.L66
 764              	.L71:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 40


 765              		.align	2
 766              	.L70:
 767 0018 00000000 		.word	audio_drv
 768              		.cfi_endproc
 769              	.LFE146:
 771              		.section	.text.BSP_AUDIO_OUT_SetAudioFrameSlot,"ax",%progbits
 772              		.align	1
 773              		.global	BSP_AUDIO_OUT_SetAudioFrameSlot
 774              		.syntax unified
 775              		.thumb
 776              		.thumb_func
 777              		.fpu fpv5-sp-d16
 779              	BSP_AUDIO_OUT_SetAudioFrameSlot:
 780              	.LFB148:
 435:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Disable SAI peripheral to allow access to SAI internal registers */
 781              		.loc 1 435 0
 782              		.cfi_startproc
 783              		@ args = 0, pretend = 0, frame = 0
 784              		@ frame_needed = 0, uses_anonymous_args = 0
 785              	.LVL41:
 786 0000 10B5     		push	{r4, lr}
 787              	.LCFI14:
 788              		.cfi_def_cfa_offset 8
 789              		.cfi_offset 4, -8
 790              		.cfi_offset 14, -4
 437:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 791              		.loc 1 437 0
 792 0002 084C     		ldr	r4, .L74
 793 0004 2268     		ldr	r2, [r4]
 794 0006 1368     		ldr	r3, [r2]
 795 0008 23F48033 		bic	r3, r3, #65536
 796 000c 1360     		str	r3, [r2]
 440:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_Init(&haudio_out_sai);
 797              		.loc 1 440 0
 798 000e 2066     		str	r0, [r4, #96]
 441:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 799              		.loc 1 441 0
 800 0010 2046     		mov	r0, r4
 801              	.LVL42:
 802 0012 FFF7FEFF 		bl	HAL_SAI_Init
 803              	.LVL43:
 444:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 804              		.loc 1 444 0
 805 0016 2268     		ldr	r2, [r4]
 806 0018 1368     		ldr	r3, [r2]
 807 001a 43F48033 		orr	r3, r3, #65536
 808 001e 1360     		str	r3, [r2]
 445:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 809              		.loc 1 445 0
 810 0020 10BD     		pop	{r4, pc}
 811              	.L75:
 812 0022 00BF     		.align	2
 813              	.L74:
 814 0024 00000000 		.word	.LANCHOR0
 815              		.cfi_endproc
 816              	.LFE148:
 818              		.section	.text.BSP_AUDIO_OUT_TransferComplete_CallBack,"ax",%progbits
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 41


 819              		.align	1
 820              		.weak	BSP_AUDIO_OUT_TransferComplete_CallBack
 821              		.syntax unified
 822              		.thumb
 823              		.thumb_func
 824              		.fpu fpv5-sp-d16
 826              	BSP_AUDIO_OUT_TransferComplete_CallBack:
 827              	.LFB153:
 512:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 828              		.loc 1 512 0
 829              		.cfi_startproc
 830              		@ args = 0, pretend = 0, frame = 0
 831              		@ frame_needed = 0, uses_anonymous_args = 0
 832              		@ link register save eliminated.
 513:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 833              		.loc 1 513 0
 834 0000 7047     		bx	lr
 835              		.cfi_endproc
 836              	.LFE153:
 838              		.section	.text.HAL_SAI_TxCpltCallback,"ax",%progbits
 839              		.align	1
 840              		.global	HAL_SAI_TxCpltCallback
 841              		.syntax unified
 842              		.thumb
 843              		.thumb_func
 844              		.fpu fpv5-sp-d16
 846              	HAL_SAI_TxCpltCallback:
 847              	.LFB150:
 464:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 848              		.loc 1 464 0
 849              		.cfi_startproc
 850              		@ args = 0, pretend = 0, frame = 0
 851              		@ frame_needed = 0, uses_anonymous_args = 0
 852              	.LVL44:
 853 0000 08B5     		push	{r3, lr}
 854              	.LCFI15:
 855              		.cfi_def_cfa_offset 8
 856              		.cfi_offset 3, -8
 857              		.cfi_offset 14, -4
 467:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 858              		.loc 1 467 0
 859 0002 FFF7FEFF 		bl	BSP_AUDIO_OUT_TransferComplete_CallBack
 860              	.LVL45:
 468:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 861              		.loc 1 468 0
 862 0006 08BD     		pop	{r3, pc}
 863              		.cfi_endproc
 864              	.LFE150:
 866              		.section	.text.BSP_AUDIO_OUT_HalfTransfer_CallBack,"ax",%progbits
 867              		.align	1
 868              		.weak	BSP_AUDIO_OUT_HalfTransfer_CallBack
 869              		.syntax unified
 870              		.thumb
 871              		.thumb_func
 872              		.fpu fpv5-sp-d16
 874              	BSP_AUDIO_OUT_HalfTransfer_CallBack:
 875              	.LFB154:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 42


 520:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 876              		.loc 1 520 0
 877              		.cfi_startproc
 878              		@ args = 0, pretend = 0, frame = 0
 879              		@ frame_needed = 0, uses_anonymous_args = 0
 880              		@ link register save eliminated.
 521:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 881              		.loc 1 521 0
 882 0000 7047     		bx	lr
 883              		.cfi_endproc
 884              	.LFE154:
 886              		.section	.text.HAL_SAI_TxHalfCpltCallback,"ax",%progbits
 887              		.align	1
 888              		.global	HAL_SAI_TxHalfCpltCallback
 889              		.syntax unified
 890              		.thumb
 891              		.thumb_func
 892              		.fpu fpv5-sp-d16
 894              	HAL_SAI_TxHalfCpltCallback:
 895              	.LFB151:
 476:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 896              		.loc 1 476 0
 897              		.cfi_startproc
 898              		@ args = 0, pretend = 0, frame = 0
 899              		@ frame_needed = 0, uses_anonymous_args = 0
 900              	.LVL46:
 901 0000 08B5     		push	{r3, lr}
 902              	.LCFI16:
 903              		.cfi_def_cfa_offset 8
 904              		.cfi_offset 3, -8
 905              		.cfi_offset 14, -4
 479:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 906              		.loc 1 479 0
 907 0002 FFF7FEFF 		bl	BSP_AUDIO_OUT_HalfTransfer_CallBack
 908              	.LVL47:
 480:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 909              		.loc 1 480 0
 910 0006 08BD     		pop	{r3, pc}
 911              		.cfi_endproc
 912              	.LFE151:
 914              		.section	.text.BSP_AUDIO_OUT_Error_CallBack,"ax",%progbits
 915              		.align	1
 916              		.weak	BSP_AUDIO_OUT_Error_CallBack
 917              		.syntax unified
 918              		.thumb
 919              		.thumb_func
 920              		.fpu fpv5-sp-d16
 922              	BSP_AUDIO_OUT_Error_CallBack:
 923              	.LFB155:
 528:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 924              		.loc 1 528 0
 925              		.cfi_startproc
 926              		@ args = 0, pretend = 0, frame = 0
 927              		@ frame_needed = 0, uses_anonymous_args = 0
 928              		@ link register save eliminated.
 529:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 929              		.loc 1 529 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 43


 930 0000 7047     		bx	lr
 931              		.cfi_endproc
 932              	.LFE155:
 934              		.section	.text.BSP_AUDIO_OUT_MspInit,"ax",%progbits
 935              		.align	1
 936              		.weak	BSP_AUDIO_OUT_MspInit
 937              		.syntax unified
 938              		.thumb
 939              		.thumb_func
 940              		.fpu fpv5-sp-d16
 942              	BSP_AUDIO_OUT_MspInit:
 943              	.LFB156:
 538:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   static DMA_HandleTypeDef hdma_sai_tx;
 944              		.loc 1 538 0
 945              		.cfi_startproc
 946              		@ args = 0, pretend = 0, frame = 40
 947              		@ frame_needed = 0, uses_anonymous_args = 0
 948              	.LVL48:
 949 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 950              	.LCFI17:
 951              		.cfi_def_cfa_offset 32
 952              		.cfi_offset 4, -32
 953              		.cfi_offset 5, -28
 954              		.cfi_offset 6, -24
 955              		.cfi_offset 7, -20
 956              		.cfi_offset 8, -16
 957              		.cfi_offset 9, -12
 958              		.cfi_offset 10, -8
 959              		.cfi_offset 14, -4
 960 0004 8AB0     		sub	sp, sp, #40
 961              	.LCFI18:
 962              		.cfi_def_cfa_offset 72
 963 0006 8246     		mov	r10, r0
 964              	.LBB2:
 543:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 965              		.loc 1 543 0
 966 0008 4F4C     		ldr	r4, .L87
 967 000a 636C     		ldr	r3, [r4, #68]
 968 000c 43F40003 		orr	r3, r3, #8388608
 969 0010 6364     		str	r3, [r4, #68]
 970 0012 636C     		ldr	r3, [r4, #68]
 971 0014 03F40003 		and	r3, r3, #8388608
 972 0018 0093     		str	r3, [sp]
 973 001a 009B     		ldr	r3, [sp]
 974              	.LBE2:
 975              	.LBB3:
 546:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   AUDIO_OUT_SAIx_SCK_SD_ENABLE();
 976              		.loc 1 546 0
 977 001c 236B     		ldr	r3, [r4, #48]
 978 001e 43F48073 		orr	r3, r3, #256
 979 0022 2363     		str	r3, [r4, #48]
 980 0024 236B     		ldr	r3, [r4, #48]
 981 0026 03F48073 		and	r3, r3, #256
 982 002a 0193     		str	r3, [sp, #4]
 983 002c 019B     		ldr	r3, [sp, #4]
 984              	.LBE3:
 985              	.LBB4:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 44


 547:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   AUDIO_OUT_SAIx_FS_ENABLE();
 986              		.loc 1 547 0
 987 002e 236B     		ldr	r3, [r4, #48]
 988 0030 43F48073 		orr	r3, r3, #256
 989 0034 2363     		str	r3, [r4, #48]
 990 0036 236B     		ldr	r3, [r4, #48]
 991 0038 03F48073 		and	r3, r3, #256
 992 003c 0293     		str	r3, [sp, #8]
 993 003e 029B     		ldr	r3, [sp, #8]
 994              	.LBE4:
 995              	.LBB5:
 548:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* CODEC_SAI pins configuration: FS, SCK, MCK and SD pins ------------------*/
 996              		.loc 1 548 0
 997 0040 236B     		ldr	r3, [r4, #48]
 998 0042 43F48073 		orr	r3, r3, #256
 999 0046 2363     		str	r3, [r4, #48]
 1000 0048 236B     		ldr	r3, [r4, #48]
 1001 004a 03F48073 		and	r3, r3, #256
 1002 004e 0393     		str	r3, [sp, #12]
 1003 0050 039B     		ldr	r3, [sp, #12]
 1004              	.LBE5:
 550:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Mode = GPIO_MODE_AF_PP;
 1005              		.loc 1 550 0
 1006 0052 8023     		movs	r3, #128
 1007 0054 0593     		str	r3, [sp, #20]
 551:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
 1008              		.loc 1 551 0
 1009 0056 4FF00209 		mov	r9, #2
 1010 005a CDF81890 		str	r9, [sp, #24]
 552:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Speed = GPIO_SPEED_HIGH;
 1011              		.loc 1 552 0
 1012 005e 4FF00008 		mov	r8, #0
 1013 0062 CDF81C80 		str	r8, [sp, #28]
 553:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Alternate = AUDIO_OUT_SAIx_FS_SD_MCLK_AF;
 1014              		.loc 1 553 0
 1015 0066 0327     		movs	r7, #3
 1016 0068 0897     		str	r7, [sp, #32]
 554:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_Init(AUDIO_OUT_SAIx_FS_GPIO_PORT, &gpio_init_structure);
 1017              		.loc 1 554 0
 1018 006a 0A26     		movs	r6, #10
 1019 006c 0996     		str	r6, [sp, #36]
 555:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1020              		.loc 1 555 0
 1021 006e 374D     		ldr	r5, .L87+4
 1022 0070 05A9     		add	r1, sp, #20
 1023              	.LVL49:
 1024 0072 2846     		mov	r0, r5
 1025              	.LVL50:
 1026 0074 FFF7FEFF 		bl	HAL_GPIO_Init
 1027              	.LVL51:
 557:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Mode = GPIO_MODE_AF_PP;
 1028              		.loc 1 557 0
 1029 0078 2023     		movs	r3, #32
 1030 007a 0593     		str	r3, [sp, #20]
 558:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
 1031              		.loc 1 558 0
 1032 007c CDF81890 		str	r9, [sp, #24]
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 45


 559:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Speed = GPIO_SPEED_HIGH;
 1033              		.loc 1 559 0
 1034 0080 CDF81C80 		str	r8, [sp, #28]
 560:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Alternate = AUDIO_OUT_SAIx_SCK_AF;
 1035              		.loc 1 560 0
 1036 0084 0897     		str	r7, [sp, #32]
 561:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_Init(AUDIO_OUT_SAIx_SCK_SD_GPIO_PORT, &gpio_init_structure);
 1037              		.loc 1 561 0
 1038 0086 0996     		str	r6, [sp, #36]
 562:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1039              		.loc 1 562 0
 1040 0088 05A9     		add	r1, sp, #20
 1041 008a 2846     		mov	r0, r5
 1042 008c FFF7FEFF 		bl	HAL_GPIO_Init
 1043              	.LVL52:
 564:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Mode = GPIO_MODE_AF_PP;
 1044              		.loc 1 564 0
 1045 0090 4023     		movs	r3, #64
 1046 0092 0593     		str	r3, [sp, #20]
 565:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
 1047              		.loc 1 565 0
 1048 0094 CDF81890 		str	r9, [sp, #24]
 566:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Speed = GPIO_SPEED_HIGH;
 1049              		.loc 1 566 0
 1050 0098 CDF81C80 		str	r8, [sp, #28]
 567:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Alternate = AUDIO_OUT_SAIx_FS_SD_MCLK_AF;
 1051              		.loc 1 567 0
 1052 009c 0897     		str	r7, [sp, #32]
 568:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_Init(AUDIO_OUT_SAIx_SCK_SD_GPIO_PORT, &gpio_init_structure);
 1053              		.loc 1 568 0
 1054 009e 0996     		str	r6, [sp, #36]
 569:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1055              		.loc 1 569 0
 1056 00a0 05A9     		add	r1, sp, #20
 1057 00a2 2846     		mov	r0, r5
 1058 00a4 FFF7FEFF 		bl	HAL_GPIO_Init
 1059              	.LVL53:
 571:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Mode = GPIO_MODE_AF_PP;
 1060              		.loc 1 571 0
 1061 00a8 1023     		movs	r3, #16
 1062 00aa 0593     		str	r3, [sp, #20]
 572:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
 1063              		.loc 1 572 0
 1064 00ac CDF81890 		str	r9, [sp, #24]
 573:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Speed = GPIO_SPEED_HIGH;
 1065              		.loc 1 573 0
 1066 00b0 CDF81C80 		str	r8, [sp, #28]
 574:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Alternate = AUDIO_OUT_SAIx_FS_SD_MCLK_AF;
 1067              		.loc 1 574 0
 1068 00b4 0897     		str	r7, [sp, #32]
 575:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_Init(AUDIO_OUT_SAIx_MCLK_GPIO_PORT, &gpio_init_structure);
 1069              		.loc 1 575 0
 1070 00b6 0996     		str	r6, [sp, #36]
 576:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1071              		.loc 1 576 0
 1072 00b8 05A9     		add	r1, sp, #20
 1073 00ba 2846     		mov	r0, r5
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 46


 1074 00bc FFF7FEFF 		bl	HAL_GPIO_Init
 1075              	.LVL54:
 1076              	.LBB6:
 579:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 1077              		.loc 1 579 0
 1078 00c0 236B     		ldr	r3, [r4, #48]
 1079 00c2 43F48003 		orr	r3, r3, #4194304
 1080 00c6 2363     		str	r3, [r4, #48]
 1081 00c8 236B     		ldr	r3, [r4, #48]
 1082 00ca 03F48003 		and	r3, r3, #4194304
 1083 00ce 0493     		str	r3, [sp, #16]
 1084 00d0 049B     		ldr	r3, [sp, #16]
 1085              	.LBE6:
 581:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 1086              		.loc 1 581 0
 1087 00d2 DAF80020 		ldr	r2, [r10]
 1088 00d6 1E4B     		ldr	r3, .L87+8
 1089 00d8 9A42     		cmp	r2, r3
 1090 00da 0AD0     		beq	.L86
 1091              	.L84:
 610:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_NVIC_EnableIRQ(AUDIO_OUT_SAIx_DMAx_IRQ); 
 1092              		.loc 1 610 0
 1093 00dc 0022     		movs	r2, #0
 1094 00de 0E21     		movs	r1, #14
 1095 00e0 3C20     		movs	r0, #60
 1096 00e2 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1097              	.LVL55:
 611:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 1098              		.loc 1 611 0
 1099 00e6 3C20     		movs	r0, #60
 1100 00e8 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1101              	.LVL56:
 612:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1102              		.loc 1 612 0
 1103 00ec 0AB0     		add	sp, sp, #40
 1104              	.LCFI19:
 1105              		.cfi_remember_state
 1106              		.cfi_def_cfa_offset 32
 1107              		@ sp needed
 1108 00ee BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1109              	.LVL57:
 1110              	.L86:
 1111              	.LCFI20:
 1112              		.cfi_restore_state
 584:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 1113              		.loc 1 584 0
 1114 00f2 184C     		ldr	r4, .L87+12
 1115 00f4 4FF0C063 		mov	r3, #100663296
 1116 00f8 6360     		str	r3, [r4, #4]
 585:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.PeriphInc           = DMA_PINC_DISABLE;
 1117              		.loc 1 585 0
 1118 00fa 4023     		movs	r3, #64
 1119 00fc A360     		str	r3, [r4, #8]
 586:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.MemInc              = DMA_MINC_ENABLE;
 1120              		.loc 1 586 0
 1121 00fe C4F80C80 		str	r8, [r4, #12]
 587:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.PeriphDataAlignment = AUDIO_OUT_SAIx_DMAx_PERIPH_DATA_SIZE;
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 47


 1122              		.loc 1 587 0
 1123 0102 4FF48062 		mov	r2, #1024
 1124 0106 2261     		str	r2, [r4, #16]
 588:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.MemDataAlignment    = AUDIO_OUT_SAIx_DMAx_MEM_DATA_SIZE;
 1125              		.loc 1 588 0
 1126 0108 4FF40062 		mov	r2, #2048
 1127 010c 6261     		str	r2, [r4, #20]
 589:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.Mode                = DMA_CIRCULAR;
 1128              		.loc 1 589 0
 1129 010e 4FF40052 		mov	r2, #8192
 1130 0112 A261     		str	r2, [r4, #24]
 590:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.Priority            = DMA_PRIORITY_HIGH;
 1131              		.loc 1 590 0
 1132 0114 4FF48072 		mov	r2, #256
 1133 0118 E261     		str	r2, [r4, #28]
 591:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.FIFOMode            = DMA_FIFOMODE_ENABLE;         
 1134              		.loc 1 591 0
 1135 011a 4FF40032 		mov	r2, #131072
 1136 011e 2262     		str	r2, [r4, #32]
 592:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 1137              		.loc 1 592 0
 1138 0120 0422     		movs	r2, #4
 1139 0122 6262     		str	r2, [r4, #36]
 593:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.MemBurst            = DMA_MBURST_SINGLE;
 1140              		.loc 1 593 0
 1141 0124 A762     		str	r7, [r4, #40]
 594:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_tx.Init.PeriphBurst         = DMA_PBURST_SINGLE; 
 1142              		.loc 1 594 0
 1143 0126 C4F82C80 		str	r8, [r4, #44]
 595:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 1144              		.loc 1 595 0
 1145 012a C4F83080 		str	r8, [r4, #48]
 597:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 1146              		.loc 1 597 0
 1147 012e 0A4B     		ldr	r3, .L87+16
 1148 0130 2360     		str	r3, [r4]
 600:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 1149              		.loc 1 600 0
 1150 0132 CAF86C40 		str	r4, [r10, #108]
 1151 0136 C4F838A0 		str	r10, [r4, #56]
 603:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 1152              		.loc 1 603 0
 1153 013a 2046     		mov	r0, r4
 1154 013c FFF7FEFF 		bl	HAL_DMA_DeInit
 1155              	.LVL58:
 606:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 1156              		.loc 1 606 0
 1157 0140 2046     		mov	r0, r4
 1158 0142 FFF7FEFF 		bl	HAL_DMA_Init
 1159              	.LVL59:
 1160 0146 C9E7     		b	.L84
 1161              	.L88:
 1162              		.align	2
 1163              	.L87:
 1164 0148 00380240 		.word	1073887232
 1165 014c 00200240 		.word	1073881088
 1166 0150 045C0140 		.word	1073830916
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 48


 1167 0154 00000000 		.word	.LANCHOR2
 1168 0158 70640240 		.word	1073898608
 1169              		.cfi_endproc
 1170              	.LFE156:
 1172              		.section	.text.BSP_AUDIO_OUT_MspDeInit,"ax",%progbits
 1173              		.align	1
 1174              		.weak	BSP_AUDIO_OUT_MspDeInit
 1175              		.syntax unified
 1176              		.thumb
 1177              		.thumb_func
 1178              		.fpu fpv5-sp-d16
 1180              	BSP_AUDIO_OUT_MspDeInit:
 1181              	.LFB157:
 621:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     GPIO_InitTypeDef  gpio_init_structure;
 1182              		.loc 1 621 0
 1183              		.cfi_startproc
 1184              		@ args = 0, pretend = 0, frame = 0
 1185              		@ frame_needed = 0, uses_anonymous_args = 0
 1186              	.LVL60:
 1187 0000 10B5     		push	{r4, lr}
 1188              	.LCFI21:
 1189              		.cfi_def_cfa_offset 8
 1190              		.cfi_offset 4, -8
 1191              		.cfi_offset 14, -4
 1192 0002 0446     		mov	r4, r0
 625:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1193              		.loc 1 625 0
 1194 0004 3C20     		movs	r0, #60
 1195              	.LVL61:
 1196 0006 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 1197              	.LVL62:
 627:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 1198              		.loc 1 627 0
 1199 000a 2268     		ldr	r2, [r4]
 1200 000c 114B     		ldr	r3, .L93
 1201 000e 9A42     		cmp	r2, r3
 1202 0010 1BD0     		beq	.L92
 1203              	.L90:
 634:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1204              		.loc 1 634 0
 1205 0012 2268     		ldr	r2, [r4]
 1206 0014 1368     		ldr	r3, [r2]
 1207 0016 23F48033 		bic	r3, r3, #65536
 1208 001a 1360     		str	r3, [r2]
 638:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1209              		.loc 1 638 0
 1210 001c 0E4C     		ldr	r4, .L93+4
 1211              	.LVL63:
 1212 001e 8021     		movs	r1, #128
 1213 0020 2046     		mov	r0, r4
 1214 0022 FFF7FEFF 		bl	HAL_GPIO_DeInit
 1215              	.LVL64:
 641:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1216              		.loc 1 641 0
 1217 0026 2021     		movs	r1, #32
 1218 0028 2046     		mov	r0, r4
 1219 002a FFF7FEFF 		bl	HAL_GPIO_DeInit
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 49


 1220              	.LVL65:
 644:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1221              		.loc 1 644 0
 1222 002e 4021     		movs	r1, #64
 1223 0030 2046     		mov	r0, r4
 1224 0032 FFF7FEFF 		bl	HAL_GPIO_DeInit
 1225              	.LVL66:
 647:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 1226              		.loc 1 647 0
 1227 0036 1021     		movs	r1, #16
 1228 0038 2046     		mov	r0, r4
 1229 003a FFF7FEFF 		bl	HAL_GPIO_DeInit
 1230              	.LVL67:
 650:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1231              		.loc 1 650 0
 1232 003e 074A     		ldr	r2, .L93+8
 1233 0040 536C     		ldr	r3, [r2, #68]
 1234 0042 23F40003 		bic	r3, r3, #8388608
 1235 0046 5364     		str	r3, [r2, #68]
 654:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1236              		.loc 1 654 0
 1237 0048 10BD     		pop	{r4, pc}
 1238              	.LVL68:
 1239              	.L92:
 630:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 1240              		.loc 1 630 0
 1241 004a E06E     		ldr	r0, [r4, #108]
 1242 004c FFF7FEFF 		bl	HAL_DMA_DeInit
 1243              	.LVL69:
 1244 0050 DFE7     		b	.L90
 1245              	.L94:
 1246 0052 00BF     		.align	2
 1247              	.L93:
 1248 0054 045C0140 		.word	1073830916
 1249 0058 00200240 		.word	1073881088
 1250 005c 00380240 		.word	1073887232
 1251              		.cfi_endproc
 1252              	.LFE157:
 1254              		.section	.text.BSP_AUDIO_OUT_DeInit,"ax",%progbits
 1255              		.align	1
 1256              		.global	BSP_AUDIO_OUT_DeInit
 1257              		.syntax unified
 1258              		.thumb
 1259              		.thumb_func
 1260              		.fpu fpv5-sp-d16
 1262              	BSP_AUDIO_OUT_DeInit:
 1263              	.LFB149:
 452:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   SAIx_Out_DeInit();
 1264              		.loc 1 452 0
 1265              		.cfi_startproc
 1266              		@ args = 0, pretend = 0, frame = 0
 1267              		@ frame_needed = 0, uses_anonymous_args = 0
 1268 0000 08B5     		push	{r3, lr}
 1269              	.LCFI22:
 1270              		.cfi_def_cfa_offset 8
 1271              		.cfi_offset 3, -8
 1272              		.cfi_offset 14, -4
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 50


 453:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* DeInit the SAI MSP : this __weak function can be rewritten by the application */
 1273              		.loc 1 453 0
 1274 0002 FFF7FEFF 		bl	SAIx_Out_DeInit
 1275              	.LVL70:
 455:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 1276              		.loc 1 455 0
 1277 0006 0021     		movs	r1, #0
 1278 0008 0148     		ldr	r0, .L97
 1279 000a FFF7FEFF 		bl	BSP_AUDIO_OUT_MspDeInit
 1280              	.LVL71:
 456:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1281              		.loc 1 456 0
 1282 000e 08BD     		pop	{r3, pc}
 1283              	.L98:
 1284              		.align	2
 1285              	.L97:
 1286 0010 00000000 		.word	.LANCHOR0
 1287              		.cfi_endproc
 1288              	.LFE149:
 1290              		.section	.text.BSP_AUDIO_OUT_ClockConfig,"ax",%progbits
 1291              		.align	1
 1292              		.weak	BSP_AUDIO_OUT_ClockConfig
 1293              		.syntax unified
 1294              		.thumb
 1295              		.thumb_func
 1296              		.fpu fpv5-sp-d16
 1298              	BSP_AUDIO_OUT_ClockConfig:
 1299              	.LFB158:
 666:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rcc_ex_clk_init_struct;
 1300              		.loc 1 666 0
 1301              		.cfi_startproc
 1302              		@ args = 0, pretend = 0, frame = 136
 1303              		@ frame_needed = 0, uses_anonymous_args = 0
 1304              	.LVL72:
 1305 0000 10B5     		push	{r4, lr}
 1306              	.LCFI23:
 1307              		.cfi_def_cfa_offset 8
 1308              		.cfi_offset 4, -8
 1309              		.cfi_offset 14, -4
 1310 0002 A2B0     		sub	sp, sp, #136
 1311              	.LCFI24:
 1312              		.cfi_def_cfa_offset 144
 1313 0004 0C46     		mov	r4, r1
 669:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 1314              		.loc 1 669 0
 1315 0006 01A8     		add	r0, sp, #4
 1316              	.LVL73:
 1317 0008 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKConfig
 1318              	.LVL74:
 672:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 1319              		.loc 1 672 0
 1320 000c 42F61132 		movw	r2, #11025
 1321 0010 45F22263 		movw	r3, #22050
 1322 0014 9C42     		cmp	r4, r3
 1323 0016 18BF     		it	ne
 1324 0018 9442     		cmpne	r4, r2
 1325 001a 14D0     		beq	.L100
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 51


 672:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 1326              		.loc 1 672 0 is_stmt 0 discriminator 1
 1327 001c 4AF64443 		movw	r3, #44100
 1328 0020 9C42     		cmp	r4, r3
 1329 0022 10D0     		beq	.L100
 693:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.Sai2ClockSelection = RCC_SAI2CLKSOURCE_PLLI2S;
 1330              		.loc 1 693 0 is_stmt 1
 1331 0024 4FF48013 		mov	r3, #1048576
 1332 0028 0193     		str	r3, [sp, #4]
 694:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PLLI2S.PLLI2SN = 344;
 1333              		.loc 1 694 0
 1334 002a 4FF48003 		mov	r3, #4194304
 1335 002e 1193     		str	r3, [sp, #68]
 695:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PLLI2S.PLLI2SQ = 7;
 1336              		.loc 1 695 0
 1337 0030 4FF4AC73 		mov	r3, #344
 1338 0034 0293     		str	r3, [sp, #8]
 696:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PLLI2SDivQ = 1;
 1339              		.loc 1 696 0
 1340 0036 0723     		movs	r3, #7
 1341 0038 0493     		str	r3, [sp, #16]
 697:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 1342              		.loc 1 697 0
 1343 003a 0123     		movs	r3, #1
 1344 003c 0A93     		str	r3, [sp, #40]
 699:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 1345              		.loc 1 699 0
 1346 003e 01A8     		add	r0, sp, #4
 1347 0040 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 1348              	.LVL75:
 701:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1349              		.loc 1 701 0
 1350 0044 0FE0     		b	.L99
 1351              	.L100:
 678:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.Sai2ClockSelection = RCC_SAI2CLKSOURCE_PLLI2S;
 1352              		.loc 1 678 0
 1353 0046 4FF48013 		mov	r3, #1048576
 1354 004a 0193     		str	r3, [sp, #4]
 679:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PLLI2S.PLLI2SN = 429;
 1355              		.loc 1 679 0
 1356 004c 4FF48003 		mov	r3, #4194304
 1357 0050 1193     		str	r3, [sp, #68]
 680:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PLLI2S.PLLI2SQ = 2;
 1358              		.loc 1 680 0
 1359 0052 40F2AD13 		movw	r3, #429
 1360 0056 0293     		str	r3, [sp, #8]
 681:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     rcc_ex_clk_init_struct.PLLI2SDivQ = 19;
 1361              		.loc 1 681 0
 1362 0058 0223     		movs	r3, #2
 1363 005a 0493     		str	r3, [sp, #16]
 682:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 1364              		.loc 1 682 0
 1365 005c 1323     		movs	r3, #19
 1366 005e 0A93     		str	r3, [sp, #40]
 684:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 1367              		.loc 1 684 0
 1368 0060 01A8     		add	r0, sp, #4
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 52


 1369 0062 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 1370              	.LVL76:
 1371              	.L99:
 701:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1372              		.loc 1 701 0
 1373 0066 22B0     		add	sp, sp, #136
 1374              	.LCFI25:
 1375              		.cfi_def_cfa_offset 8
 1376              		@ sp needed
 1377 0068 10BD     		pop	{r4, pc}
 1378              		.cfi_endproc
 1379              	.LFE158:
 1381              		.section	.text.BSP_AUDIO_OUT_Init,"ax",%progbits
 1382              		.align	1
 1383              		.global	BSP_AUDIO_OUT_Init
 1384              		.syntax unified
 1385              		.thumb
 1386              		.thumb_func
 1387              		.fpu fpv5-sp-d16
 1389              	BSP_AUDIO_OUT_Init:
 1390              	.LFB138:
 180:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint8_t ret = AUDIO_ERROR;
 1391              		.loc 1 180 0
 1392              		.cfi_startproc
 1393              		@ args = 0, pretend = 0, frame = 0
 1394              		@ frame_needed = 0, uses_anonymous_args = 0
 1395              	.LVL77:
 1396 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1397              	.LCFI26:
 1398              		.cfi_def_cfa_offset 24
 1399              		.cfi_offset 3, -24
 1400              		.cfi_offset 4, -20
 1401              		.cfi_offset 5, -16
 1402              		.cfi_offset 6, -12
 1403              		.cfi_offset 7, -8
 1404              		.cfi_offset 14, -4
 1405 0002 0646     		mov	r6, r0
 1406 0004 0F46     		mov	r7, r1
 1407 0006 1546     		mov	r5, r2
 1408              	.LVL78:
 185:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1409              		.loc 1 185 0
 1410 0008 FFF7FEFF 		bl	SAIx_Out_DeInit
 1411              	.LVL79:
 188:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****  
 1412              		.loc 1 188 0
 1413 000c 154C     		ldr	r4, .L110
 1414 000e 0022     		movs	r2, #0
 1415 0010 2946     		mov	r1, r5
 1416 0012 2046     		mov	r0, r4
 1417 0014 FFF7FEFF 		bl	BSP_AUDIO_OUT_ClockConfig
 1418              	.LVL80:
 192:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   if(HAL_SAI_GetState(&haudio_out_sai) == HAL_SAI_STATE_RESET)
 1419              		.loc 1 192 0
 1420 0018 134B     		ldr	r3, .L110+4
 1421 001a 2360     		str	r3, [r4]
 193:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 53


 1422              		.loc 1 193 0
 1423 001c 2046     		mov	r0, r4
 1424 001e FFF7FEFF 		bl	HAL_SAI_GetState
 1425              	.LVL81:
 1426 0022 C0B1     		cbz	r0, .L109
 1427              	.L105:
 198:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1428              		.loc 1 198 0
 1429 0024 2846     		mov	r0, r5
 1430 0026 FFF7FEFF 		bl	SAIx_Out_Init
 1431              	.LVL82:
 201:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 1432              		.loc 1 201 0
 1433 002a 104B     		ldr	r3, .L110+8
 1434 002c 9B68     		ldr	r3, [r3, #8]
 1435 002e 3420     		movs	r0, #52
 1436 0030 9847     		blx	r3
 1437              	.LVL83:
 203:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {  
 1438              		.loc 1 203 0
 1439 0032 48F69413 		movw	r3, #35220
 1440 0036 9842     		cmp	r0, r3
 1441 0038 12D1     		bne	.L107
 206:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Initialize the audio driver structure */
 1442              		.loc 1 206 0
 1443 003a 0C4C     		ldr	r4, .L110+8
 1444 003c E36A     		ldr	r3, [r4, #44]
 1445 003e 3420     		movs	r0, #52
 1446              	.LVL84:
 1447 0040 9847     		blx	r3
 1448              	.LVL85:
 208:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     ret = AUDIO_OK;
 1449              		.loc 1 208 0
 1450 0042 0B4B     		ldr	r3, .L110+12
 1451 0044 1C60     		str	r4, [r3]
 1452              	.LVL86:
 219:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 1453              		.loc 1 219 0
 1454 0046 2468     		ldr	r4, [r4]
 1455 0048 2B46     		mov	r3, r5
 1456 004a 3A46     		mov	r2, r7
 1457 004c 3146     		mov	r1, r6
 1458 004e 3420     		movs	r0, #52
 1459 0050 A047     		blx	r4
 1460              	.LVL87:
 209:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 1461              		.loc 1 209 0
 1462 0052 0020     		movs	r0, #0
 1463              	.LVL88:
 1464              	.L106:
 223:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1465              		.loc 1 223 0
 1466 0054 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1467              	.LVL89:
 1468              	.L109:
 196:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 1469              		.loc 1 196 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 54


 1470 0056 0021     		movs	r1, #0
 1471 0058 2046     		mov	r0, r4
 1472 005a FFF7FEFF 		bl	BSP_AUDIO_OUT_MspInit
 1473              	.LVL90:
 1474 005e E1E7     		b	.L105
 1475              	.LVL91:
 1476              	.L107:
 213:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 1477              		.loc 1 213 0
 1478 0060 0120     		movs	r0, #1
 1479              	.LVL92:
 1480 0062 F7E7     		b	.L106
 1481              	.L111:
 1482              		.align	2
 1483              	.L110:
 1484 0064 00000000 		.word	.LANCHOR0
 1485 0068 045C0140 		.word	1073830916
 1486 006c 00000000 		.word	wm8994_drv
 1487 0070 00000000 		.word	audio_drv
 1488              		.cfi_endproc
 1489              	.LFE138:
 1491              		.section	.text.BSP_AUDIO_OUT_SetFrequency,"ax",%progbits
 1492              		.align	1
 1493              		.global	BSP_AUDIO_OUT_SetFrequency
 1494              		.syntax unified
 1495              		.thumb
 1496              		.thumb_func
 1497              		.fpu fpv5-sp-d16
 1499              	BSP_AUDIO_OUT_SetFrequency:
 1500              	.LFB147:
 408:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 1501              		.loc 1 408 0
 1502              		.cfi_startproc
 1503              		@ args = 0, pretend = 0, frame = 0
 1504              		@ frame_needed = 0, uses_anonymous_args = 0
 1505              	.LVL93:
 1506 0000 38B5     		push	{r3, r4, r5, lr}
 1507              	.LCFI27:
 1508              		.cfi_def_cfa_offset 16
 1509              		.cfi_offset 3, -16
 1510              		.cfi_offset 4, -12
 1511              		.cfi_offset 5, -8
 1512              		.cfi_offset 14, -4
 1513 0002 0546     		mov	r5, r0
 410:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1514              		.loc 1 410 0
 1515 0004 0A4C     		ldr	r4, .L114
 1516 0006 0022     		movs	r2, #0
 1517 0008 0146     		mov	r1, r0
 1518 000a 2046     		mov	r0, r4
 1519              	.LVL94:
 1520 000c FFF7FEFF 		bl	BSP_AUDIO_OUT_ClockConfig
 1521              	.LVL95:
 413:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 1522              		.loc 1 413 0
 1523 0010 2268     		ldr	r2, [r4]
 1524 0012 1368     		ldr	r3, [r2]
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 55


 1525 0014 23F48033 		bic	r3, r3, #65536
 1526 0018 1360     		str	r3, [r2]
 416:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_Init(&haudio_out_sai);
 1527              		.loc 1 416 0
 1528 001a E561     		str	r5, [r4, #28]
 417:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 1529              		.loc 1 417 0
 1530 001c 2046     		mov	r0, r4
 1531 001e FFF7FEFF 		bl	HAL_SAI_Init
 1532              	.LVL96:
 420:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 1533              		.loc 1 420 0
 1534 0022 2268     		ldr	r2, [r4]
 1535 0024 1368     		ldr	r3, [r2]
 1536 0026 43F48033 		orr	r3, r3, #65536
 1537 002a 1360     		str	r3, [r2]
 421:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1538              		.loc 1 421 0
 1539 002c 38BD     		pop	{r3, r4, r5, pc}
 1540              	.LVL97:
 1541              	.L115:
 1542 002e 00BF     		.align	2
 1543              	.L114:
 1544 0030 00000000 		.word	.LANCHOR0
 1545              		.cfi_endproc
 1546              	.LFE147:
 1548              		.section	.text.BSP_AUDIO_IN_Record,"ax",%progbits
 1549              		.align	1
 1550              		.global	BSP_AUDIO_IN_Record
 1551              		.syntax unified
 1552              		.thumb
 1553              		.thumb_func
 1554              		.fpu fpv5-sp-d16
 1556              	BSP_AUDIO_IN_Record:
 1557              	.LFB164:
 972:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1558              		.loc 1 972 0
 1559              		.cfi_startproc
 1560              		@ args = 0, pretend = 0, frame = 0
 1561              		@ frame_needed = 0, uses_anonymous_args = 0
 1562              	.LVL98:
 1563 0000 08B5     		push	{r3, lr}
 1564              	.LCFI28:
 1565              		.cfi_def_cfa_offset 8
 1566              		.cfi_offset 3, -8
 1567              		.cfi_offset 14, -4
 1568              	.LVL99:
 976:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 1569              		.loc 1 976 0
 1570 0002 8AB2     		uxth	r2, r1
 1571 0004 0146     		mov	r1, r0
 1572              	.LVL100:
 1573 0006 0248     		ldr	r0, .L118
 1574              	.LVL101:
 1575 0008 FFF7FEFF 		bl	HAL_SAI_Receive_DMA
 1576              	.LVL102:
 982:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 56


 1577              		.loc 1 982 0
 1578 000c 0020     		movs	r0, #0
 1579 000e 08BD     		pop	{r3, pc}
 1580              	.L119:
 1581              		.align	2
 1582              	.L118:
 1583 0010 00000000 		.word	.LANCHOR1
 1584              		.cfi_endproc
 1585              	.LFE164:
 1587              		.section	.text.BSP_AUDIO_IN_Stop,"ax",%progbits
 1588              		.align	1
 1589              		.global	BSP_AUDIO_IN_Stop
 1590              		.syntax unified
 1591              		.thumb
 1592              		.thumb_func
 1593              		.fpu fpv5-sp-d16
 1595              	BSP_AUDIO_IN_Stop:
 1596              	.LFB165:
 994:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Media layer stop function */
 1597              		.loc 1 994 0
 1598              		.cfi_startproc
 1599              		@ args = 0, pretend = 0, frame = 0
 1600              		@ frame_needed = 0, uses_anonymous_args = 0
 1601              	.LVL103:
 1602 0000 10B5     		push	{r4, lr}
 1603              	.LCFI29:
 1604              		.cfi_def_cfa_offset 8
 1605              		.cfi_offset 4, -8
 1606              		.cfi_offset 14, -4
 1607 0002 0446     		mov	r4, r0
 996:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 1608              		.loc 1 996 0
 1609 0004 0A48     		ldr	r0, .L126
 1610              	.LVL104:
 1611 0006 FFF7FEFF 		bl	HAL_SAI_DMAStop
 1612              	.LVL105:
 999:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 1613              		.loc 1 999 0
 1614 000a 0A4B     		ldr	r3, .L126+4
 1615 000c 1B68     		ldr	r3, [r3]
 1616 000e 9B69     		ldr	r3, [r3, #24]
 1617 0010 2146     		mov	r1, r4
 1618 0012 3420     		movs	r0, #52
 1619 0014 9847     		blx	r3
 1620              	.LVL106:
 1621 0016 40B9     		cbnz	r0, .L122
1005:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 1622              		.loc 1 1005 0
 1623 0018 012C     		cmp	r4, #1
 1624 001a 01D0     		beq	.L125
1011:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 1625              		.loc 1 1011 0
 1626 001c 0020     		movs	r0, #0
 1627 001e 05E0     		b	.L121
 1628              	.L125:
1008:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 1629              		.loc 1 1008 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 57


 1630 0020 0120     		movs	r0, #1
 1631 0022 FFF7FEFF 		bl	HAL_Delay
 1632              	.LVL107:
1011:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 1633              		.loc 1 1011 0
 1634 0026 0020     		movs	r0, #0
 1635 0028 00E0     		b	.L121
 1636              	.L122:
1001:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 1637              		.loc 1 1001 0
 1638 002a 0120     		movs	r0, #1
 1639              	.L121:
1013:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1640              		.loc 1 1013 0
 1641 002c 10BD     		pop	{r4, pc}
 1642              	.LVL108:
 1643              	.L127:
 1644 002e 00BF     		.align	2
 1645              	.L126:
 1646 0030 00000000 		.word	.LANCHOR1
 1647 0034 00000000 		.word	audio_drv
 1648              		.cfi_endproc
 1649              	.LFE165:
 1651              		.section	.text.BSP_AUDIO_IN_Pause,"ax",%progbits
 1652              		.align	1
 1653              		.global	BSP_AUDIO_IN_Pause
 1654              		.syntax unified
 1655              		.thumb
 1656              		.thumb_func
 1657              		.fpu fpv5-sp-d16
 1659              	BSP_AUDIO_IN_Pause:
 1660              	.LFB166:
1020:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Media layer pause function */
 1661              		.loc 1 1020 0
 1662              		.cfi_startproc
 1663              		@ args = 0, pretend = 0, frame = 0
 1664              		@ frame_needed = 0, uses_anonymous_args = 0
 1665 0000 08B5     		push	{r3, lr}
 1666              	.LCFI30:
 1667              		.cfi_def_cfa_offset 8
 1668              		.cfi_offset 3, -8
 1669              		.cfi_offset 14, -4
1022:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 1670              		.loc 1 1022 0
 1671 0002 0248     		ldr	r0, .L130
 1672 0004 FFF7FEFF 		bl	HAL_SAI_DMAPause
 1673              	.LVL109:
1025:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1674              		.loc 1 1025 0
 1675 0008 0020     		movs	r0, #0
 1676 000a 08BD     		pop	{r3, pc}
 1677              	.L131:
 1678              		.align	2
 1679              	.L130:
 1680 000c 00000000 		.word	.LANCHOR1
 1681              		.cfi_endproc
 1682              	.LFE166:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 58


 1684              		.section	.text.BSP_AUDIO_IN_Resume,"ax",%progbits
 1685              		.align	1
 1686              		.global	BSP_AUDIO_IN_Resume
 1687              		.syntax unified
 1688              		.thumb
 1689              		.thumb_func
 1690              		.fpu fpv5-sp-d16
 1692              	BSP_AUDIO_IN_Resume:
 1693              	.LFB167:
1032:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the Media layer pause/resume function */
 1694              		.loc 1 1032 0
 1695              		.cfi_startproc
 1696              		@ args = 0, pretend = 0, frame = 0
 1697              		@ frame_needed = 0, uses_anonymous_args = 0
 1698 0000 08B5     		push	{r3, lr}
 1699              	.LCFI31:
 1700              		.cfi_def_cfa_offset 8
 1701              		.cfi_offset 3, -8
 1702              		.cfi_offset 14, -4
1034:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 1703              		.loc 1 1034 0
 1704 0002 0248     		ldr	r0, .L134
 1705 0004 FFF7FEFF 		bl	HAL_SAI_DMAResume
 1706              	.LVL110:
1037:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1707              		.loc 1 1037 0
 1708 0008 0020     		movs	r0, #0
 1709 000a 08BD     		pop	{r3, pc}
 1710              	.L135:
 1711              		.align	2
 1712              	.L134:
 1713 000c 00000000 		.word	.LANCHOR1
 1714              		.cfi_endproc
 1715              	.LFE167:
 1717              		.section	.text.BSP_AUDIO_IN_SetVolume,"ax",%progbits
 1718              		.align	1
 1719              		.global	BSP_AUDIO_IN_SetVolume
 1720              		.syntax unified
 1721              		.thumb
 1722              		.thumb_func
 1723              		.fpu fpv5-sp-d16
 1725              	BSP_AUDIO_IN_SetVolume:
 1726              	.LFB168:
1045:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
 1727              		.loc 1 1045 0
 1728              		.cfi_startproc
 1729              		@ args = 0, pretend = 0, frame = 0
 1730              		@ frame_needed = 0, uses_anonymous_args = 0
 1731              	.LVL111:
 1732 0000 10B5     		push	{r4, lr}
 1733              	.LCFI32:
 1734              		.cfi_def_cfa_offset 8
 1735              		.cfi_offset 4, -8
 1736              		.cfi_offset 14, -4
 1737 0002 0446     		mov	r4, r0
1047:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 1738              		.loc 1 1047 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 59


 1739 0004 064B     		ldr	r3, .L140
 1740 0006 1B68     		ldr	r3, [r3]
 1741 0008 1B6A     		ldr	r3, [r3, #32]
 1742 000a 0146     		mov	r1, r0
 1743 000c 3420     		movs	r0, #52
 1744              	.LVL112:
 1745 000e 9847     		blx	r3
 1746              	.LVL113:
 1747 0010 18B9     		cbnz	r0, .L138
1054:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 1748              		.loc 1 1054 0
 1749 0012 A4B2     		uxth	r4, r4
 1750 0014 034B     		ldr	r3, .L140+4
 1751 0016 1C80     		strh	r4, [r3]	@ movhi
 1752              	.L137:
1058:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1753              		.loc 1 1058 0
 1754 0018 10BD     		pop	{r4, pc}
 1755              	.L138:
1049:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 1756              		.loc 1 1049 0
 1757 001a 0120     		movs	r0, #1
 1758 001c FCE7     		b	.L137
 1759              	.L141:
 1760 001e 00BF     		.align	2
 1761              	.L140:
 1762 0020 00000000 		.word	audio_drv
 1763 0024 00000000 		.word	.LANCHOR3
 1764              		.cfi_endproc
 1765              	.LFE168:
 1767              		.section	.text.BSP_AUDIO_IN_TransferComplete_CallBack,"ax",%progbits
 1768              		.align	1
 1769              		.weak	BSP_AUDIO_IN_TransferComplete_CallBack
 1770              		.syntax unified
 1771              		.thumb
 1772              		.thumb_func
 1773              		.fpu fpv5-sp-d16
 1775              	BSP_AUDIO_IN_TransferComplete_CallBack:
 1776              	.LFB172:
1099:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* This function should be implemented by the user application.
 1777              		.loc 1 1099 0
 1778              		.cfi_startproc
 1779              		@ args = 0, pretend = 0, frame = 0
 1780              		@ frame_needed = 0, uses_anonymous_args = 0
 1781              		@ link register save eliminated.
1103:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1782              		.loc 1 1103 0
 1783 0000 7047     		bx	lr
 1784              		.cfi_endproc
 1785              	.LFE172:
 1787              		.section	.text.HAL_SAI_RxCpltCallback,"ax",%progbits
 1788              		.align	1
 1789              		.global	HAL_SAI_RxCpltCallback
 1790              		.syntax unified
 1791              		.thumb
 1792              		.thumb_func
 1793              		.fpu fpv5-sp-d16
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 60


 1795              	HAL_SAI_RxCpltCallback:
 1796              	.LFB170:
1077:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Call the record update function to get the next buffer to fill and its size (size is ignored) 
 1797              		.loc 1 1077 0
 1798              		.cfi_startproc
 1799              		@ args = 0, pretend = 0, frame = 0
 1800              		@ frame_needed = 0, uses_anonymous_args = 0
 1801              	.LVL114:
 1802 0000 08B5     		push	{r3, lr}
 1803              	.LCFI33:
 1804              		.cfi_def_cfa_offset 8
 1805              		.cfi_offset 3, -8
 1806              		.cfi_offset 14, -4
1079:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 1807              		.loc 1 1079 0
 1808 0002 FFF7FEFF 		bl	BSP_AUDIO_IN_TransferComplete_CallBack
 1809              	.LVL115:
1080:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1810              		.loc 1 1080 0
 1811 0006 08BD     		pop	{r3, pc}
 1812              		.cfi_endproc
 1813              	.LFE170:
 1815              		.section	.text.BSP_AUDIO_IN_HalfTransfer_CallBack,"ax",%progbits
 1816              		.align	1
 1817              		.weak	BSP_AUDIO_IN_HalfTransfer_CallBack
 1818              		.syntax unified
 1819              		.thumb
 1820              		.thumb_func
 1821              		.fpu fpv5-sp-d16
 1823              	BSP_AUDIO_IN_HalfTransfer_CallBack:
 1824              	.LFB173:
1110:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* This function should be implemented by the user application.
 1825              		.loc 1 1110 0
 1826              		.cfi_startproc
 1827              		@ args = 0, pretend = 0, frame = 0
 1828              		@ frame_needed = 0, uses_anonymous_args = 0
 1829              		@ link register save eliminated.
1114:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1830              		.loc 1 1114 0
 1831 0000 7047     		bx	lr
 1832              		.cfi_endproc
 1833              	.LFE173:
 1835              		.section	.text.HAL_SAI_RxHalfCpltCallback,"ax",%progbits
 1836              		.align	1
 1837              		.global	HAL_SAI_RxHalfCpltCallback
 1838              		.syntax unified
 1839              		.thumb
 1840              		.thumb_func
 1841              		.fpu fpv5-sp-d16
 1843              	HAL_SAI_RxHalfCpltCallback:
 1844              	.LFB171:
1088:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 1845              		.loc 1 1088 0
 1846              		.cfi_startproc
 1847              		@ args = 0, pretend = 0, frame = 0
 1848              		@ frame_needed = 0, uses_anonymous_args = 0
 1849              	.LVL116:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 61


 1850 0000 08B5     		push	{r3, lr}
 1851              	.LCFI34:
 1852              		.cfi_def_cfa_offset 8
 1853              		.cfi_offset 3, -8
 1854              		.cfi_offset 14, -4
1091:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 1855              		.loc 1 1091 0
 1856 0002 FFF7FEFF 		bl	BSP_AUDIO_IN_HalfTransfer_CallBack
 1857              	.LVL117:
1092:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1858              		.loc 1 1092 0
 1859 0006 08BD     		pop	{r3, pc}
 1860              		.cfi_endproc
 1861              	.LFE171:
 1863              		.section	.text.BSP_AUDIO_IN_Error_CallBack,"ax",%progbits
 1864              		.align	1
 1865              		.weak	BSP_AUDIO_IN_Error_CallBack
 1866              		.syntax unified
 1867              		.thumb
 1868              		.thumb_func
 1869              		.fpu fpv5-sp-d16
 1871              	BSP_AUDIO_IN_Error_CallBack:
 1872              	.LFB174:
1121:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* This function is called when an Interrupt due to transfer error on or peripheral
 1873              		.loc 1 1121 0
 1874              		.cfi_startproc
 1875              		@ args = 0, pretend = 0, frame = 0
 1876              		@ frame_needed = 0, uses_anonymous_args = 0
 1877              		@ link register save eliminated.
1124:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1878              		.loc 1 1124 0
 1879 0000 7047     		bx	lr
 1880              		.cfi_endproc
 1881              	.LFE174:
 1883              		.section	.text.HAL_SAI_ErrorCallback,"ax",%progbits
 1884              		.align	1
 1885              		.global	HAL_SAI_ErrorCallback
 1886              		.syntax unified
 1887              		.thumb
 1888              		.thumb_func
 1889              		.fpu fpv5-sp-d16
 1891              	HAL_SAI_ErrorCallback:
 1892              	.LFB152:
 488:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_SAI_StateTypeDef audio_out_state;
 1893              		.loc 1 488 0
 1894              		.cfi_startproc
 1895              		@ args = 0, pretend = 0, frame = 0
 1896              		@ frame_needed = 0, uses_anonymous_args = 0
 1897              	.LVL118:
 1898 0000 38B5     		push	{r3, r4, r5, lr}
 1899              	.LCFI35:
 1900              		.cfi_def_cfa_offset 16
 1901              		.cfi_offset 3, -16
 1902              		.cfi_offset 4, -12
 1903              		.cfi_offset 5, -8
 1904              		.cfi_offset 14, -4
 492:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   audio_in_state = HAL_SAI_GetState(&haudio_in_sai);
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 62


 1905              		.loc 1 492 0
 1906 0002 0B48     		ldr	r0, .L155
 1907              	.LVL119:
 1908 0004 FFF7FEFF 		bl	HAL_SAI_GetState
 1909              	.LVL120:
 1910 0008 0546     		mov	r5, r0
 1911              	.LVL121:
 493:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1912              		.loc 1 493 0
 1913 000a 0A48     		ldr	r0, .L155+4
 1914 000c FFF7FEFF 		bl	HAL_SAI_GetState
 1915              	.LVL122:
 1916 0010 0446     		mov	r4, r0
 1917              	.LVL123:
 496:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 1918              		.loc 1 496 0
 1919 0012 122D     		cmp	r5, #18
 1920 0014 18BF     		it	ne
 1921 0016 022D     		cmpne	r5, #2
 1922 0018 04D0     		beq	.L153
 1923              	.L150:
 501:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 1924              		.loc 1 501 0
 1925 001a 222C     		cmp	r4, #34
 1926 001c 18BF     		it	ne
 1927 001e 022C     		cmpne	r4, #2
 1928 0020 03D0     		beq	.L154
 1929              	.L149:
 505:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1930              		.loc 1 505 0
 1931 0022 38BD     		pop	{r3, r4, r5, pc}
 1932              	.LVL124:
 1933              	.L153:
 498:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 1934              		.loc 1 498 0
 1935 0024 FFF7FEFF 		bl	BSP_AUDIO_OUT_Error_CallBack
 1936              	.LVL125:
 1937 0028 F7E7     		b	.L150
 1938              	.L154:
 503:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 1939              		.loc 1 503 0
 1940 002a FFF7FEFF 		bl	BSP_AUDIO_IN_Error_CallBack
 1941              	.LVL126:
 505:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 1942              		.loc 1 505 0
 1943 002e F8E7     		b	.L149
 1944              	.L156:
 1945              		.align	2
 1946              	.L155:
 1947 0030 00000000 		.word	.LANCHOR0
 1948 0034 00000000 		.word	.LANCHOR1
 1949              		.cfi_endproc
 1950              	.LFE152:
 1952              		.section	.text.BSP_AUDIO_IN_MspInit,"ax",%progbits
 1953              		.align	1
 1954              		.weak	BSP_AUDIO_IN_MspInit
 1955              		.syntax unified
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 63


 1956              		.thumb
 1957              		.thumb_func
 1958              		.fpu fpv5-sp-d16
 1960              	BSP_AUDIO_IN_MspInit:
 1961              	.LFB175:
1133:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   static DMA_HandleTypeDef hdma_sai_rx;
 1962              		.loc 1 1133 0
 1963              		.cfi_startproc
 1964              		@ args = 0, pretend = 0, frame = 40
 1965              		@ frame_needed = 0, uses_anonymous_args = 0
 1966              	.LVL127:
 1967 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1968              	.LCFI36:
 1969              		.cfi_def_cfa_offset 20
 1970              		.cfi_offset 4, -20
 1971              		.cfi_offset 5, -16
 1972              		.cfi_offset 6, -12
 1973              		.cfi_offset 7, -8
 1974              		.cfi_offset 14, -4
 1975 0002 8BB0     		sub	sp, sp, #44
 1976              	.LCFI37:
 1977              		.cfi_def_cfa_offset 64
 1978 0004 0746     		mov	r7, r0
 1979              	.LBB7:
1138:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   
 1980              		.loc 1 1138 0
 1981 0006 3B4C     		ldr	r4, .L161
 1982 0008 636C     		ldr	r3, [r4, #68]
 1983 000a 43F40003 		orr	r3, r3, #8388608
 1984 000e 6364     		str	r3, [r4, #68]
 1985 0010 636C     		ldr	r3, [r4, #68]
 1986 0012 03F40003 		and	r3, r3, #8388608
 1987 0016 0193     		str	r3, [sp, #4]
 1988 0018 019B     		ldr	r3, [sp, #4]
 1989              	.LBE7:
 1990              	.LBB8:
1141:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* CODEC_SAI pin configuration: SD pin */
 1991              		.loc 1 1141 0
 1992 001a 236B     		ldr	r3, [r4, #48]
 1993 001c 43F04003 		orr	r3, r3, #64
 1994 0020 2363     		str	r3, [r4, #48]
 1995 0022 236B     		ldr	r3, [r4, #48]
 1996 0024 03F04003 		and	r3, r3, #64
 1997 0028 0293     		str	r3, [sp, #8]
 1998 002a 029B     		ldr	r3, [sp, #8]
 1999              	.LBE8:
1143:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Mode = GPIO_MODE_AF_PP;
 2000              		.loc 1 1143 0
 2001 002c 4FF48063 		mov	r3, #1024
 2002 0030 0593     		str	r3, [sp, #20]
1144:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
 2003              		.loc 1 1144 0
 2004 0032 0225     		movs	r5, #2
 2005 0034 0695     		str	r5, [sp, #24]
1145:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Speed = GPIO_SPEED_FAST;
 2006              		.loc 1 1145 0
 2007 0036 0026     		movs	r6, #0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 64


 2008 0038 0796     		str	r6, [sp, #28]
1146:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Alternate = AUDIO_IN_SAIx_SD_AF;
 2009              		.loc 1 1146 0
 2010 003a 0895     		str	r5, [sp, #32]
1147:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_Init(AUDIO_IN_SAIx_SD_GPIO_PORT, &gpio_init_structure);
 2011              		.loc 1 1147 0
 2012 003c 0A23     		movs	r3, #10
 2013 003e 0993     		str	r3, [sp, #36]
1148:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2014              		.loc 1 1148 0
 2015 0040 05A9     		add	r1, sp, #20
 2016              	.LVL128:
 2017 0042 2D48     		ldr	r0, .L161+4
 2018              	.LVL129:
 2019 0044 FFF7FEFF 		bl	HAL_GPIO_Init
 2020              	.LVL130:
 2021              	.LBB9:
1151:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* Audio INT pin configuration: input */
 2022              		.loc 1 1151 0
 2023 0048 236B     		ldr	r3, [r4, #48]
 2024 004a 43F08003 		orr	r3, r3, #128
 2025 004e 2363     		str	r3, [r4, #48]
 2026 0050 236B     		ldr	r3, [r4, #48]
 2027 0052 03F08003 		and	r3, r3, #128
 2028 0056 0393     		str	r3, [sp, #12]
 2029 0058 039B     		ldr	r3, [sp, #12]
 2030              	.LBE9:
1153:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Mode = GPIO_MODE_INPUT;
 2031              		.loc 1 1153 0
 2032 005a 4FF40043 		mov	r3, #32768
 2033 005e 0593     		str	r3, [sp, #20]
1154:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Pull = GPIO_NOPULL;
 2034              		.loc 1 1154 0
 2035 0060 0696     		str	r6, [sp, #24]
1155:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   gpio_init_structure.Speed = GPIO_SPEED_FAST;
 2036              		.loc 1 1155 0
 2037 0062 0796     		str	r6, [sp, #28]
1156:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_GPIO_Init(AUDIO_IN_INT_GPIO_PORT, &gpio_init_structure);
 2038              		.loc 1 1156 0
 2039 0064 0895     		str	r5, [sp, #32]
1157:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2040              		.loc 1 1157 0
 2041 0066 05A9     		add	r1, sp, #20
 2042 0068 2448     		ldr	r0, .L161+8
 2043 006a FFF7FEFF 		bl	HAL_GPIO_Init
 2044              	.LVL131:
 2045              	.LBB10:
1160:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 2046              		.loc 1 1160 0
 2047 006e 236B     		ldr	r3, [r4, #48]
 2048 0070 43F48003 		orr	r3, r3, #4194304
 2049 0074 2363     		str	r3, [r4, #48]
 2050 0076 236B     		ldr	r3, [r4, #48]
 2051 0078 03F48003 		and	r3, r3, #4194304
 2052 007c 0493     		str	r3, [sp, #16]
 2053 007e 049B     		ldr	r3, [sp, #16]
 2054              	.LBE10:
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 65


1162:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 2055              		.loc 1 1162 0
 2056 0080 3A68     		ldr	r2, [r7]
 2057 0082 1F4B     		ldr	r3, .L161+12
 2058 0084 9A42     		cmp	r2, r3
 2059 0086 11D0     		beq	.L160
 2060              	.L158:
1191:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_NVIC_EnableIRQ(AUDIO_IN_SAIx_DMAx_IRQ);
 2061              		.loc 1 1191 0
 2062 0088 0022     		movs	r2, #0
 2063 008a 0F21     		movs	r1, #15
 2064 008c 4620     		movs	r0, #70
 2065 008e FFF7FEFF 		bl	HAL_NVIC_SetPriority
 2066              	.LVL132:
1192:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2067              		.loc 1 1192 0
 2068 0092 4620     		movs	r0, #70
 2069 0094 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 2070              	.LVL133:
1195:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   HAL_NVIC_EnableIRQ(AUDIO_IN_INT_IRQ);
 2071              		.loc 1 1195 0
 2072 0098 0022     		movs	r2, #0
 2073 009a 0F21     		movs	r1, #15
 2074 009c 2820     		movs	r0, #40
 2075 009e FFF7FEFF 		bl	HAL_NVIC_SetPriority
 2076              	.LVL134:
1196:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 2077              		.loc 1 1196 0
 2078 00a2 2820     		movs	r0, #40
 2079 00a4 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 2080              	.LVL135:
1197:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2081              		.loc 1 1197 0
 2082 00a8 0BB0     		add	sp, sp, #44
 2083              	.LCFI38:
 2084              		.cfi_remember_state
 2085              		.cfi_def_cfa_offset 20
 2086              		@ sp needed
 2087 00aa F0BD     		pop	{r4, r5, r6, r7, pc}
 2088              	.LVL136:
 2089              	.L160:
 2090              	.LCFI39:
 2091              		.cfi_restore_state
1165:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 2092              		.loc 1 1165 0
 2093 00ac 154C     		ldr	r4, .L161+16
 2094 00ae 6660     		str	r6, [r4, #4]
1166:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.PeriphInc           = DMA_PINC_DISABLE;
 2095              		.loc 1 1166 0
 2096 00b0 A660     		str	r6, [r4, #8]
1167:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.MemInc              = DMA_MINC_ENABLE;
 2097              		.loc 1 1167 0
 2098 00b2 E660     		str	r6, [r4, #12]
1168:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.PeriphDataAlignment = AUDIO_IN_SAIx_DMAx_PERIPH_DATA_SIZE;
 2099              		.loc 1 1168 0
 2100 00b4 4FF48062 		mov	r2, #1024
 2101 00b8 2261     		str	r2, [r4, #16]
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 66


1169:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.MemDataAlignment    = AUDIO_IN_SAIx_DMAx_MEM_DATA_SIZE;
 2102              		.loc 1 1169 0
 2103 00ba 4FF40062 		mov	r2, #2048
 2104 00be 6261     		str	r2, [r4, #20]
1170:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.Mode                = DMA_CIRCULAR;
 2105              		.loc 1 1170 0
 2106 00c0 4FF40052 		mov	r2, #8192
 2107 00c4 A261     		str	r2, [r4, #24]
1171:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.Priority            = DMA_PRIORITY_HIGH;
 2108              		.loc 1 1171 0
 2109 00c6 4FF48072 		mov	r2, #256
 2110 00ca E261     		str	r2, [r4, #28]
1172:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.FIFOMode            = DMA_FIFOMODE_DISABLE;
 2111              		.loc 1 1172 0
 2112 00cc 4FF40032 		mov	r2, #131072
 2113 00d0 2262     		str	r2, [r4, #32]
1173:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 2114              		.loc 1 1173 0
 2115 00d2 6662     		str	r6, [r4, #36]
1174:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.MemBurst            = DMA_MBURST_SINGLE;
 2116              		.loc 1 1174 0
 2117 00d4 0322     		movs	r2, #3
 2118 00d6 A262     		str	r2, [r4, #40]
1175:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     hdma_sai_rx.Init.PeriphBurst         = DMA_MBURST_SINGLE;
 2119              		.loc 1 1175 0
 2120 00d8 E662     		str	r6, [r4, #44]
1176:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 2121              		.loc 1 1176 0
 2122 00da 2663     		str	r6, [r4, #48]
1178:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 2123              		.loc 1 1178 0
 2124 00dc 0A4B     		ldr	r3, .L161+20
 2125 00de 2360     		str	r3, [r4]
1181:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 2126              		.loc 1 1181 0
 2127 00e0 3C67     		str	r4, [r7, #112]
 2128 00e2 A763     		str	r7, [r4, #56]
1184:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     
 2129              		.loc 1 1184 0
 2130 00e4 2046     		mov	r0, r4
 2131 00e6 FFF7FEFF 		bl	HAL_DMA_DeInit
 2132              	.LVL137:
1187:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 2133              		.loc 1 1187 0
 2134 00ea 2046     		mov	r0, r4
 2135 00ec FFF7FEFF 		bl	HAL_DMA_Init
 2136              	.LVL138:
 2137 00f0 CAE7     		b	.L158
 2138              	.L162:
 2139 00f2 00BF     		.align	2
 2140              	.L161:
 2141 00f4 00380240 		.word	1073887232
 2142 00f8 00180240 		.word	1073879040
 2143 00fc 001C0240 		.word	1073880064
 2144 0100 245C0140 		.word	1073830948
 2145 0104 00000000 		.word	.LANCHOR4
 2146 0108 B8640240 		.word	1073898680
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 67


 2147              		.cfi_endproc
 2148              	.LFE175:
 2150              		.section	.text.BSP_AUDIO_IN_InitEx,"ax",%progbits
 2151              		.align	1
 2152              		.global	BSP_AUDIO_IN_InitEx
 2153              		.syntax unified
 2154              		.thumb
 2155              		.thumb_func
 2156              		.fpu fpv5-sp-d16
 2158              	BSP_AUDIO_IN_InitEx:
 2159              	.LFB162:
 810:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint8_t ret = AUDIO_ERROR;
 2160              		.loc 1 810 0
 2161              		.cfi_startproc
 2162              		@ args = 0, pretend = 0, frame = 0
 2163              		@ frame_needed = 0, uses_anonymous_args = 0
 2164              	.LVL139:
 815:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       (InputDevice != INPUT_DEVICE_DIGITAL_MICROPHONE_2))
 2165              		.loc 1 815 0
 2166 0000 B0F5407F 		cmp	r0, #768
 2167 0004 18BF     		it	ne
 2168 0006 B0F5007F 		cmpne	r0, #512
 2169 000a 01D0     		beq	.L174
 818:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 2170              		.loc 1 818 0
 2171 000c 0120     		movs	r0, #1
 2172              	.LVL140:
 875:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2173              		.loc 1 875 0
 2174 000e 7047     		bx	lr
 2175              	.LVL141:
 2176              	.L174:
 810:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint8_t ret = AUDIO_ERROR;
 2177              		.loc 1 810 0
 2178 0010 70B5     		push	{r4, r5, r6, lr}
 2179              	.LCFI40:
 2180              		.cfi_def_cfa_offset 16
 2181              		.cfi_offset 4, -16
 2182              		.cfi_offset 5, -12
 2183              		.cfi_offset 6, -8
 2184              		.cfi_offset 14, -4
 2185 0012 0D46     		mov	r5, r1
 2186 0014 0446     		mov	r4, r0
 823:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2187              		.loc 1 823 0
 2188 0016 FFF7FEFF 		bl	SAIx_In_DeInit
 2189              	.LVL142:
 826:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2190              		.loc 1 826 0
 2191 001a 1B4E     		ldr	r6, .L177
 2192 001c 0022     		movs	r2, #0
 2193 001e 2946     		mov	r1, r5
 2194 0020 3046     		mov	r0, r6
 2195 0022 FFF7FEFF 		bl	BSP_AUDIO_OUT_ClockConfig
 2196              	.LVL143:
 830:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if(HAL_SAI_GetState(&haudio_in_sai) == HAL_SAI_STATE_RESET)
 2197              		.loc 1 830 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 68


 2198 0026 194B     		ldr	r3, .L177+4
 2199 0028 3360     		str	r3, [r6]
 831:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 2200              		.loc 1 831 0
 2201 002a 3046     		mov	r0, r6
 2202 002c FFF7FEFF 		bl	HAL_SAI_GetState
 2203              	.LVL144:
 2204 0030 E8B1     		cbz	r0, .L175
 2205              	.L165:
 842:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 2206              		.loc 1 842 0
 2207 0032 B4F5007F 		cmp	r4, #512
 2208 0036 23D0     		beq	.L176
 848:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 2209              		.loc 1 848 0
 2210 0038 0521     		movs	r1, #5
 2211              	.L166:
 2212              	.LVL145:
 850:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2213              		.loc 1 850 0
 2214 003a 2A46     		mov	r2, r5
 2215 003c 0120     		movs	r0, #1
 2216 003e FFF7FEFF 		bl	SAIx_In_Init
 2217              	.LVL146:
 853:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2218              		.loc 1 853 0
 2219 0042 134B     		ldr	r3, .L177+8
 2220 0044 9B68     		ldr	r3, [r3, #8]
 2221 0046 3420     		movs	r0, #52
 2222 0048 9847     		blx	r3
 2223              	.LVL147:
 855:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 2224              		.loc 1 855 0
 2225 004a 48F69413 		movw	r3, #35220
 2226 004e 9842     		cmp	r0, r3
 2227 0050 18D1     		bne	.L169
 858:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Initialize the audio driver structure */
 2228              		.loc 1 858 0
 2229 0052 0F4E     		ldr	r6, .L177+8
 2230 0054 F36A     		ldr	r3, [r6, #44]
 2231 0056 3420     		movs	r0, #52
 2232              	.LVL148:
 2233 0058 9847     		blx	r3
 2234              	.LVL149:
 860:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       ret = AUDIO_OK;
 2235              		.loc 1 860 0
 2236 005a 0E4B     		ldr	r3, .L177+12
 2237 005c 1E60     		str	r6, [r3]
 2238              	.LVL150:
 871:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 2239              		.loc 1 871 0
 2240 005e 3668     		ldr	r6, [r6]
 2241 0060 2B46     		mov	r3, r5
 2242 0062 6422     		movs	r2, #100
 2243 0064 2146     		mov	r1, r4
 2244 0066 3420     		movs	r0, #52
 2245 0068 B047     		blx	r6
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 69


 2246              	.LVL151:
 861:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 2247              		.loc 1 861 0
 2248 006a 0020     		movs	r0, #0
 2249              	.LVL152:
 2250              	.L164:
 875:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2251              		.loc 1 875 0
 2252 006c 70BD     		pop	{r4, r5, r6, pc}
 2253              	.LVL153:
 2254              	.L175:
 834:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       BSP_AUDIO_IN_MspInit(&haudio_in_sai, NULL);
 2255              		.loc 1 834 0
 2256 006e 0021     		movs	r1, #0
 2257 0070 3046     		mov	r0, r6
 2258 0072 FFF7FEFF 		bl	BSP_AUDIO_OUT_MspInit
 2259              	.LVL154:
 835:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 2260              		.loc 1 835 0
 2261 0076 0021     		movs	r1, #0
 2262 0078 3046     		mov	r0, r6
 2263 007a FFF7FEFF 		bl	BSP_AUDIO_IN_MspInit
 2264              	.LVL155:
 2265 007e D8E7     		b	.L165
 2266              	.L176:
 844:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 2267              		.loc 1 844 0
 2268 0080 0A21     		movs	r1, #10
 2269 0082 DAE7     		b	.L166
 2270              	.LVL156:
 2271              	.L169:
 865:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 2272              		.loc 1 865 0
 2273 0084 0120     		movs	r0, #1
 2274              	.LVL157:
 2275 0086 F1E7     		b	.L164
 2276              	.L178:
 2277              		.align	2
 2278              	.L177:
 2279 0088 00000000 		.word	.LANCHOR1
 2280 008c 245C0140 		.word	1073830948
 2281 0090 00000000 		.word	wm8994_drv
 2282 0094 00000000 		.word	audio_drv
 2283              		.cfi_endproc
 2284              	.LFE162:
 2286              		.section	.text.BSP_AUDIO_IN_Init,"ax",%progbits
 2287              		.align	1
 2288              		.global	BSP_AUDIO_IN_Init
 2289              		.syntax unified
 2290              		.thumb
 2291              		.thumb_func
 2292              		.fpu fpv5-sp-d16
 2294              	BSP_AUDIO_IN_Init:
 2295              	.LFB161:
 797:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   return BSP_AUDIO_IN_InitEx(INPUT_DEVICE_DIGITAL_MICROPHONE_2, AudioFreq, BitRes, ChnlNbr); 
 2296              		.loc 1 797 0
 2297              		.cfi_startproc
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 70


 2298              		@ args = 0, pretend = 0, frame = 0
 2299              		@ frame_needed = 0, uses_anonymous_args = 0
 2300              	.LVL158:
 2301 0000 08B5     		push	{r3, lr}
 2302              	.LCFI41:
 2303              		.cfi_def_cfa_offset 8
 2304              		.cfi_offset 3, -8
 2305              		.cfi_offset 14, -4
 798:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
 2306              		.loc 1 798 0
 2307 0002 1346     		mov	r3, r2
 2308 0004 0A46     		mov	r2, r1
 2309              	.LVL159:
 2310 0006 0146     		mov	r1, r0
 2311              	.LVL160:
 2312 0008 4FF40070 		mov	r0, #512
 2313              	.LVL161:
 2314 000c FFF7FEFF 		bl	BSP_AUDIO_IN_InitEx
 2315              	.LVL162:
 799:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2316              		.loc 1 799 0
 2317 0010 08BD     		pop	{r3, pc}
 2318              		.cfi_endproc
 2319              	.LFE161:
 2321              		.section	.text.BSP_AUDIO_IN_OUT_Init,"ax",%progbits
 2322              		.align	1
 2323              		.global	BSP_AUDIO_IN_OUT_Init
 2324              		.syntax unified
 2325              		.thumb
 2326              		.thumb_func
 2327              		.fpu fpv5-sp-d16
 2329              	BSP_AUDIO_IN_OUT_Init:
 2330              	.LFB163:
 888:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint8_t ret = AUDIO_ERROR;
 2331              		.loc 1 888 0
 2332              		.cfi_startproc
 2333              		@ args = 4, pretend = 0, frame = 0
 2334              		@ frame_needed = 0, uses_anonymous_args = 0
 2335              	.LVL163:
 893:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 2336              		.loc 1 893 0
 2337 0000 B0F5007F 		cmp	r0, #512
 2338 0004 01D0     		beq	.L191
 895:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 2339              		.loc 1 895 0
 2340 0006 0120     		movs	r0, #1
 2341              	.LVL164:
 961:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2342              		.loc 1 961 0
 2343 0008 7047     		bx	lr
 2344              	.LVL165:
 2345              	.L191:
 888:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   uint8_t ret = AUDIO_ERROR;
 2346              		.loc 1 888 0
 2347 000a F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2348              	.LCFI42:
 2349              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 71


 2350              		.cfi_offset 3, -24
 2351              		.cfi_offset 4, -20
 2352              		.cfi_offset 5, -16
 2353              		.cfi_offset 6, -12
 2354              		.cfi_offset 7, -8
 2355              		.cfi_offset 14, -4
 2356 000c 1646     		mov	r6, r2
 2357 000e 0D46     		mov	r5, r1
 2358 0010 0446     		mov	r4, r0
 900:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     SAIx_Out_DeInit();
 2359              		.loc 1 900 0
 2360 0012 FFF7FEFF 		bl	SAIx_In_DeInit
 2361              	.LVL166:
 901:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2362              		.loc 1 901 0
 2363 0016 FFF7FEFF 		bl	SAIx_Out_DeInit
 2364              	.LVL167:
 904:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2365              		.loc 1 904 0
 2366 001a 1D4F     		ldr	r7, .L194
 2367 001c 0022     		movs	r2, #0
 2368 001e 3146     		mov	r1, r6
 2369 0020 3846     		mov	r0, r7
 2370 0022 FFF7FEFF 		bl	BSP_AUDIO_OUT_ClockConfig
 2371              	.LVL168:
 908:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if(HAL_SAI_GetState(&haudio_in_sai) == HAL_SAI_STATE_RESET)
 2372              		.loc 1 908 0
 2373 0026 1B4B     		ldr	r3, .L194+4
 2374 0028 3B60     		str	r3, [r7]
 909:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 2375              		.loc 1 909 0
 2376 002a 3846     		mov	r0, r7
 2377 002c FFF7FEFF 		bl	HAL_SAI_GetState
 2378              	.LVL169:
 2379 0030 08B3     		cbz	r0, .L192
 2380              	.L183:
 917:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     if(HAL_SAI_GetState(&haudio_out_sai) == HAL_SAI_STATE_RESET)
 2381              		.loc 1 917 0
 2382 0032 1948     		ldr	r0, .L194+8
 2383 0034 194B     		ldr	r3, .L194+12
 2384 0036 0360     		str	r3, [r0]
 918:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 2385              		.loc 1 918 0
 2386 0038 FFF7FEFF 		bl	HAL_SAI_GetState
 2387              	.LVL170:
 2388 003c 00B3     		cbz	r0, .L193
 2389              	.L184:
 2390              	.LVL171:
 936:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2391              		.loc 1 936 0
 2392 003e 3246     		mov	r2, r6
 2393 0040 0A21     		movs	r1, #10
 2394 0042 0020     		movs	r0, #0
 2395 0044 FFF7FEFF 		bl	SAIx_In_Init
 2396              	.LVL172:
 939:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2397              		.loc 1 939 0
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 72


 2398 0048 154B     		ldr	r3, .L194+16
 2399 004a 9B68     		ldr	r3, [r3, #8]
 2400 004c 3420     		movs	r0, #52
 2401 004e 9847     		blx	r3
 2402              	.LVL173:
 941:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     {
 2403              		.loc 1 941 0
 2404 0050 48F69413 		movw	r3, #35220
 2405 0054 9842     		cmp	r0, r3
 2406 0056 18D1     		bne	.L186
 944:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       /* Initialize the audio driver structure */
 2407              		.loc 1 944 0
 2408 0058 114F     		ldr	r7, .L194+16
 2409 005a FB6A     		ldr	r3, [r7, #44]
 2410 005c 3420     		movs	r0, #52
 2411              	.LVL174:
 2412 005e 9847     		blx	r3
 2413              	.LVL175:
 946:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****       ret = AUDIO_OK;
 2414              		.loc 1 946 0
 2415 0060 104B     		ldr	r3, .L194+20
 2416 0062 1F60     		str	r7, [r3]
 2417              	.LVL176:
 957:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 2418              		.loc 1 957 0
 2419 0064 3F68     		ldr	r7, [r7]
 2420 0066 3346     		mov	r3, r6
 2421 0068 6422     		movs	r2, #100
 2422 006a 44EA0501 		orr	r1, r4, r5
 2423 006e 3420     		movs	r0, #52
 2424 0070 B847     		blx	r7
 2425              	.LVL177:
 947:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 2426              		.loc 1 947 0
 2427 0072 0020     		movs	r0, #0
 2428              	.LVL178:
 2429              	.L182:
 961:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2430              		.loc 1 961 0
 2431 0074 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2432              	.LVL179:
 2433              	.L192:
 912:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 2434              		.loc 1 912 0
 2435 0076 0021     		movs	r1, #0
 2436 0078 3846     		mov	r0, r7
 2437 007a FFF7FEFF 		bl	BSP_AUDIO_IN_MspInit
 2438              	.LVL180:
 2439 007e D8E7     		b	.L183
 2440              	.L193:
 921:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 2441              		.loc 1 921 0
 2442 0080 0021     		movs	r1, #0
 2443 0082 0548     		ldr	r0, .L194+8
 2444 0084 FFF7FEFF 		bl	BSP_AUDIO_OUT_MspInit
 2445              	.LVL181:
 2446 0088 D9E7     		b	.L184
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 73


 2447              	.LVL182:
 2448              	.L186:
 951:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****     }
 2449              		.loc 1 951 0
 2450 008a 0120     		movs	r0, #1
 2451              	.LVL183:
 2452 008c F2E7     		b	.L182
 2453              	.L195:
 2454 008e 00BF     		.align	2
 2455              	.L194:
 2456 0090 00000000 		.word	.LANCHOR1
 2457 0094 245C0140 		.word	1073830948
 2458 0098 00000000 		.word	.LANCHOR0
 2459 009c 045C0140 		.word	1073830916
 2460 00a0 00000000 		.word	wm8994_drv
 2461 00a4 00000000 		.word	audio_drv
 2462              		.cfi_endproc
 2463              	.LFE163:
 2465              		.section	.text.BSP_AUDIO_IN_MspDeInit,"ax",%progbits
 2466              		.align	1
 2467              		.weak	BSP_AUDIO_IN_MspDeInit
 2468              		.syntax unified
 2469              		.thumb
 2470              		.thumb_func
 2471              		.fpu fpv5-sp-d16
 2473              	BSP_AUDIO_IN_MspDeInit:
 2474              	.LFB176:
1206:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
 2475              		.loc 1 1206 0
 2476              		.cfi_startproc
 2477              		@ args = 0, pretend = 0, frame = 0
 2478              		@ frame_needed = 0, uses_anonymous_args = 0
 2479              	.LVL184:
 2480 0000 10B5     		push	{r4, lr}
 2481              	.LCFI43:
 2482              		.cfi_def_cfa_offset 8
 2483              		.cfi_offset 4, -8
 2484              		.cfi_offset 14, -4
 2485 0002 0446     		mov	r4, r0
1212:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2486              		.loc 1 1212 0
 2487 0004 4620     		movs	r0, #70
 2488              	.LVL185:
 2489 0006 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 2490              	.LVL186:
1214:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   {
 2491              		.loc 1 1214 0
 2492 000a 2268     		ldr	r2, [r4]
 2493 000c 0B4B     		ldr	r3, .L200
 2494 000e 9A42     		cmp	r2, r3
 2495 0010 0FD0     		beq	.L199
 2496              	.L197:
1221:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2497              		.loc 1 1221 0
 2498 0012 2268     		ldr	r2, [r4]
 2499 0014 1368     		ldr	r3, [r2]
 2500 0016 23F48033 		bic	r3, r3, #65536
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 74


 2501 001a 1360     		str	r3, [r2]
1225:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2502              		.loc 1 1225 0
 2503 001c 4FF48061 		mov	r1, #1024
 2504 0020 0748     		ldr	r0, .L200+4
 2505 0022 FFF7FEFF 		bl	HAL_GPIO_DeInit
 2506              	.LVL187:
1228:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2507              		.loc 1 1228 0
 2508 0026 074A     		ldr	r2, .L200+8
 2509 0028 536C     		ldr	r3, [r2, #68]
 2510 002a 23F40003 		bic	r3, r3, #8388608
 2511 002e 5364     		str	r3, [r2, #68]
1232:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2512              		.loc 1 1232 0
 2513 0030 10BD     		pop	{r4, pc}
 2514              	.LVL188:
 2515              	.L199:
1217:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   }
 2516              		.loc 1 1217 0
 2517 0032 0548     		ldr	r0, .L200+12
 2518 0034 FFF7FEFF 		bl	HAL_DMA_DeInit
 2519              	.LVL189:
 2520 0038 EBE7     		b	.L197
 2521              	.L201:
 2522 003a 00BF     		.align	2
 2523              	.L200:
 2524 003c 245C0140 		.word	1073830948
 2525 0040 00180240 		.word	1073879040
 2526 0044 00380240 		.word	1073887232
 2527 0048 00000000 		.word	.LANCHOR5
 2528              		.cfi_endproc
 2529              	.LFE176:
 2531              		.section	.text.BSP_AUDIO_IN_DeInit,"ax",%progbits
 2532              		.align	1
 2533              		.global	BSP_AUDIO_IN_DeInit
 2534              		.syntax unified
 2535              		.thumb
 2536              		.thumb_func
 2537              		.fpu fpv5-sp-d16
 2539              	BSP_AUDIO_IN_DeInit:
 2540              	.LFB169:
1065:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   SAIx_In_DeInit();
 2541              		.loc 1 1065 0
 2542              		.cfi_startproc
 2543              		@ args = 0, pretend = 0, frame = 0
 2544              		@ frame_needed = 0, uses_anonymous_args = 0
 2545 0000 08B5     		push	{r3, lr}
 2546              	.LCFI44:
 2547              		.cfi_def_cfa_offset 8
 2548              		.cfi_offset 3, -8
 2549              		.cfi_offset 14, -4
1066:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c ****   /* DeInit the SAI MSP : this __weak function can be rewritten by the application */
 2550              		.loc 1 1066 0
 2551 0002 FFF7FEFF 		bl	SAIx_In_DeInit
 2552              	.LVL190:
1068:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** }
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 75


 2553              		.loc 1 1068 0
 2554 0006 0021     		movs	r1, #0
 2555 0008 0148     		ldr	r0, .L204
 2556 000a FFF7FEFF 		bl	BSP_AUDIO_IN_MspDeInit
 2557              	.LVL191:
1069:Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.c **** 
 2558              		.loc 1 1069 0
 2559 000e 08BD     		pop	{r3, pc}
 2560              	.L205:
 2561              		.align	2
 2562              	.L204:
 2563 0010 00000000 		.word	.LANCHOR1
 2564              		.cfi_endproc
 2565              	.LFE169:
 2567              		.global	AudioInVolume
 2568              		.comm	haudio_tim,64,4
 2569              		.global	haudio_in_sai
 2570              		.global	haudio_out_sai
 2571              		.comm	audio_drv,4,4
 2572              		.section	.bss.haudio_in_sai,"aw",%nobits
 2573              		.align	2
 2574              		.set	.LANCHOR1,. + 0
 2577              	haudio_in_sai:
 2578 0000 00000000 		.space	132
 2578      00000000 
 2578      00000000 
 2578      00000000 
 2578      00000000 
 2579              		.section	.bss.haudio_out_sai,"aw",%nobits
 2580              		.align	2
 2581              		.set	.LANCHOR0,. + 0
 2584              	haudio_out_sai:
 2585 0000 00000000 		.space	132
 2585      00000000 
 2585      00000000 
 2585      00000000 
 2585      00000000 
 2586              		.section	.bss.hdma_sai_rx.12193,"aw",%nobits
 2587              		.align	2
 2588              		.set	.LANCHOR4,. + 0
 2591              	hdma_sai_rx.12193:
 2592 0000 00000000 		.space	96
 2592      00000000 
 2592      00000000 
 2592      00000000 
 2592      00000000 
 2593              		.section	.bss.hdma_sai_rx.12204,"aw",%nobits
 2594              		.align	2
 2595              		.set	.LANCHOR5,. + 0
 2598              	hdma_sai_rx.12204:
 2599 0000 00000000 		.space	96
 2599      00000000 
 2599      00000000 
 2599      00000000 
 2599      00000000 
 2600              		.section	.bss.hdma_sai_tx.12106,"aw",%nobits
 2601              		.align	2
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 76


 2602              		.set	.LANCHOR2,. + 0
 2605              	hdma_sai_tx.12106:
 2606 0000 00000000 		.space	96
 2606      00000000 
 2606      00000000 
 2606      00000000 
 2606      00000000 
 2607              		.section	.data.AudioInVolume,"aw",%progbits
 2608              		.align	1
 2609              		.set	.LANCHOR3,. + 0
 2612              	AudioInVolume:
 2613 0000 4000     		.short	64
 2614              		.text
 2615              	.Letext0:
 2616              		.file 2 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\machine\\_default
 2617              		.file 3 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 2618              		.file 4 "d:\\sw\\drivers\\bsp\\components\\common\\audio.h"
 2619              		.file 5 "d:\\sw\\drivers\\bsp\\components\\wm8994\\wm8994.h"
 2620              		.file 6 "Drivers/CMSIS/Include/core_cm7.h"
 2621              		.file 7 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 2622              		.file 8 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f746xx.h"
 2623              		.file 9 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\lock.h"
 2624              		.file 10 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\_types.h"
 2625              		.file 11 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\lib\\gcc\\arm-none-eabi\\7.3.1\\include\
 2626              		.file 12 "d:\\program files (x86)\\gnu\\7_2018-q2-update\\arm-none-eabi\\include\\sys\\reent.h"
 2627              		.file 13 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 2628              		.file 14 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_rcc_ex.h"
 2629              		.file 15 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_gpio.h"
 2630              		.file 16 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
 2631              		.file 17 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_sai.h"
 2632              		.file 18 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_tim.h"
 2633              		.file 19 "Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.h"
 2634              		.file 20 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_cortex.h"
 2635              		.file 21 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal.h"
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 77


DEFINED SYMBOLS
                            *ABS*:00000000 stm32746g_discovery_audio.c
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:18     .text.SAIx_Out_DeInit:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:24     .text.SAIx_Out_DeInit:00000000 SAIx_Out_DeInit
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:52     .text.SAIx_Out_DeInit:00000018 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:58     .text.SAIx_In_DeInit:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:64     .text.SAIx_In_DeInit:00000000 SAIx_In_DeInit
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:91     .text.SAIx_In_DeInit:00000018 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:97     .text.SAIx_Out_Init:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:103    .text.SAIx_Out_Init:00000000 SAIx_Out_Init
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:186    .text.SAIx_Out_Init:00000064 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:192    .text.SAIx_In_Init:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:198    .text.SAIx_In_Init:00000000 SAIx_In_Init
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:360    .text.SAIx_In_Init:000000d4 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:368    .text.BSP_AUDIO_OUT_Play:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:375    .text.BSP_AUDIO_OUT_Play:00000000 BSP_AUDIO_OUT_Play
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:431    .text.BSP_AUDIO_OUT_Play:00000038 $d
                            *COM*:00000004 audio_drv
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:437    .text.BSP_AUDIO_OUT_ChangeBuffer:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:444    .text.BSP_AUDIO_OUT_ChangeBuffer:00000000 BSP_AUDIO_OUT_ChangeBuffer
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:469    .text.BSP_AUDIO_OUT_ChangeBuffer:00000010 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:474    .text.BSP_AUDIO_OUT_Pause:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:481    .text.BSP_AUDIO_OUT_Pause:00000000 BSP_AUDIO_OUT_Pause
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:516    .text.BSP_AUDIO_OUT_Pause:0000001c $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:522    .text.BSP_AUDIO_OUT_Resume:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:529    .text.BSP_AUDIO_OUT_Resume:00000000 BSP_AUDIO_OUT_Resume
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:564    .text.BSP_AUDIO_OUT_Resume:0000001c $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:570    .text.BSP_AUDIO_OUT_Stop:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:577    .text.BSP_AUDIO_OUT_Stop:00000000 BSP_AUDIO_OUT_Stop
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:628    .text.BSP_AUDIO_OUT_Stop:00000030 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:634    .text.BSP_AUDIO_OUT_SetVolume:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:641    .text.BSP_AUDIO_OUT_SetVolume:00000000 BSP_AUDIO_OUT_SetVolume
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:675    .text.BSP_AUDIO_OUT_SetVolume:00000018 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:680    .text.BSP_AUDIO_OUT_SetMute:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:687    .text.BSP_AUDIO_OUT_SetMute:00000000 BSP_AUDIO_OUT_SetMute
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:721    .text.BSP_AUDIO_OUT_SetMute:00000018 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:726    .text.BSP_AUDIO_OUT_SetOutputMode:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:733    .text.BSP_AUDIO_OUT_SetOutputMode:00000000 BSP_AUDIO_OUT_SetOutputMode
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:767    .text.BSP_AUDIO_OUT_SetOutputMode:00000018 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:772    .text.BSP_AUDIO_OUT_SetAudioFrameSlot:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:779    .text.BSP_AUDIO_OUT_SetAudioFrameSlot:00000000 BSP_AUDIO_OUT_SetAudioFrameSlot
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:814    .text.BSP_AUDIO_OUT_SetAudioFrameSlot:00000024 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:819    .text.BSP_AUDIO_OUT_TransferComplete_CallBack:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:826    .text.BSP_AUDIO_OUT_TransferComplete_CallBack:00000000 BSP_AUDIO_OUT_TransferComplete_CallBack
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:839    .text.HAL_SAI_TxCpltCallback:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:846    .text.HAL_SAI_TxCpltCallback:00000000 HAL_SAI_TxCpltCallback
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:867    .text.BSP_AUDIO_OUT_HalfTransfer_CallBack:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:874    .text.BSP_AUDIO_OUT_HalfTransfer_CallBack:00000000 BSP_AUDIO_OUT_HalfTransfer_CallBack
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:887    .text.HAL_SAI_TxHalfCpltCallback:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:894    .text.HAL_SAI_TxHalfCpltCallback:00000000 HAL_SAI_TxHalfCpltCallback
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:915    .text.BSP_AUDIO_OUT_Error_CallBack:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:922    .text.BSP_AUDIO_OUT_Error_CallBack:00000000 BSP_AUDIO_OUT_Error_CallBack
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:935    .text.BSP_AUDIO_OUT_MspInit:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:942    .text.BSP_AUDIO_OUT_MspInit:00000000 BSP_AUDIO_OUT_MspInit
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1164   .text.BSP_AUDIO_OUT_MspInit:00000148 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1173   .text.BSP_AUDIO_OUT_MspDeInit:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1180   .text.BSP_AUDIO_OUT_MspDeInit:00000000 BSP_AUDIO_OUT_MspDeInit
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 78


C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1248   .text.BSP_AUDIO_OUT_MspDeInit:00000054 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1255   .text.BSP_AUDIO_OUT_DeInit:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1262   .text.BSP_AUDIO_OUT_DeInit:00000000 BSP_AUDIO_OUT_DeInit
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1286   .text.BSP_AUDIO_OUT_DeInit:00000010 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1291   .text.BSP_AUDIO_OUT_ClockConfig:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1298   .text.BSP_AUDIO_OUT_ClockConfig:00000000 BSP_AUDIO_OUT_ClockConfig
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1382   .text.BSP_AUDIO_OUT_Init:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1389   .text.BSP_AUDIO_OUT_Init:00000000 BSP_AUDIO_OUT_Init
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1484   .text.BSP_AUDIO_OUT_Init:00000064 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1492   .text.BSP_AUDIO_OUT_SetFrequency:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1499   .text.BSP_AUDIO_OUT_SetFrequency:00000000 BSP_AUDIO_OUT_SetFrequency
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1544   .text.BSP_AUDIO_OUT_SetFrequency:00000030 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1549   .text.BSP_AUDIO_IN_Record:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1556   .text.BSP_AUDIO_IN_Record:00000000 BSP_AUDIO_IN_Record
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1583   .text.BSP_AUDIO_IN_Record:00000010 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1588   .text.BSP_AUDIO_IN_Stop:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1595   .text.BSP_AUDIO_IN_Stop:00000000 BSP_AUDIO_IN_Stop
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1646   .text.BSP_AUDIO_IN_Stop:00000030 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1652   .text.BSP_AUDIO_IN_Pause:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1659   .text.BSP_AUDIO_IN_Pause:00000000 BSP_AUDIO_IN_Pause
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1680   .text.BSP_AUDIO_IN_Pause:0000000c $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1685   .text.BSP_AUDIO_IN_Resume:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1692   .text.BSP_AUDIO_IN_Resume:00000000 BSP_AUDIO_IN_Resume
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1713   .text.BSP_AUDIO_IN_Resume:0000000c $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1718   .text.BSP_AUDIO_IN_SetVolume:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1725   .text.BSP_AUDIO_IN_SetVolume:00000000 BSP_AUDIO_IN_SetVolume
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1762   .text.BSP_AUDIO_IN_SetVolume:00000020 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1768   .text.BSP_AUDIO_IN_TransferComplete_CallBack:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1775   .text.BSP_AUDIO_IN_TransferComplete_CallBack:00000000 BSP_AUDIO_IN_TransferComplete_CallBack
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1788   .text.HAL_SAI_RxCpltCallback:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1795   .text.HAL_SAI_RxCpltCallback:00000000 HAL_SAI_RxCpltCallback
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1816   .text.BSP_AUDIO_IN_HalfTransfer_CallBack:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1823   .text.BSP_AUDIO_IN_HalfTransfer_CallBack:00000000 BSP_AUDIO_IN_HalfTransfer_CallBack
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1836   .text.HAL_SAI_RxHalfCpltCallback:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1843   .text.HAL_SAI_RxHalfCpltCallback:00000000 HAL_SAI_RxHalfCpltCallback
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1864   .text.BSP_AUDIO_IN_Error_CallBack:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1871   .text.BSP_AUDIO_IN_Error_CallBack:00000000 BSP_AUDIO_IN_Error_CallBack
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1884   .text.HAL_SAI_ErrorCallback:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1891   .text.HAL_SAI_ErrorCallback:00000000 HAL_SAI_ErrorCallback
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1947   .text.HAL_SAI_ErrorCallback:00000030 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1953   .text.BSP_AUDIO_IN_MspInit:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:1960   .text.BSP_AUDIO_IN_MspInit:00000000 BSP_AUDIO_IN_MspInit
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2141   .text.BSP_AUDIO_IN_MspInit:000000f4 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2151   .text.BSP_AUDIO_IN_InitEx:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2158   .text.BSP_AUDIO_IN_InitEx:00000000 BSP_AUDIO_IN_InitEx
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2279   .text.BSP_AUDIO_IN_InitEx:00000088 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2287   .text.BSP_AUDIO_IN_Init:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2294   .text.BSP_AUDIO_IN_Init:00000000 BSP_AUDIO_IN_Init
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2322   .text.BSP_AUDIO_IN_OUT_Init:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2329   .text.BSP_AUDIO_IN_OUT_Init:00000000 BSP_AUDIO_IN_OUT_Init
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2456   .text.BSP_AUDIO_IN_OUT_Init:00000090 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2466   .text.BSP_AUDIO_IN_MspDeInit:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2473   .text.BSP_AUDIO_IN_MspDeInit:00000000 BSP_AUDIO_IN_MspDeInit
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2524   .text.BSP_AUDIO_IN_MspDeInit:0000003c $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2532   .text.BSP_AUDIO_IN_DeInit:00000000 $t
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2539   .text.BSP_AUDIO_IN_DeInit:00000000 BSP_AUDIO_IN_DeInit
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2563   .text.BSP_AUDIO_IN_DeInit:00000010 $d
ARM GAS  C:\Users\milek\AppData\Local\Temp\ccJoQDix.s 			page 79


C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2612   .data.AudioInVolume:00000000 AudioInVolume
                            *COM*:00000040 haudio_tim
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2577   .bss.haudio_in_sai:00000000 haudio_in_sai
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2584   .bss.haudio_out_sai:00000000 haudio_out_sai
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2573   .bss.haudio_in_sai:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2580   .bss.haudio_out_sai:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2587   .bss.hdma_sai_rx.12193:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2591   .bss.hdma_sai_rx.12193:00000000 hdma_sai_rx.12193
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2594   .bss.hdma_sai_rx.12204:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2598   .bss.hdma_sai_rx.12204:00000000 hdma_sai_rx.12204
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2601   .bss.hdma_sai_tx.12106:00000000 $d
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2605   .bss.hdma_sai_tx.12106:00000000 hdma_sai_tx.12106
C:\Users\milek\AppData\Local\Temp\ccJoQDix.s:2608   .data.AudioInVolume:00000000 $d

UNDEFINED SYMBOLS
HAL_SAI_DeInit
HAL_SAI_Init
HAL_SAI_Transmit_DMA
HAL_SAI_DMAPause
HAL_SAI_DMAResume
HAL_SAI_DMAStop
HAL_Delay
HAL_GPIO_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_DMA_DeInit
HAL_DMA_Init
HAL_NVIC_DisableIRQ
HAL_GPIO_DeInit
HAL_RCCEx_GetPeriphCLKConfig
HAL_RCCEx_PeriphCLKConfig
HAL_SAI_GetState
wm8994_drv
HAL_SAI_Receive_DMA
