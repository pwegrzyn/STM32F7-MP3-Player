ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"tcp_in.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.tcp_getoptbyte,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-sp-d16
  24              	tcp_getoptbyte:
  25              	.LFB159:
  26              		.file 1 "Middlewares/Third_Party/LwIP/src/core/tcp_in.c"
   1:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Transmission Control Protocol, incoming traffic
   4:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * The input processing functions of the TCP layer.
   6:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * These functions are generally called in the order (ip_input() ->)
   8:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * tcp_input() -> * tcp_process() -> tcp_receive() (-> application).
   9:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  10:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
  11:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  12:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /*
  13:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  14:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * All rights reserved.
  15:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  16:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Redistribution and use in source and binary forms, with or without modification,
  17:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * are permitted provided that the following conditions are met:
  18:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  19:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  20:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *    this list of conditions and the following disclaimer.
  21:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  22:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *    this list of conditions and the following disclaimer in the documentation
  23:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *    and/or other materials provided with the distribution.
  24:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * 3. The name of the author may not be used to endorse or promote products
  25:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *    derived from this software without specific prior written permission.
  26:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  27:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  28:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  29:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  30:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  31:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  32:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 2


  33:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  34:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  35:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  36:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * OF SUCH DAMAGE.
  37:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  38:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * This file is part of the lwIP TCP/IP stack.
  39:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  40:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Author: Adam Dunkels <adam@sics.se>
  41:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  42:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
  43:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  44:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/opt.h"
  45:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  46:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP /* don't build if not configured for use in lwipopts.h */
  47:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  48:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/priv/tcp_priv.h"
  49:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/def.h"
  50:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/ip_addr.h"
  51:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/netif.h"
  52:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/mem.h"
  53:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/memp.h"
  54:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/inet_chksum.h"
  55:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/stats.h"
  56:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/ip6.h"
  57:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/ip6_addr.h"
  58:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_ND6_TCP_REACHABILITY_HINTS
  59:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/nd6.h"
  60:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_ND6_TCP_REACHABILITY_HINTS */
  61:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  62:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /** Initial CWND calculation as defined RFC 2581 */
  63:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #define LWIP_TCP_CALC_INITIAL_CWND(mss) LWIP_MIN((4U * (mss)), LWIP_MAX((2U * (mss)), 4380U));
  64:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  65:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /* These variables are global to all functions involved in the input
  66:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    processing of TCP segments. They are set by the tcp_input()
  67:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    function. */
  68:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static struct tcp_seg inseg;
  69:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static struct tcp_hdr *tcphdr;
  70:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u16_t tcphdr_optlen;
  71:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u16_t tcphdr_opt1len;
  72:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u8_t* tcphdr_opt2;
  73:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u16_t tcp_optidx;
  74:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u32_t seqno, ackno;
  75:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static tcpwnd_size_t recv_acked;
  76:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u16_t tcplen;
  77:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u8_t flags;
  78:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  79:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u8_t recv_flags;
  80:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static struct pbuf *recv_data;
  81:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  82:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** struct tcp_pcb *tcp_input_pcb;
  83:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  84:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /* Forward declarations. */
  85:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static err_t tcp_process(struct tcp_pcb *pcb);
  86:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_receive(struct tcp_pcb *pcb);
  87:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_parseopt(struct tcp_pcb *pcb);
  88:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  89:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_listen_input(struct tcp_pcb_listen *pcb);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 3


  90:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_timewait_input(struct tcp_pcb *pcb);
  91:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  92:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static int tcp_input_delayed_close(struct tcp_pcb *pcb);
  93:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  94:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
  95:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * The initial input processing of TCP. It verifies the TCP header, demultiplexes
  96:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * the segment between the PCBs and passes it on to tcp_process(), which implements
  97:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * the TCP finite state machine. This function is called by the IP layer (in
  98:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * ip_input()).
  99:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 100:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param p received TCP segment to process (p->payload pointing to the TCP header)
 101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param inp network interface on which this segment was received
 102:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 103:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** void
 104:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_input(struct pbuf *p, struct netif *inp)
 105:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 106:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *pcb, *prev;
 107:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb_listen *lpcb;
 108:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if SO_REUSE
 109:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *lpcb_prev = NULL;
 110:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb_listen *lpcb_any = NULL;
 111:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* SO_REUSE */
 112:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u8_t hdrlen_bytes;
 113:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 114:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 115:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_UNUSED_ARG(inp);
 116:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 117:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   PERF_START;
 118:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 119:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   TCP_STATS_INC(tcp.recv);
 120:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   MIB2_STATS_INC(mib2.tcpinsegs);
 121:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 122:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr = (struct tcp_hdr *)p->payload;
 123:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 124:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 125:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcp_debug_print(tcphdr);
 126:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 127:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 128:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Check that TCP header fits in payload */
 129:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (p->len < TCP_HLEN) {
 130:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* drop short packets */
 131:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: short packet (%"U16_F" bytes) discarded\n", p->tot_le
 132:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_STATS_INC(tcp.lenerr);
 133:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     goto dropped;
 134:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 135:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 136:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Don't even process incoming broadcasts/multicasts. */
 137:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (ip_addr_isbroadcast(ip_current_dest_addr(), ip_current_netif()) ||
 138:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_addr_ismulticast(ip_current_dest_addr())) {
 139:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_STATS_INC(tcp.proterr);
 140:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     goto dropped;
 141:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 142:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 143:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if CHECKSUM_CHECK_TCP
 144:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   IF__NETIF_CHECKSUM_ENABLED(inp, NETIF_CHECKSUM_CHECK_TCP) {
 145:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Verify TCP checksum. */
 146:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     u16_t chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 4


 147:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                ip_current_src_addr(), ip_current_dest_addr());
 148:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (chksum != 0) {
 149:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: packet discarded due to failing checksum 0x%04"X1
 150:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           chksum));
 151:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_debug_print(tcphdr);
 152:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.chkerr);
 153:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       goto dropped;
 154:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 155:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 156:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* CHECKSUM_CHECK_TCP */
 157:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 158:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* sanity-check header length */
 159:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   hdrlen_bytes = TCPH_HDRLEN(tcphdr) * 4;
 160:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((hdrlen_bytes < TCP_HLEN) || (hdrlen_bytes > p->tot_len)) {
 161:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: invalid header length (%"U16_F")\n", (u16_t)hdrlen_by
 162:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_STATS_INC(tcp.lenerr);
 163:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     goto dropped;
 164:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 165:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 166:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Move the payload pointer in the pbuf so that it points to the
 167:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      TCP data instead of the TCP header. */
 168:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr_optlen = hdrlen_bytes - TCP_HLEN;
 169:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr_opt2 = NULL;
 170:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (p->len >= hdrlen_bytes) {
 171:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* all options are in the first pbuf */
 172:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcphdr_opt1len = tcphdr_optlen;
 173:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_header(p, -(s16_t)hdrlen_bytes); /* cannot fail */
 174:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 175:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     u16_t opt2len;
 176:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* TCP header fits into first pbuf, options don't - data is in the next pbuf */
 177:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* there must be a next pbuf, due to hdrlen_bytes sanity check above */
 178:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->next != NULL", p->next != NULL);
 179:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 180:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* advance over the TCP header (cannot fail) */
 181:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_header(p, -TCP_HLEN);
 182:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 183:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* determine how long the first and second parts of the options are */
 184:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcphdr_opt1len = p->len;
 185:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     opt2len = tcphdr_optlen - tcphdr_opt1len;
 186:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 187:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* options continue in the next pbuf: set p to zero length and hide the
 188:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         options in the next pbuf (adjusting p->tot_len) */
 189:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_header(p, -(s16_t)tcphdr_opt1len);
 190:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 191:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* check that the options fit in the second pbuf */
 192:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (opt2len > p->next->len) {
 193:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* drop short packets */
 194:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: options overflow second pbuf (%"U16_F" bytes)\n", p
 195:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.lenerr);
 196:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       goto dropped;
 197:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 198:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 199:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* remember the pointer to the second part of the options */
 200:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcphdr_opt2 = (u8_t*)p->next->payload;
 201:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 202:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* advance p->next to point after the options, and manually
 203:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         adjust p->tot_len to keep it consistent with the changed p->next */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 5


 204:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_header(p->next, -(s16_t)opt2len);
 205:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     p->tot_len -= opt2len;
 206:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 207:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->len == 0", p->len == 0);
 208:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->tot_len == p->next->tot_len", p->tot_len == p->next->tot_len);
 209:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 210:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 211:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Convert fields in TCP header to host byte order. */
 212:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->src = lwip_ntohs(tcphdr->src);
 213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->dest = lwip_ntohs(tcphdr->dest);
 214:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   seqno = tcphdr->seqno = lwip_ntohl(tcphdr->seqno);
 215:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   ackno = tcphdr->ackno = lwip_ntohl(tcphdr->ackno);
 216:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->wnd = lwip_ntohs(tcphdr->wnd);
 217:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 218:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   flags = TCPH_FLAGS(tcphdr);
 219:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcplen = p->tot_len + ((flags & (TCP_FIN | TCP_SYN)) ? 1 : 0);
 220:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 221:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Demultiplex an incoming segment. First, we check if it is destined
 222:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      for an active connection. */
 223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   prev = NULL;
 224:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
 226:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 227:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != TIME-WAIT", pcb->state != TIME_WAIT);
 228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != LISTEN", pcb->state != LISTEN);
 229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->remote_port == tcphdr->src &&
 230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->local_port == tcphdr->dest &&
 231:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 232:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 233:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Move this PCB to the front of the list so that subsequent
 234:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          lookups will be faster (we exploit locality in TCP segment
 235:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          arrivals). */
 236:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: pcb->next != pcb (before cache)", pcb->next != pcb);
 237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (prev != NULL) {
 238:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         prev->next = pcb->next;
 239:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->next = tcp_active_pcbs;
 240:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_active_pcbs = pcb;
 241:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 242:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_STATS_INC(tcp.cachehit);
 243:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: pcb->next != pcb (after cache)", pcb->next != pcb);
 245:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
 246:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 247:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     prev = pcb;
 248:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 249:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 250:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (pcb == NULL) {
 251:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If it did not go to an active connection, we check the connections
 252:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        in the TIME-WAIT state. */
 253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     for (pcb = tcp_tw_pcbs; pcb != NULL; pcb = pcb->next) {
 254:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 255:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->remote_port == tcphdr->src &&
 256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->local_port == tcphdr->dest &&
 257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 258:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 259:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We don't really care enough to move this PCB to the front
 260:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            of the list since we are not very likely to receive that
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 6


 261:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            many segments for connections in TIME-WAIT. */
 262:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: packed for TIME_WAITing connection.\n"));
 263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_timewait_input(pcb);
 264:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pbuf_free(p);
 265:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         return;
 266:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 267:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 268:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 269:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Finally, if we still did not get a match, we check all PCBs that
 270:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        are LISTENing for incoming connections. */
 271:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     prev = NULL;
 272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     for (lpcb = tcp_listen_pcbs.listen_pcbs; lpcb != NULL; lpcb = lpcb->next) {
 273:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (lpcb->local_port == tcphdr->dest) {
 274:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (IP_IS_ANY_TYPE_VAL(lpcb->local_ip)) {
 275:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* found an ANY TYPE (IPv4/IPv6) match */
 276:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if SO_REUSE
 277:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           lpcb_any = lpcb;
 278:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           lpcb_prev = prev;
 279:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #else /* SO_REUSE */
 280:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           break;
 281:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* SO_REUSE */
 282:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else if (IP_ADDR_PCB_VERSION_MATCH_EXACT(lpcb, ip_current_dest_addr())) {
 283:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (ip_addr_cmp(&lpcb->local_ip, ip_current_dest_addr())) {
 284:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an exact match */
 285:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             break;
 286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else if (ip_addr_isany(&lpcb->local_ip)) {
 287:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an ANY-match */
 288:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if SO_REUSE
 289:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             lpcb_any = lpcb;
 290:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             lpcb_prev = prev;
 291:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #else /* SO_REUSE */
 292:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             break;
 293:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  #endif /* SO_REUSE */
 294:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 295:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 296:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 297:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       prev = (struct tcp_pcb *)lpcb;
 298:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 299:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if SO_REUSE
 300:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* first try specific local IP */
 301:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (lpcb == NULL) {
 302:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* only pass to ANY if no specific local IP has been found */
 303:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       lpcb = lpcb_any;
 304:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       prev = lpcb_prev;
 305:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 306:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* SO_REUSE */
 307:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (lpcb != NULL) {
 308:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Move this PCB to the front of the list so that subsequent
 309:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          lookups will be faster (we exploit locality in TCP segment
 310:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          arrivals). */
 311:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (prev != NULL) {
 312:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ((struct tcp_pcb_listen *)prev)->next = lpcb->next;
 313:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* our successor is the remainder of the listening list */
 314:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         lpcb->next = tcp_listen_pcbs.listen_pcbs;
 315:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* put this listening pcb at the head of the listening list */
 316:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_listen_pcbs.listen_pcbs = lpcb;
 317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 7


 318:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_STATS_INC(tcp.cachehit);
 319:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 320:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 321:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: packed for LISTENing connection.\n"));
 322:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_listen_input(lpcb);
 323:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_free(p);
 324:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 325:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 326:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 327:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 328:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 329:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_DEBUGF(TCP_INPUT_DEBUG, ("+-+-+-+-+-+-+-+-+-+-+-+-+-+- tcp_input: flags "));
 330:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcp_debug_print_flags(TCPH_FLAGS(tcphdr));
 331:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_DEBUGF(TCP_INPUT_DEBUG, ("-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"));
 332:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_INPUT_DEBUG */
 333:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 334:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 335:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (pcb != NULL) {
 336:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The incoming segment belongs to a connection. */
 337:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 338:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_debug_print_state(pcb->state);
 339:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_INPUT_DEBUG */
 340:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 341:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Set up a tcp_seg structure. */
 342:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.next = NULL;
 343:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.len = p->tot_len;
 344:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.p = p;
 345:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.tcphdr = tcphdr;
 346:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 347:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_data = NULL;
 348:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_flags = 0;
 349:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_acked = 0;
 350:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 351:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (flags & TCP_PSH) {
 352:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       p->flags |= PBUF_FLAG_PUSH;
 353:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 354:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 355:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If there is data which was previously "refused" by upper layer */
 356:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->refused_data != NULL) {
 357:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((tcp_process_refused_data(pcb) == ERR_ABRT) ||
 358:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ((pcb->refused_data != NULL) && (tcplen > 0))) {
 359:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* pcb has been aborted or refused data is still refused and the new
 360:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            segment contains data */
 361:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->rcv_ann_wnd == 0) {
 362:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* this is a zero-window probe, we respond to it with current RCV.NXT
 363:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           and drop the data segment */
 364:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_send_empty_ack(pcb);
 365:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 366:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_STATS_INC(tcp.drop);
 367:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         MIB2_STATS_INC(mib2.tcpinerrs);
 368:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         goto aborted;
 369:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 370:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 371:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_input_pcb = pcb;
 372:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     err = tcp_process(pcb);
 373:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* A return value of ERR_ABRT means that tcp_abort() was called
 374:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        and that the pcb has been freed. If so, we don't do anything. */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 8


 375:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (err != ERR_ABRT) {
 376:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (recv_flags & TF_RESET) {
 377:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* TF_RESET means that the connection was reset by the other
 378:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            end. We then call the error callback to inform the
 379:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            application that the connection is dead before we
 380:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            deallocate the PCB. */
 381:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_EVENT_ERR(pcb->state, pcb->errf, pcb->callback_arg, ERR_RST);
 382:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_remove(&tcp_active_pcbs, pcb);
 383:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         memp_free(MEMP_TCP_PCB, pcb);
 384:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 385:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         err = ERR_OK;
 386:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If the application has registered a "sent" function to be
 387:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            called when new send buffer space is available, we call it
 388:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            now. */
 389:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_acked > 0) {
 390:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u16_t acked16;
 391:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_WND_SCALE
 392:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* recv_acked is u32_t but the sent callback only takes a u16_t,
 393:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              so we might have to call it multiple times. */
 394:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u32_t acked = recv_acked;
 395:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           while (acked > 0) {
 396:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             acked16 = (u16_t)LWIP_MIN(acked, 0xffffu);
 397:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             acked -= acked16;
 398:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #else
 399:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           {
 400:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             acked16 = recv_acked;
 401:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             TCP_EVENT_SENT(pcb, (u16_t)acked16, err);
 403:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 404:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               goto aborted;
 405:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 406:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 407:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_acked = 0;
 408:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 409:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_input_delayed_close(pcb)) {
 410:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           goto aborted;
 411:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 412:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 413:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         while (recv_data != NULL) {
 414:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           struct pbuf *rest = NULL;
 415:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pbuf_split_64k(recv_data, &rest);
 416:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #else /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 417:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_data != NULL) {
 418:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 419:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 420:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("pcb->refused_data == NULL", pcb->refused_data == NULL);
 421:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->flags & TF_RXCLOSED) {
 422:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* received data although already closed -> abort (send RST) to
 423:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                notify the remote host that not all data has been processed */
 424:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pbuf_free(recv_data);
 425:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 426:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (rest != NULL) {
 427:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_free(rest);
 428:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 430:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_abort(pcb);
 431:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             goto aborted;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 9


 432:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 433:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 434:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Notify application that data has been received. */
 435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCP_EVENT_RECV(pcb, recv_data, ERR_OK, err);
 436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err == ERR_ABRT) {
 437:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 438:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (rest != NULL) {
 439:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_free(rest);
 440:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 441:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 442:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             goto aborted;
 443:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 444:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 445:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If the upper layer can't receive this data, store it */
 446:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err != ERR_OK) {
 447:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 448:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (rest != NULL) {
 449:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_cat(recv_data, rest);
 450:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 451:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 452:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->refused_data = recv_data;
 453:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: keep incoming packet, because pcb is \"full\"
 454:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 455:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             break;
 456:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else {
 457:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Upper layer received the data, go on with the rest if > 64K */
 458:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             recv_data = rest;
 459:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 460:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 461:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 462:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 463:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If a FIN segment was received, we call the callback
 464:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            function with a NULL buffer to indicate EOF. */
 465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_flags & TF_GOT_FIN) {
 466:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->refused_data != NULL) {
 467:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Delay this if we have refused data. */
 468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->refused_data->flags |= PBUF_FLAG_TCP_FIN;
 469:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else {
 470:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* correct rcv_wnd as the application won't call tcp_recved()
 471:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                for the FIN's seqno */
 472:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->rcv_wnd != TCP_WND_MAX(pcb)) {
 473:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->rcv_wnd++;
 474:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             TCP_EVENT_CLOSED(pcb, err);
 476:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 477:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               goto aborted;
 478:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 479:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 480:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 481:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 482:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_input_pcb = NULL;
 483:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_input_delayed_close(pcb)) {
 484:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           goto aborted;
 485:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 486:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Try to send something out. */
 487:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_output(pcb);
 488:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 10


 489:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_DEBUG
 490:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_debug_print_state(pcb->state);
 491:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_DEBUG */
 492:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_INPUT_DEBUG */
 493:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 494:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 495:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Jump target if pcb has been aborted in a callback (by calling tcp_abort()).
 496:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        Below this line, 'pcb' may not be dereferenced! */
 497:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** aborted:
 498:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_input_pcb = NULL;
 499:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_data = NULL;
 500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* give up our reference to inseg.p */
 502:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (inseg.p != NULL)
 503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     {
 504:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_free(inseg.p);
 505:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.p = NULL;
 506:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 507:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 508:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 509:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If no matching PCB was found, send a TCP RST (reset) to the
 510:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        sender. */
 511:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_input: no PCB match found, resetting.\n"));
 512:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (!(TCPH_FLAGS(tcphdr) & TCP_RST)) {
 513:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.proterr);
 514:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.drop);
 515:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_rst(ackno, seqno + tcplen, ip_current_dest_addr(),
 516:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 517:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 518:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_free(p);
 519:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 520:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 521:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_input: tcp_pcbs_sane()", tcp_pcbs_sane());
 522:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   PERF_STOP("tcp_input");
 523:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return;
 524:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** dropped:
 525:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   TCP_STATS_INC(tcp.drop);
 526:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   MIB2_STATS_INC(mib2.tcpinerrs);
 527:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   pbuf_free(p);
 528:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 529:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 530:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /** Called from tcp_input to check for TF_CLOSED flag. This results in closing
 531:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * and deallocating a pcb at the correct place to ensure noone references it
 532:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * any more.
 533:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @returns 1 if the pcb has been closed and deallocated, 0 otherwise
 534:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static int
 536:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_input_delayed_close(struct tcp_pcb *pcb)
 537:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 538:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (recv_flags & TF_CLOSED) {
 539:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The connection has been closed and we will deallocate the
 540:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         PCB. */
 541:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (!(pcb->flags & TF_RXCLOSED)) {
 542:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Connection closed although the application has only shut down the
 543:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tx side: call the PCB's err callback and indicate the closure to
 544:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ensure the application doesn't continue using the PCB. */
 545:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_EVENT_ERR(pcb->state, pcb->errf, pcb->callback_arg, ERR_CLSD);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 11


 546:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 547:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_pcb_remove(&tcp_active_pcbs, pcb);
 548:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     memp_free(MEMP_TCP_PCB, pcb);
 549:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return 1;
 550:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 551:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return 0;
 552:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 553:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 554:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
 555:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called by tcp_input() when a segment arrives for a listening
 556:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * connection (from tcp_input()).
 557:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 558:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param pcb the tcp_pcb_listen for which a segment arrived
 559:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 560:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @note the segment which arrived is saved in global variables, therefore only the pcb
 561:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *       involved is passed as a parameter to this function
 562:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 563:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
 564:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_listen_input(struct tcp_pcb_listen *pcb)
 565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 566:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *npcb;
 567:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u32_t iss;
 568:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t rc;
 569:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 570:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_RST) {
 571:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* An incoming RST should be ignored. Return. */
 572:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return;
 573:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 574:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 575:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* In the LISTEN state, we check for incoming SYN segments,
 576:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      creates a new PCB, and responds with a SYN|ACK. */
 577:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_ACK) {
 578:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* For incoming segments with the ACK flag set, respond with a
 579:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        RST. */
 580:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_listen_input: ACK in LISTEN, sending reset\n"));
 581:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_rst(ackno, seqno + tcplen, ip_current_dest_addr(),
 582:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 583:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else if (flags & TCP_SYN) {
 584:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_DEBUG, ("TCP connection request %"U16_F" -> %"U16_F".\n", tcphdr->src, tcphdr->
 585:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_LISTEN_BACKLOG
 586:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->accepts_pending >= pcb->backlog) {
 587:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_listen_input: listen backlog exceeded for port %"U16_F"\n", tcph
 588:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 589:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 590:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_LISTEN_BACKLOG */
 591:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb = tcp_alloc(pcb->prio);
 592:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If a new PCB could not be created (probably due to lack of memory),
 593:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        we don't do anything, but rely on the sender will retransmit the
 594:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        SYN at a time when we have more memory available. */
 595:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (npcb == NULL) {
 596:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       err_t err;
 597:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_listen_input: could not allocate PCB\n"));
 598:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.memerr);
 599:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_EVENT_ACCEPT(pcb, NULL, pcb->callback_arg, ERR_MEM, err);
 600:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_UNUSED_ARG(err); /* err not useful here */
 601:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 602:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 12


 603:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_LISTEN_BACKLOG
 604:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->accepts_pending++;
 605:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->flags |= TF_BACKLOGPEND;
 606:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_LISTEN_BACKLOG */
 607:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Set up the new PCB. */
 608:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     ip_addr_copy(npcb->local_ip, *ip_current_dest_addr());
 609:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     ip_addr_copy(npcb->remote_ip, *ip_current_src_addr());
 610:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->local_port = pcb->local_port;
 611:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->remote_port = tcphdr->src;
 612:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->state = SYN_RCVD;
 613:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->rcv_nxt = seqno + 1;
 614:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->rcv_ann_right_edge = npcb->rcv_nxt;
 615:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     iss = tcp_next_iss(npcb);
 616:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wl2 = iss;
 617:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_nxt = iss;
 618:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->lastack = iss;
 619:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_lbb = iss;
 620:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wl1 = seqno - 1;/* initialise to seqno-1 to force window update */
 621:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->callback_arg = pcb->callback_arg;
 622:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 623:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->listener = pcb;
 624:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG */
 625:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* inherit socket options */
 626:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->so_options = pcb->so_options & SOF_INHERITED;
 627:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Register the new PCB so that we can begin receiving segments
 628:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        for it. */
 629:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_REG_ACTIVE(npcb);
 630:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 631:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Parse any options in the SYN. */
 632:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_parseopt(npcb);
 633:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wnd = tcphdr->wnd;
 634:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wnd_max = npcb->snd_wnd;
 635:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 636:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_CALCULATE_EFF_SEND_MSS
 637:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->mss = tcp_eff_send_mss(npcb->mss, &npcb->local_ip, &npcb->remote_ip);
 638:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 639:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 640:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     MIB2_STATS_INC(mib2.tcppassiveopens);
 641:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 642:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Send a SYN|ACK together with the MSS option. */
 643:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     rc = tcp_enqueue_flags(npcb, TCP_SYN | TCP_ACK);
 644:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (rc != ERR_OK) {
 645:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_abandon(npcb, 0);
 646:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 647:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 648:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_output(npcb);
 649:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 650:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return;
 651:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 652:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 653:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
 654:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called by tcp_input() when a segment arrives for a connection in
 655:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * TIME_WAIT.
 656:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 657:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param pcb the tcp_pcb for which a segment arrived
 658:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 659:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @note the segment which arrived is saved in global variables, therefore only the pcb
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 13


 660:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *       involved is passed as a parameter to this function
 661:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 662:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
 663:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_timewait_input(struct tcp_pcb *pcb)
 664:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 665:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* RFC 1337: in TIME_WAIT, ignore RST and ACK FINs + any 'acceptable' segments */
 666:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* RFC 793 3.9 Event Processing - Segment Arrives:
 667:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    * - first check sequence number - we skip that one in TIME_WAIT (always
 668:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    *   acceptable since we only send ACKs)
 669:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    * - second check the RST bit (... return) */
 670:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_RST) {
 671:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return;
 672:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 673:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* - fourth, check the SYN bit, */
 674:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_SYN) {
 675:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If an incoming segment is not acceptable, an acknowledgment
 676:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        should be sent in reply */
 677:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt, pcb->rcv_nxt + pcb->rcv_wnd)) {
 678:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If the SYN is in the window it is an error, send a reset */
 679:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_rst(ackno, seqno + tcplen, ip_current_dest_addr(),
 680:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 681:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 682:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 683:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else if (flags & TCP_FIN) {
 684:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* - eighth, check the FIN bit: Remain in the TIME-WAIT state.
 685:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          Restart the 2 MSL time-wait timeout.*/
 686:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->tmr = tcp_ticks;
 687:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 688:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 689:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((tcplen > 0)) {
 690:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Acknowledge data, FIN or out-of-window SYN */
 691:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->flags |= TF_ACK_NOW;
 692:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_output(pcb);
 693:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 694:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return;
 695:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 696:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 697:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
 698:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Implements the TCP state machine. Called by tcp_input. In some
 699:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * states tcp_receive() is called to receive data. The tcp_seg
 700:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * argument will be freed by the caller (tcp_input()) unless the
 701:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * recv_data pointer in the pcb is set.
 702:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 703:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param pcb the tcp_pcb for which a segment arrived
 704:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 705:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @note the segment which arrived is saved in global variables, therefore only the pcb
 706:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *       involved is passed as a parameter to this function
 707:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 708:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static err_t
 709:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_process(struct tcp_pcb *pcb)
 710:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 711:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *rseg;
 712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u8_t acceptable = 0;
 713:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 714:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 715:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err = ERR_OK;
 716:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 14


 717:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Process incoming RST segments. */
 718:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_RST) {
 719:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* First, determine if the reset is acceptable. */
 720:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->state == SYN_SENT) {
 721:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* "In the SYN-SENT state (a RST received in response to an initial SYN),
 722:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           the RST is acceptable if the ACK field acknowledges the SYN." */
 723:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (ackno == pcb->snd_nxt) {
 724:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         acceptable = 1;
 725:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 726:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
 727:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* "In all states except SYN-SENT, all reset (RST) segments are validated
 728:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           by checking their SEQ-fields." */
 729:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (seqno == pcb->rcv_nxt) {
 730:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         acceptable = 1;
 731:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else  if (TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt,
 732:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   pcb->rcv_nxt + pcb->rcv_wnd)) {
 733:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If the sequence number is inside the window, we only send an ACK
 734:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            and wait for a re-send with matching sequence number.
 735:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            This violates RFC 793, but is required to protection against
 736:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            CVE-2004-0230 (RST spoofing attack). */
 737:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
 738:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 739:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 740:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 741:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (acceptable) {
 742:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_process: Connection RESET\n"));
 743:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: pcb->state != CLOSED", pcb->state != CLOSED);
 744:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_flags |= TF_RESET;
 745:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->flags &= ~TF_ACK_DELAY;
 746:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return ERR_RST;
 747:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
 748:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_process: unacceptable reset seqno %"U32_F" rcv_nxt %"U32_F
 749:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        seqno, pcb->rcv_nxt));
 750:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_process: unacceptable reset seqno %"U32_F" rcv_nxt %"U32_F"\n",
 751:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        seqno, pcb->rcv_nxt));
 752:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return ERR_OK;
 753:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 754:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 755:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((flags & TCP_SYN) && (pcb->state != SYN_SENT && pcb->state != SYN_RCVD)) {
 757:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Cope with new connection attempt after remote end crashed */
 758:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_ack_now(pcb);
 759:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return ERR_OK;
 760:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 761:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 762:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((pcb->flags & TF_RXCLOSED) == 0) {
 763:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Update the PCB (in)activity timer unless rx is closed (see tcp_shutdown) */
 764:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->tmr = tcp_ticks;
 765:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 766:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   pcb->keep_cnt_sent = 0;
 767:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 768:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcp_parseopt(pcb);
 769:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 770:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Do different things depending on the TCP state. */
 771:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   switch (pcb->state) {
 772:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case SYN_SENT:
 773:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("SYN-SENT: ackno %"U32_F" pcb->snd_nxt %"U32_F" unacked %"U32_F"\
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 15


 774:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      pcb->snd_nxt, lwip_ntohl(pcb->unacked->tcphdr->seqno)));
 775:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* received SYN ACK with expected sequence number? */
 776:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if ((flags & TCP_ACK) && (flags & TCP_SYN)
 777:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         && (ackno == pcb->lastack + 1)) {
 778:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rcv_nxt = seqno + 1;
 779:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rcv_ann_right_edge = pcb->rcv_nxt;
 780:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->lastack = ackno;
 781:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = tcphdr->wnd;
 782:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd_max = pcb->snd_wnd;
 783:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl1 = seqno - 1; /* initialise to seqno - 1 to force window update */
 784:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = ESTABLISHED;
 785:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 786:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_CALCULATE_EFF_SEND_MSS
 787:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->mss = tcp_eff_send_mss(pcb->mss, &pcb->local_ip, &pcb->remote_ip);
 788:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 789:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 790:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->cwnd = LWIP_TCP_CALC_INITIAL_CWND(pcb->mss);
 791:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SENT): cwnd %"TCPWNDSIZE_F
 792:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                    " ssthresh %"TCPWNDSIZE_F"\n",
 793:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                    pcb->cwnd, pcb->ssthresh));
 794:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("pcb->snd_queuelen > 0", (pcb->snd_queuelen > 0));
 795:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       --pcb->snd_queuelen;
 796:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_process: SYN-SENT --queuelen %"TCPWNDSIZE_F"\n", (tcpwnd_si
 797:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       rseg = pcb->unacked;
 798:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (rseg == NULL) {
 799:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* might happen if tcp_output fails in tcp_rexmit_rto()
 800:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            in which case the segment is on the unsent list */
 801:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         rseg = pcb->unsent;
 802:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("no segment to free", rseg != NULL);
 803:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unsent = rseg->next;
 804:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 805:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unacked = rseg->next;
 806:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 807:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(rseg);
 808:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 809:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If there's nothing left to acknowledge, stop the retransmit
 810:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          timer, otherwise reset it to start again */
 811:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->unacked == NULL) {
 812:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = -1;
 813:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 814:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = 0;
 815:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->nrtx = 0;
 816:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 817:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 818:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Call the user specified function to call when successfully
 819:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        * connected. */
 820:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_EVENT_CONNECTED(pcb, ERR_OK, err);
 821:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (err == ERR_ABRT) {
 822:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         return ERR_ABRT;
 823:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 824:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 825:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 826:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* received ACK? possibly a half-open connection */
 827:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     else if (flags & TCP_ACK) {
 828:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* send a RST to bring the other side in a non-synchronized state. */
 829:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_rst(ackno, seqno + tcplen, ip_current_dest_addr(),
 830:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_current_src_addr(), tcphdr->dest, tcphdr->src);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 16


 831:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Resend SYN immediately (don't wait for rto timeout) to establish
 832:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         connection faster, but do not send more SYNs than we otherwise would
 833:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         have, or we might get caught in a loop on loopback interfaces. */
 834:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->nrtx < TCP_SYNMAXRTX) {
 835:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = 0;
 836:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_rexmit_rto(pcb);
 837:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 838:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 839:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 840:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case SYN_RCVD:
 841:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (flags & TCP_ACK) {
 842:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* expected ACK number? */
 843:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (TCP_SEQ_BETWEEN(ackno, pcb->lastack+1, pcb->snd_nxt)) {
 844:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = ESTABLISHED;
 845:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection established %"U16_F" -> %"U16_F".\n", inseg.tcphdr-
 846:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 847:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_CALLBACK_API
 848:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("pcb->listener->accept != NULL",
 849:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (pcb->listener == NULL) || (pcb->listener->accept != NULL));
 850:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 851:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->listener == NULL) {
 852:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* listen pcb might be closed by now */
 853:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           err = ERR_VAL;
 854:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else
 855:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG */
 856:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         {
 857:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_backlog_accepted(pcb);
 858:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Call the accept function. */
 859:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCP_EVENT_ACCEPT(pcb->listener, pcb, pcb->callback_arg, ERR_OK, err);
 860:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 861:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (err != ERR_OK) {
 862:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If the accept function returns with an error, we abort
 863:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            * the connection. */
 864:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Already aborted? */
 865:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err != ERR_ABRT) {
 866:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_abort(pcb);
 867:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 868:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return ERR_ABRT;
 869:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 870:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If there was any data contained within this ACK,
 871:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          * we'd better pass it on to the application as well. */
 872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_receive(pcb);
 873:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 874:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Prevent ACK for SYN to generate a sent event */
 875:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_acked != 0) {
 876:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_acked--;
 877:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 878:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 879:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->cwnd = LWIP_TCP_CALC_INITIAL_CWND(pcb->mss);
 880:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SYN_RCVD): cwnd %"TCPWNDSIZE_F
 881:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                      " ssthresh %"TCPWNDSIZE_F"\n",
 882:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                      pcb->cwnd, pcb->ssthresh));
 883:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 884:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_flags & TF_GOT_FIN) {
 885:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_ack_now(pcb);
 886:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = CLOSE_WAIT;
 887:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 17


 888:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 889:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* incorrect ACK number, send RST */
 890:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_rst(ackno, seqno + tcplen, ip_current_dest_addr(),
 891:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 892:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 893:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else if ((flags & TCP_SYN) && (seqno == pcb->rcv_nxt - 1)) {
 894:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Looks like another copy of the SYN - retransmit our SYN-ACK */
 895:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_rexmit(pcb);
 896:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 897:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 898:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case CLOSE_WAIT:
 899:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* FALLTHROUGH */
 900:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case ESTABLISHED:
 901:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_receive(pcb);
 902:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (recv_flags & TF_GOT_FIN) { /* passive close */
 903:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 904:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = CLOSE_WAIT;
 905:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 906:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 907:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case FIN_WAIT_1:
 908:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_receive(pcb);
 909:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (recv_flags & TF_GOT_FIN) {
 910:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((flags & TCP_ACK) && (ackno == pcb->snd_nxt) &&
 911:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unsent == NULL) {
 912:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG,
 913:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ("TCP connection closed: FIN_WAIT_1 %"U16_F" -> %"U16_F".\n", inseg.tcphdr->src, inseg.tc
 914:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
 915:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_purge(pcb);
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_RMV_ACTIVE(pcb);
 917:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 918:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_REG(&tcp_tw_pcbs, pcb);
 919:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 920:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
 921:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = CLOSING;
 922:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 923:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else if ((flags & TCP_ACK) && (ackno == pcb->snd_nxt) &&
 924:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->unsent == NULL) {
 925:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = FIN_WAIT_2;
 926:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 927:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 928:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case FIN_WAIT_2:
 929:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_receive(pcb);
 930:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (recv_flags & TF_GOT_FIN) {
 931:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: FIN_WAIT_2 %"U16_F" -> %"U16_F".\n", inseg.tc
 932:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 933:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_pcb_purge(pcb);
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_RMV_ACTIVE(pcb);
 935:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 936:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_REG(&tcp_tw_pcbs, pcb);
 937:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 938:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 939:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case CLOSING:
 940:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_receive(pcb);
 941:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if ((flags & TCP_ACK) && ackno == pcb->snd_nxt && pcb->unsent == NULL) {
 942:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: CLOSING %"U16_F" -> %"U16_F".\n", inseg.tcphd
 943:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_pcb_purge(pcb);
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_RMV_ACTIVE(pcb);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 18


 945:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 946:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_REG(&tcp_tw_pcbs, pcb);
 947:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 948:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 949:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case LAST_ACK:
 950:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_receive(pcb);
 951:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if ((flags & TCP_ACK) && ackno == pcb->snd_nxt && pcb->unsent == NULL) {
 952:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: LAST_ACK %"U16_F" -> %"U16_F".\n", inseg.tcph
 953:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* bugfix #21699: don't set pcb->state to CLOSED here or we risk leaking segments */
 954:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_flags |= TF_CLOSED;
 955:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 956:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 957:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   default:
 958:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 959:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return ERR_OK;
 961:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 962:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 963:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
 964:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
 965:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Insert segment into the list (segments covered with new one will be deleted)
 966:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 967:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called from tcp_receive()
 968:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 969:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
 970:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_oos_insert_segment(struct tcp_seg *cseg, struct tcp_seg *next)
 971:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 972:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *old_seg;
 973:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 974:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (TCPH_FLAGS(cseg->tcphdr) & TCP_FIN) {
 975:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* received segment overlaps all following segments */
 976:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_segs_free(next);
 977:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     next = NULL;
 978:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 979:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* delete some following segments
 980:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        oos queue may have segments with FIN flag */
 981:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     while (next &&
 982:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_GEQ((seqno + cseg->len),
 983:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (next->tcphdr->seqno + next->len))) {
 984:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* cseg with FIN already processed */
 985:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (TCPH_FLAGS(next->tcphdr) & TCP_FIN) {
 986:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCPH_SET_FLAG(cseg->tcphdr, TCP_FIN);
 987:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 988:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       old_seg = next;
 989:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       next = next->next;
 990:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(old_seg);
 991:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 992:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (next &&
 993:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_SEQ_GT(seqno + cseg->len, next->tcphdr->seqno)) {
 994:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We need to trim the incoming segment. */
 995:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       cseg->len = (u16_t)(next->tcphdr->seqno - seqno);
 996:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_realloc(cseg->p, cseg->len);
 997:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 998:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 999:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   cseg->next = next;
1000:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
1001:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 19


1002:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1003:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
1004:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called by tcp_process. Checks if the given segment is an ACK for outstanding
1005:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * data, and if so frees the memory of the buffered data. Next, it places the
1006:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * segment on any of the receive queues (pcb->recved or pcb->ooseq). If the segment
1007:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * is buffered, the pbuf is referenced by pbuf_ref so that it will not be freed until
1008:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * it has been removed from the buffer.
1009:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
1010:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * If the incoming segment constitutes an ACK for a segment that was used for RTT
1011:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * estimation, the RTT is estimated here as well.
1012:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
1013:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called from tcp_process().
1014:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
1015:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
1016:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_receive(struct tcp_pcb *pcb)
1017:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
1018:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *next;
1019:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
1020:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *prev, *cseg;
1021:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1022:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   s32_t off;
1023:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   s16_t m;
1024:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u32_t right_wnd_edge;
1025:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u16_t new_tot_len;
1026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   int found_dupack = 0;
1027:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS
1028:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u32_t ooseq_blen;
1029:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u16_t ooseq_qlen;
1030:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS */
1031:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1032:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_receive: wrong state", pcb->state >= ESTABLISHED);
1033:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1034:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_ACK) {
1035:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     right_wnd_edge = pcb->snd_wnd + pcb->snd_wl2;
1036:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1037:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Update window. */
1038:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_LT(pcb->snd_wl1, seqno) ||
1039:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        (pcb->snd_wl1 == seqno && TCP_SEQ_LT(pcb->snd_wl2, ackno)) ||
1040:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        (pcb->snd_wl2 == ackno && (u32_t)SND_WND_SCALE(pcb, tcphdr->wnd) > pcb->snd_wnd)) {
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = SND_WND_SCALE(pcb, tcphdr->wnd);
1042:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* keep track of the biggest window announced by the remote host to calculate
1043:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          the maximum segment size */
1044:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->snd_wnd_max < pcb->snd_wnd) {
1045:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_wnd_max = pcb->snd_wnd;
1046:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1047:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl1 = seqno;
1048:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl2 = ackno;
1049:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->snd_wnd == 0) {
1050:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->persist_backoff == 0) {
1051:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* start persist timer */
1052:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->persist_cnt = 0;
1053:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->persist_backoff = 1;
1054:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1055:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else if (pcb->persist_backoff > 0) {
1056:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* stop persist timer */
1057:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->persist_backoff = 0;
1058:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 20


1059:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_WND_DEBUG, ("tcp_receive: window update %"TCPWNDSIZE_F"\n", pcb->snd_wnd));
1060:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_WND_DEBUG
1061:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
1062:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->snd_wnd != (tcpwnd_size_t)SND_WND_SCALE(pcb, tcphdr->wnd)) {
1063:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_WND_DEBUG,
1064:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     ("tcp_receive: no window update lastack %"U32_F" ackno %"
1065:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      U32_F" wl1 %"U32_F" seqno %"U32_F" wl2 %"U32_F"\n",
1066:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      pcb->lastack, ackno, pcb->snd_wl1, seqno, pcb->snd_wl2));
1067:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1068:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_WND_DEBUG */
1069:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1070:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1071:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* (From Stevens TCP/IP Illustrated Vol II, p970.) Its only a
1072:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * duplicate ack if:
1073:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 1) It doesn't ACK new data
1074:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 2) length of received packet is zero (i.e. no payload)
1075:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 3) the advertised window hasn't changed
1076:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 4) There is outstanding unacknowledged data (retransmission timer running)
1077:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 5) The ACK is == biggest ACK sequence number so far seen (snd_una)
1078:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      *
1079:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * If it passes all five, should process as a dupack:
1080:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * a) dupacks < 3: do nothing
1081:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * b) dupacks == 3: fast retransmit
1082:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * c) dupacks > 3: increase cwnd
1083:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      *
1084:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * If it only passes 1-3, should reset dupack counter (and add to
1085:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * stats, which we don't do in lwIP)
1086:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      *
1087:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * If it only passes 1, should reset dupack counter
1088:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      *
1089:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      */
1090:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1091:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Clause 1 */
1092:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_LEQ(ackno, pcb->lastack)) {
1093:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Clause 2 */
1094:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (tcplen == 0) {
1095:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Clause 3 */
1096:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->snd_wl2 + pcb->snd_wnd == right_wnd_edge) {
1097:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Clause 4 */
1098:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->rtime >= 0) {
1099:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Clause 5 */
1100:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->lastack == ackno) {
1101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               found_dupack = 1;
1102:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
1103:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 ++pcb->dupacks;
1104:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1105:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (pcb->dupacks > 3) {
1106:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Inflate the congestion window, but not if it means that
1107:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    the value overflows. */
1108:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if ((tcpwnd_size_t)(pcb->cwnd + pcb->mss) > pcb->cwnd) {
1109:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   pcb->cwnd += pcb->mss;
1110:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1111:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               } else if (pcb->dupacks == 3) {
1112:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Do fast retransmit */
1113:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 tcp_rexmit_fast(pcb);
1114:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1115:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 21


1116:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1117:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1118:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1119:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If Clause (1) or more is true, but not a duplicate ack, reset
1120:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        * count of consecutive duplicate acks */
1121:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (!found_dupack) {
1122:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->dupacks = 0;
1123:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1124:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else if (TCP_SEQ_BETWEEN(ackno, pcb->lastack+1, pcb->snd_nxt)) {
1125:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We come here when the ACK acknowledges new data. */
1126:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1127:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Reset the "IN Fast Retransmit" flag, since we are no longer
1128:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          in fast retransmit. Also reset the congestion window to the
1129:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          slow start threshold. */
1130:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->flags & TF_INFR) {
1131:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->flags &= ~TF_INFR;
1132:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->cwnd = pcb->ssthresh;
1133:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1134:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1135:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Reset the number of retransmissions. */
1136:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->nrtx = 0;
1137:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1138:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Reset the retransmission time-out. */
1139:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rto = (pcb->sa >> 3) + pcb->sv;
1140:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1141:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Reset the fast retransmit variables. */
1142:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->dupacks = 0;
1143:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->lastack = ackno;
1144:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1145:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Update the congestion control variables (cwnd and
1146:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ssthresh). */
1147:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->state >= ESTABLISHED) {
1148:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->cwnd < pcb->ssthresh) {
1149:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if ((tcpwnd_size_t)(pcb->cwnd + pcb->mss) > pcb->cwnd) {
1150:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->cwnd += pcb->mss;
1151:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1152:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_receive: slow start cwnd %"TCPWNDSIZE_F"\n", pcb->cwnd)
1153:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
1154:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcpwnd_size_t new_cwnd = (pcb->cwnd + pcb->mss * pcb->mss / pcb->cwnd);
1155:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (new_cwnd > pcb->cwnd) {
1156:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->cwnd = new_cwnd;
1157:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1158:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_receive: congestion avoidance cwnd %"TCPWNDSIZE_F"\n", 
1159:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1160:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1161:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: ACK for %"U32_F", unacked->seqno %"U32_F":%"U32_F
1162:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     ackno,
1163:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     pcb->unacked != NULL?
1164:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     lwip_ntohl(pcb->unacked->tcphdr->seqno): 0,
1165:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     pcb->unacked != NULL?
1166:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     lwip_ntohl(pcb->unacked->tcphdr->seqno) + TCP_TCPLEN(pcb->unack
1167:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1168:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Remove segment from the unacknowledged list if the incoming
1169:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ACK acknowledges them. */
1170:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       while (pcb->unacked != NULL &&
1171:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              TCP_SEQ_LEQ(lwip_ntohl(pcb->unacked->tcphdr->seqno) +
1172:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                          TCP_TCPLEN(pcb->unacked), ackno)) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 22


1173:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: removing %"U32_F":%"U32_F" from pcb->unacked\n"
1174:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                       lwip_ntohl(pcb->unacked->tcphdr->seqno),
1175:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                       lwip_ntohl(pcb->unacked->tcphdr->seqno) +
1176:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                       TCP_TCPLEN(pcb->unacked)));
1177:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1178:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         next = pcb->unacked;
1179:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unacked = pcb->unacked->next;
1180:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1181:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_receive: queuelen %"TCPWNDSIZE_F" ... ", (tcpwnd_size_t)p
1182:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("pcb->snd_queuelen >= pbuf_clen(next->p)", (pcb->snd_queuelen >= pbuf_clen(next
1183:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1184:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_queuelen -= pbuf_clen(next->p);
1185:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         recv_acked += next->len;
1186:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_seg_free(next);
1187:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1188:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_QLEN_DEBUG, ("%"TCPWNDSIZE_F" (after freeing unacked)\n", (tcpwnd_size_t)pc
1189:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->snd_queuelen != 0) {
1190:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: valid queue length", pcb->unacked != NULL ||
1191:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->unsent != NULL);
1192:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1193:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1194:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1195:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If there's nothing left to acknowledge, stop the retransmit
1196:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          timer, otherwise reset it to start again */
1197:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->unacked == NULL) {
1198:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = -1;
1199:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
1200:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = 0;
1201:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1202:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1203:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->polltmr = 0;
1204:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1205:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_IPV6 && LWIP_ND6_TCP_REACHABILITY_HINTS
1206:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (ip_current_is_v6()) {
1207:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Inform neighbor reachability of forward progress. */
1208:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         nd6_reachability_hint(ip6_current_src_addr());
1209:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1210:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_IPV6 && LWIP_ND6_TCP_REACHABILITY_HINTS*/
1211:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
1212:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Out of sequence ACK, didn't really ack anything */
1213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_send_empty_ack(pcb);
1214:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1215:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1216:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* We go through the ->unsent list to see if any of the segments
1217:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        on the list are acknowledged by the ACK. This may seem
1218:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        strange since an "unsent" segment shouldn't be acked. The
1219:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        rationale is that lwIP puts all outstanding segments on the
1220:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        ->unsent list after a retransmission, so these segments may
1221:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        in fact have been sent once. */
1222:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     while (pcb->unsent != NULL &&
1223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_BETWEEN(ackno, lwip_ntohl(pcb->unsent->tcphdr->seqno) +
1224:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            TCP_TCPLEN(pcb->unsent), pcb->snd_nxt)) {
1225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: removing %"U32_F":%"U32_F" from pcb->unsent\n",
1226:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     lwip_ntohl(pcb->unsent->tcphdr->seqno), lwip_ntohl(pcb->unsent-
1227:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     TCP_TCPLEN(pcb->unsent)));
1228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       next = pcb->unsent;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 23


1230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->unsent = pcb->unsent->next;
1231:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OVERSIZE
1232:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->unsent == NULL) {
1233:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unsent_oversize = 0;
1234:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1235:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_OVERSIZE */
1236:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_receive: queuelen %"TCPWNDSIZE_F" ... ", (tcpwnd_size_t)pcb
1237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("pcb->snd_queuelen >= pbuf_clen(next->p)", (pcb->snd_queuelen >= pbuf_clen(next->
1238:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Prevent ACK for FIN to generate a sent event */
1239:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_queuelen -= pbuf_clen(next->p);
1240:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_acked += next->len;
1241:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(next);
1242:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_QLEN_DEBUG, ("%"TCPWNDSIZE_F" (after freeing unsent)\n", (tcpwnd_size_t)pcb->
1243:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->snd_queuelen != 0) {
1244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("tcp_receive: valid queue length",
1245:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unacked != NULL || pcb->unsent != NULL);
1246:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1247:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1248:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->snd_buf += recv_acked;
1249:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* End of ACK for new data processing. */
1250:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1251:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_receive: pcb->rttest %"U32_F" rtseq %"U32_F" ackno %"U32_F"\n"
1252:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 pcb->rttest, pcb->rtseq, ackno));
1253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1254:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* RTT estimation calculations. This is done by checking if the
1255:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        incoming segment acknowledges the segment we use to take a
1256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        round-trip time measurement. */
1257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->rttest && TCP_SEQ_LT(pcb->rtseq, ackno)) {
1258:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* diff between this shouldn't exceed 32K since this are tcp timer ticks
1259:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          and a round-trip shouldn't be that long... */
1260:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       m = (s16_t)(tcp_ticks - pcb->rttest);
1261:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1262:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_receive: experienced rtt %"U16_F" ticks (%"U16_F" msec).\n",
1263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   m, (u16_t)(m * TCP_SLOW_INTERVAL)));
1264:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1265:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* This is taken directly from VJs original code in his paper */
1266:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       m = m - (pcb->sa >> 3);
1267:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->sa += m;
1268:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (m < 0) {
1269:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         m = -m;
1270:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1271:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       m = m - (pcb->sv >> 2);
1272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->sv += m;
1273:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rto = (pcb->sa >> 3) + pcb->sv;
1274:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1275:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_receive: RTO %"U16_F" (%"U16_F" milliseconds)\n",
1276:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   pcb->rto, (u16_t)(pcb->rto * TCP_SLOW_INTERVAL)));
1277:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1278:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rttest = 0;
1279:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1280:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1281:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1282:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* If the incoming segment contains data, we must process it
1283:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      further unless the pcb already received a FIN.
1284:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      (RFC 793, chapter 3.9, "SEGMENT ARRIVES" in states CLOSE-WAIT, CLOSING,
1285:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      LAST-ACK and TIME-WAIT: "Ignore the segment text.") */
1286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((tcplen > 0) && (pcb->state < CLOSE_WAIT)) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 24


1287:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* This code basically does three things:
1288:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1289:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     +) If the incoming segment contains data that is the next
1290:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     in-sequence data, this data is passed to the application. This
1291:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     might involve trimming the first edge of the data. The rcv_nxt
1292:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     variable and the advertised window are adjusted.
1293:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1294:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     +) If the incoming segment has data that is above the next
1295:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     sequence number expected (->rcv_nxt), the segment is placed on
1296:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     the ->ooseq queue. This is done by finding the appropriate
1297:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     place in the ->ooseq queue (which is ordered by sequence
1298:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     number) and trim the segment in both ends if needed. An
1299:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     immediate ACK is sent to indicate that we received an
1300:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     out-of-sequence segment.
1301:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1302:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     +) Finally, we check if the first segment on the ->ooseq queue
1303:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     now is in sequence (i.e., if rcv_nxt >= ooseq->seqno). If
1304:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     rcv_nxt > ooseq->seqno, we must trim the first edge of the
1305:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     segment on ->ooseq before we adjust rcv_nxt. The data in the
1306:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     segments that are now on sequence are chained onto the
1307:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     incoming segment so that we only need to call the application
1308:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     once.
1309:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     */
1310:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1311:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* First, we check if we must trim the first edge. We have to do
1312:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        this if the sequence number of the incoming segment is less
1313:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        than rcv_nxt, and the sequence number plus the length of the
1314:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        segment is larger than rcv_nxt. */
1315:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /*    if (TCP_SEQ_LT(seqno, pcb->rcv_nxt)) {
1316:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCP_SEQ_LT(pcb->rcv_nxt, seqno + tcplen)) {*/
1317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_BETWEEN(pcb->rcv_nxt, seqno + 1, seqno + tcplen - 1)) {
1318:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Trimming the first edge is done by pushing the payload
1319:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          pointer in the pbuf downwards. This is somewhat tricky since
1320:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          we do not want to discard the full contents of the pbuf up to
1321:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          the new starting point of the data since we have to keep the
1322:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          TCP header which is present in the first pbuf in the chain.
1323:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1324:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          What is done is really quite a nasty hack: the first pbuf in
1325:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          the pbuf chain is pointed to by inseg.p. Since we need to be
1326:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          able to deallocate the whole pbuf, we cannot change this
1327:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          inseg.p pointer to point to any of the later pbufs in the
1328:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          chain. Instead, we point the ->payload pointer in the first
1329:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          pbuf to data in one of the later pbufs. We also set the
1330:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          inseg.data pointer to point to the right place. This way, the
1331:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ->p pointer will still point to the first pbuf, but the
1332:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ->p->payload pointer will point to data in another pbuf.
1333:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1334:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          After we are done with adjusting the pbuf pointers we must
1335:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          adjust the ->data pointer in the seg and the segment
1336:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          length.*/
1337:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1338:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       struct pbuf *p = inseg.p;
1339:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       off = pcb->rcv_nxt - seqno;
1340:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("inseg.p != NULL", inseg.p);
1341:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("insane offset!", (off < 0x7fff));
1342:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (inseg.p->len < off) {
1343:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("pbuf too short!", (((s32_t)inseg.p->tot_len) >= off));
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 25


1344:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         new_tot_len = (u16_t)(inseg.p->tot_len - off);
1345:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         while (p->len < off) {
1346:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           off -= p->len;
1347:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* KJM following line changed (with addition of new_tot_len var)
1348:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              to fix bug #9076
1349:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              inseg.p->tot_len -= p->len; */
1350:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           p->tot_len = new_tot_len;
1351:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           p->len = 0;
1352:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           p = p->next;
1353:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1354:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pbuf_header(p, (s16_t)-off)) {
1355:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Do we need to cope with this failing?  Assert for now */
1356:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("pbuf_header failed", 0);
1357:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1358:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
1359:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pbuf_header(inseg.p, (s16_t)-off)) {
1360:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Do we need to cope with this failing?  Assert for now */
1361:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("pbuf_header failed", 0);
1362:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1363:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1364:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.len -= (u16_t)(pcb->rcv_nxt - seqno);
1365:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.tcphdr->seqno = seqno = pcb->rcv_nxt;
1366:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1367:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     else {
1368:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (TCP_SEQ_LT(seqno, pcb->rcv_nxt)) {
1369:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* the whole segment is < rcv_nxt */
1370:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* must be a duplicate of a packet that has already been correctly handled */
1371:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1372:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: duplicate seqno %"U32_F"\n", seqno));
1373:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
1374:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1375:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1376:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1377:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The sequence number must be within the window (above rcv_nxt
1378:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        and below rcv_nxt + rcv_wnd) in order to be further
1379:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        processed. */
1380:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt,
1381:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         pcb->rcv_nxt + pcb->rcv_wnd - 1)) {
1382:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->rcv_nxt == seqno) {
1383:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* The incoming segment is the next in sequence. We check if
1384:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            we have to trim the end of the segment and update rcv_nxt
1385:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            and pass the data to the application. */
1386:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcplen = TCP_TCPLEN(&inseg);
1387:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1388:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcplen > pcb->rcv_wnd) {
1389:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG,
1390:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       ("tcp_receive: other end overran receive window"
1391:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                        "seqno %"U32_F" len %"U16_F" right edge %"U32_F"\n",
1392:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                        seqno, tcplen, pcb->rcv_nxt + pcb->rcv_wnd));
1393:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_FIN) {
1394:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Must remove the FIN from the header as we're trimming
1395:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * that byte of sequence-space from the packet */
1396:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             TCPH_FLAGS_SET(inseg.tcphdr, TCPH_FLAGS(inseg.tcphdr) & ~(unsigned int)TCP_FIN);
1397:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1398:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Adjust length of segment to fit in the window. */
1399:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCPWND_CHECK16(pcb->rcv_wnd);
1400:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           inseg.len = (u16_t)pcb->rcv_wnd;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 26


1401:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) {
1402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             inseg.len -= 1;
1403:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1404:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pbuf_realloc(inseg.p, inseg.len);
1405:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcplen = TCP_TCPLEN(&inseg);
1406:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
1407:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
1408:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1409:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
1410:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Received in-sequence data, adjust ooseq data if:
1411:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            - FIN has been received or
1412:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            - inseq overlaps with ooseq */
1413:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->ooseq != NULL) {
1414:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_FIN) {
1415:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG,
1416:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         ("tcp_receive: received in-order FIN, binning ooseq queue\n"));
1417:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Received in-order FIN means anything that was received
1418:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * out of order must now have been received in-order, so
1419:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * bin the ooseq queue */
1420:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             while (pcb->ooseq != NULL) {
1421:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               struct tcp_seg *old_ooseq = pcb->ooseq;
1422:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->ooseq = pcb->ooseq->next;
1423:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(old_ooseq);
1424:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1425:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else {
1426:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             next = pcb->ooseq;
1427:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Remove all segments on ooseq that are covered by inseg already.
1428:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * FIN is copied from ooseq to inseg if present. */
1429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             while (next &&
1430:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    TCP_SEQ_GEQ(seqno + tcplen,
1431:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                next->tcphdr->seqno + next->len)) {
1432:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* inseg cannot have FIN here (already processed above) */
1433:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((TCPH_FLAGS(next->tcphdr) & TCP_FIN) != 0 &&
1434:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) == 0) {
1435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCPH_SET_FLAG(inseg.tcphdr, TCP_FIN);
1436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 tcplen = TCP_TCPLEN(&inseg);
1437:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1438:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               prev = next;
1439:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               next = next->next;
1440:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(prev);
1441:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1442:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Now trim right side of inseg if it overlaps with the first
1443:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * segment on ooseq */
1444:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (next &&
1445:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCP_SEQ_GT(seqno + tcplen,
1446:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            next->tcphdr->seqno)) {
1447:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* inseg cannot have FIN here (already processed above) */
1448:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               inseg.len = (u16_t)(next->tcphdr->seqno - seqno);
1449:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) {
1450:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 inseg.len -= 1;
1451:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1452:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_realloc(inseg.p, inseg.len);
1453:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcplen = TCP_TCPLEN(&inseg);
1454:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               LWIP_ASSERT("tcp_receive: segment not trimmed correctly to ooseq queue\n",
1455:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                           (seqno + tcplen) == next->tcphdr->seqno);
1456:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1457:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->ooseq = next;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 27


1458:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1459:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1460:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1461:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1462:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_nxt = seqno + tcplen;
1463:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1464:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Update the receiver's (our) window. */
1465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("tcp_receive: tcplen > rcv_wnd\n", pcb->rcv_wnd >= tcplen);
1466:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_wnd -= tcplen;
1467:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_update_rcv_ann_wnd(pcb);
1469:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1470:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If there is data in the segment, we make preparations to
1471:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            pass this up to the application. The ->recv_data variable
1472:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            is used for holding the pbuf that goes to the
1473:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            application. The code for reassembling out-of-sequence data
1474:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            chains its data on this pbuf as well.
1475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1476:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            If the segment was a FIN, we set the TF_GOT_FIN flag that will
1477:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            be used to indicate to the application that the remote side has
1478:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            closed its end of the connection. */
1479:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (inseg.p->tot_len > 0) {
1480:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_data = inseg.p;
1481:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Since this pbuf now is the responsibility of the
1482:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              application, we delete our reference to it so that we won't
1483:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              (mistakingly) deallocate it. */
1484:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           inseg.p = NULL;
1485:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1486:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (TCPH_FLAGS(inseg.tcphdr) & TCP_FIN) {
1487:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: received FIN.\n"));
1488:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_flags |= TF_GOT_FIN;
1489:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1490:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1491:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
1492:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We now check if we have segments on the ->ooseq queue that
1493:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            are now in sequence. */
1494:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         while (pcb->ooseq != NULL &&
1495:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->ooseq->tcphdr->seqno == pcb->rcv_nxt) {
1496:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1497:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           cseg = pcb->ooseq;
1498:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           seqno = pcb->ooseq->tcphdr->seqno;
1499:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rcv_nxt += TCP_TCPLEN(cseg);
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: ooseq tcplen > rcv_wnd\n",
1502:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
1503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rcv_wnd -= TCP_TCPLEN(cseg);
1504:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1505:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_update_rcv_ann_wnd(pcb);
1506:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1507:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (cseg->p->tot_len > 0) {
1508:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Chain this pbuf onto the pbuf that we will pass to
1509:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                the application. */
1510:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* With window scaling, this can overflow recv_data->tot_len, but
1511:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                that's not a problem since we explicitly fix that before passing
1512:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                recv_data to the application. */
1513:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (recv_data) {
1514:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_cat(recv_data, cseg->p);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 28


1515:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             } else {
1516:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               recv_data = cseg->p;
1517:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1518:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             cseg->p = NULL;
1519:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1520:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(cseg->tcphdr) & TCP_FIN) {
1521:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: dequeued FIN.\n"));
1522:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             recv_flags |= TF_GOT_FIN;
1523:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->state == ESTABLISHED) { /* force passive close or we can move to active close 
1524:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->state = CLOSE_WAIT;
1525:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1526:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1527:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1528:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ooseq = cseg->next;
1529:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_seg_free(cseg);
1530:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1531:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1532:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1533:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1534:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Acknowledge the segment(s). */
1535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack(pcb);
1536:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1537:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_IPV6 && LWIP_ND6_TCP_REACHABILITY_HINTS
1538:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (ip_current_is_v6()) {
1539:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Inform neighbor reachability of forward progress. */
1540:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           nd6_reachability_hint(ip6_current_src_addr());
1541:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1542:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_IPV6 && LWIP_ND6_TCP_REACHABILITY_HINTS*/
1543:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1544:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
1545:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We get here if the incoming segment is out-of-sequence. */
1546:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_send_empty_ack(pcb);
1547:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
1548:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We queue the segment on the ->ooseq queue. */
1549:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->ooseq == NULL) {
1550:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ooseq = tcp_seg_copy(&inseg);
1551:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
1552:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If the queue is not empty, we walk through the queue and
1553:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              try to find a place where the sequence number of the
1554:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              incoming segment is between the sequence numbers of the
1555:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              previous and the next segment on the ->ooseq queue. That is
1556:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              the place where we put the incoming segment. If needed, we
1557:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              trim the second edges of the previous and the incoming
1558:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              segment so that it will fit into the sequence.
1559:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1560:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              If the incoming segment has the same sequence number as a
1561:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              segment on the ->ooseq queue, we discard the segment that
1562:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              contains less data. */
1563:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1564:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           prev = NULL;
1565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           for (next = pcb->ooseq; next != NULL; next = next->next) {
1566:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (seqno == next->tcphdr->seqno) {
1567:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* The sequence number of the incoming segment is the
1568:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  same as the sequence number of the segment on
1569:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  ->ooseq. We check the lengths to see which one to
1570:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  discard. */
1571:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (inseg.len > next->len) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 29


1572:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* The incoming segment is larger than the old
1573:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    segment. We replace some segments with the new
1574:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    one. */
1575:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 cseg = tcp_seg_copy(&inseg);
1576:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (cseg != NULL) {
1577:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (prev != NULL) {
1578:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     prev->next = cseg;
1579:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   } else {
1580:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pcb->ooseq = cseg;
1581:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1582:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   tcp_oos_insert_segment(cseg, next);
1583:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1584:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 break;
1585:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               } else {
1586:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Either the lengths are the same or the incoming
1587:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    segment was smaller than the old one; in either
1588:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    case, we ditch the incoming segment. */
1589:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 break;
1590:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1591:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             } else {
1592:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (prev == NULL) {
1593:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCP_SEQ_LT(seqno, next->tcphdr->seqno)) {
1594:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is lower
1595:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      than the sequence number of the first segment on the
1596:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      queue. We put the incoming segment first on the
1597:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      queue. */
1598:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   cseg = tcp_seg_copy(&inseg);
1599:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (cseg != NULL) {
1600:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pcb->ooseq = cseg;
1601:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcp_oos_insert_segment(cseg, next);
1602:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1603:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   break;
1604:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1605:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               } else {
1606:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /*if (TCP_SEQ_LT(prev->tcphdr->seqno, seqno) &&
1607:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   TCP_SEQ_LT(seqno, next->tcphdr->seqno)) {*/
1608:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCP_SEQ_BETWEEN(seqno, prev->tcphdr->seqno+1, next->tcphdr->seqno-1)) {
1609:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is in
1610:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      between the sequence numbers of the previous and
1611:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      the next segment on ->ooseq. We trim trim the previous
1612:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      segment, delete next segments that included in received segment
1613:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      and trim received, if needed. */
1614:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   cseg = tcp_seg_copy(&inseg);
1615:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (cseg != NULL) {
1616:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     if (TCP_SEQ_GT(prev->tcphdr->seqno + prev->len, seqno)) {
1617:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       /* We need to trim the prev segment. */
1618:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       prev->len = (u16_t)(seqno - prev->tcphdr->seqno);
1619:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pbuf_realloc(prev->p, prev->len);
1620:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     }
1621:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     prev->next = cseg;
1622:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcp_oos_insert_segment(cseg, next);
1623:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1624:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   break;
1625:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1626:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1627:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* If the "next" segment is the last segment on the
1628:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  ooseq queue, we add the incoming segment to the end
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 30


1629:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  of the list. */
1630:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (next->next == NULL &&
1631:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   TCP_SEQ_GT(seqno, next->tcphdr->seqno)) {
1632:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCPH_FLAGS(next->tcphdr) & TCP_FIN) {
1633:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* segment "next" already contains all data */
1634:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   break;
1635:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1636:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 next->next = tcp_seg_copy(&inseg);
1637:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (next->next != NULL) {
1638:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (TCP_SEQ_GT(next->tcphdr->seqno + next->len, seqno)) {
1639:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     /* We need to trim the last segment. */
1640:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     next->len = (u16_t)(seqno - next->tcphdr->seqno);
1641:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pbuf_realloc(next->p, next->len);
1642:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1643:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* check if the remote side overruns our receive window */
1644:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (TCP_SEQ_GT((u32_t)tcplen + seqno, pcb->rcv_nxt + (u32_t)pcb->rcv_wnd)) {
1645:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_DEBUGF(TCP_INPUT_DEBUG,
1646:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 ("tcp_receive: other end overran receive window"
1647:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                  "seqno %"U32_F" len %"U16_F" right edge %"U32_F"\n",
1648:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                  seqno, tcplen, pcb->rcv_nxt + pcb->rcv_wnd));
1649:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     if (TCPH_FLAGS(next->next->tcphdr) & TCP_FIN) {
1650:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       /* Must remove the FIN from the header as we're trimming
1651:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                        * that byte of sequence-space from the packet */
1652:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       TCPH_FLAGS_SET(next->next->tcphdr, TCPH_FLAGS(next->next->tcphdr) & ~TCP_FIN)
1653:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     }
1654:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     /* Adjust length of segment to fit in the window. */
1655:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     next->next->len = (u16_t)(pcb->rcv_nxt + pcb->rcv_wnd - seqno);
1656:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pbuf_realloc(next->next->p, next->next->len);
1657:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcplen = TCP_TCPLEN(next->next);
1658:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
1659:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
1660:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1661:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1662:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 break;
1663:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1664:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1665:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             prev = next;
1666:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1667:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1668:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS
1669:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Check that the data on ooseq doesn't exceed one of the limits
1670:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            and throw away everything above that limit. */
1671:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ooseq_blen = 0;
1672:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ooseq_qlen = 0;
1673:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         prev = NULL;
1674:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         for (next = pcb->ooseq; next != NULL; prev = next, next = next->next) {
1675:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           struct pbuf *p = next->p;
1676:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ooseq_blen += p->tot_len;
1677:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ooseq_qlen += pbuf_clen(p);
1678:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if ((ooseq_blen > TCP_OOSEQ_MAX_BYTES) ||
1679:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               (ooseq_qlen > TCP_OOSEQ_MAX_PBUFS)) {
1680:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              /* too much ooseq data, dump this and everything after it */
1681:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              tcp_segs_free(next);
1682:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              if (prev == NULL) {
1683:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                /* first ooseq segment is too much, dump the whole queue */
1684:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->ooseq = NULL;
1685:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              } else {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 31


1686:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                /* just dump 'next' and everything after it */
1687:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                prev->next = NULL;
1688:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              }
1689:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              break;
1690:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1691:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1692:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS */
1693:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1694:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1695:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
1696:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* The incoming segment is not within the window. */
1697:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_send_empty_ack(pcb);
1698:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1699:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
1700:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Segments with length 0 is taken care of here. Segments that
1701:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        fall out of the window are ACKed. */
1702:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (!TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt, pcb->rcv_nxt + pcb->rcv_wnd - 1)) {
1703:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
1704:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1705:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1706:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
1707:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1708:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u8_t
1709:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_getoptbyte(void)
1710:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
  27              		.loc 1 1710 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
1711:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((tcphdr_opt2 == NULL) || (tcp_optidx < tcphdr_opt1len)) {
  32              		.loc 1 1711 0
  33 0000 0E4B     		ldr	r3, .L8
  34 0002 1968     		ldr	r1, [r3]
  35 0004 89B1     		cbz	r1, .L2
  36              		.loc 1 1711 0 is_stmt 0 discriminator 1
  37 0006 0E4B     		ldr	r3, .L8+4
  38 0008 1B88     		ldrh	r3, [r3]
  39 000a 0E4A     		ldr	r2, .L8+8
  40 000c 1288     		ldrh	r2, [r2]
  41 000e 9342     		cmp	r3, r2
  42 0010 0BD3     		bcc	.L2
1710:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((tcphdr_opt2 == NULL) || (tcp_optidx < tcphdr_opt1len)) {
  43              		.loc 1 1710 0 is_stmt 1
  44 0012 10B4     		push	{r4}
  45              	.LCFI0:
  46              		.cfi_def_cfa_offset 4
  47              		.cfi_offset 4, -4
  48              	.LBB2:
1712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     u8_t* opts = (u8_t *)tcphdr + TCP_HLEN;
1713:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return opts[tcp_optidx++];
1714:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
1715:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     u8_t idx = (u8_t)(tcp_optidx++ - tcphdr_opt1len);
  49              		.loc 1 1715 0
  50 0014 5C1C     		adds	r4, r3, #1
  51 0016 0A48     		ldr	r0, .L8+4
  52 0018 0480     		strh	r4, [r0]	@ movhi
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 32


  53 001a DBB2     		uxtb	r3, r3
  54 001c D2B2     		uxtb	r2, r2
  55 001e 9B1A     		subs	r3, r3, r2
  56 0020 DBB2     		uxtb	r3, r3
  57              	.LVL0:
1716:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return tcphdr_opt2[idx];
  58              		.loc 1 1716 0
  59 0022 C85C     		ldrb	r0, [r1, r3]	@ zero_extendqisi2
  60              	.LBE2:
1717:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1718:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
  61              		.loc 1 1718 0
  62 0024 5DF8044B 		ldr	r4, [sp], #4
  63              	.LCFI1:
  64              		.cfi_restore 4
  65              		.cfi_def_cfa_offset 0
  66 0028 7047     		bx	lr
  67              	.LVL1:
  68              	.L2:
  69              	.LBB3:
1712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return opts[tcp_optidx++];
  70              		.loc 1 1712 0
  71 002a 074B     		ldr	r3, .L8+12
  72 002c 1B68     		ldr	r3, [r3]
  73              	.LVL2:
1713:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
  74              		.loc 1 1713 0
  75 002e 0449     		ldr	r1, .L8+4
  76 0030 0A88     		ldrh	r2, [r1]
  77 0032 501C     		adds	r0, r2, #1
  78 0034 0880     		strh	r0, [r1]	@ movhi
  79 0036 1344     		add	r3, r3, r2
  80              	.LVL3:
  81 0038 187D     		ldrb	r0, [r3, #20]	@ zero_extendqisi2
  82 003a 7047     		bx	lr
  83              	.L9:
  84              		.align	2
  85              	.L8:
  86 003c 00000000 		.word	.LANCHOR0
  87 0040 00000000 		.word	.LANCHOR1
  88 0044 00000000 		.word	.LANCHOR2
  89 0048 00000000 		.word	.LANCHOR3
  90              	.LBE3:
  91              		.cfi_endproc
  92              	.LFE159:
  94              		.section	.text.tcp_parseopt,"ax",%progbits
  95              		.align	1
  96              		.syntax unified
  97              		.thumb
  98              		.thumb_func
  99              		.fpu fpv5-sp-d16
 101              	tcp_parseopt:
 102              	.LFB160:
1719:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1720:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
1721:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Parses the options contained in the incoming segment.
1722:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 33


1723:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called from tcp_listen_input() and tcp_process().
1724:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Currently, only the MSS option is supported!
1725:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
1726:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param pcb the tcp_pcb for which a segment arrived
1727:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
1728:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
1729:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_parseopt(struct tcp_pcb *pcb)
1730:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 103              		.loc 1 1730 0
 104              		.cfi_startproc
 105              		@ args = 0, pretend = 0, frame = 0
 106              		@ frame_needed = 0, uses_anonymous_args = 0
 107              	.LVL4:
 108 0000 38B5     		push	{r3, r4, r5, lr}
 109              	.LCFI2:
 110              		.cfi_def_cfa_offset 16
 111              		.cfi_offset 3, -16
 112              		.cfi_offset 4, -12
 113              		.cfi_offset 5, -8
 114              		.cfi_offset 14, -4
1731:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u8_t data;
1732:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u16_t mss;
1733:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_TIMESTAMPS
1734:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u32_t tsval;
1735:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
1736:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1737:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Parse the TCP MSS option, if present. */
1738:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (tcphdr_optlen != 0) {
 115              		.loc 1 1738 0
 116 0002 1F4B     		ldr	r3, .L22
 117 0004 1B88     		ldrh	r3, [r3]
 118 0006 002B     		cmp	r3, #0
 119 0008 38D0     		beq	.L10
 120 000a 0546     		mov	r5, r0
1739:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     for (tcp_optidx = 0; tcp_optidx < tcphdr_optlen; ) {
 121              		.loc 1 1739 0
 122 000c 0022     		movs	r2, #0
 123 000e 1D4B     		ldr	r3, .L22+4
 124 0010 1A80     		strh	r2, [r3]	@ movhi
 125              	.LVL5:
 126              	.L14:
 127              		.loc 1 1739 0 is_stmt 0 discriminator 1
 128 0012 1C4B     		ldr	r3, .L22+4
 129 0014 1A88     		ldrh	r2, [r3]
 130 0016 1A4B     		ldr	r3, .L22
 131 0018 1B88     		ldrh	r3, [r3]
 132 001a 9A42     		cmp	r2, r3
 133 001c 2ED2     		bcs	.L10
 134              	.LBB4:
1740:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       u8_t opt = tcp_getoptbyte();
 135              		.loc 1 1740 0 is_stmt 1
 136 001e FFF7FEFF 		bl	tcp_getoptbyte
 137              	.LVL6:
1741:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       switch (opt) {
 138              		.loc 1 1741 0
 139 0022 0128     		cmp	r0, #1
 140 0024 F5D0     		beq	.L14
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 34


 141 0026 48B3     		cbz	r0, .L10
 142 0028 0228     		cmp	r0, #2
 143 002a 1DD1     		bne	.L20
1742:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       case LWIP_TCP_OPT_EOL:
1743:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* End of options. */
1744:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: EOL\n"));
1745:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         return;
1746:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       case LWIP_TCP_OPT_NOP:
1747:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* NOP option. */
1748:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: NOP\n"));
1749:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         break;
1750:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       case LWIP_TCP_OPT_MSS:
1751:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: MSS\n"));
1752:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_getoptbyte() != LWIP_TCP_OPT_LEN_MSS || (tcp_optidx - 2 + LWIP_TCP_OPT_LEN_MSS) > t
 144              		.loc 1 1752 0
 145 002c FFF7FEFF 		bl	tcp_getoptbyte
 146              	.LVL7:
 147 0030 0428     		cmp	r0, #4
 148 0032 23D1     		bne	.L10
 149              		.loc 1 1752 0 is_stmt 0 discriminator 1
 150 0034 134B     		ldr	r3, .L22+4
 151 0036 1B88     		ldrh	r3, [r3]
 152 0038 0233     		adds	r3, r3, #2
 153 003a 114A     		ldr	r2, .L22
 154 003c 1288     		ldrh	r2, [r2]
 155 003e 9342     		cmp	r3, r2
 156 0040 1CDC     		bgt	.L10
1753:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Bad length */
1754:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
1755:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return;
1756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1757:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* An MSS option with the right option length. */
1758:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         mss = (tcp_getoptbyte() << 8);
 157              		.loc 1 1758 0 is_stmt 1
 158 0042 FFF7FEFF 		bl	tcp_getoptbyte
 159              	.LVL8:
 160 0046 83B2     		uxth	r3, r0
 161 0048 1B02     		lsls	r3, r3, #8
 162 004a 9CB2     		uxth	r4, r3
 163              	.LVL9:
1759:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         mss |= tcp_getoptbyte();
 164              		.loc 1 1759 0
 165 004c FFF7FEFF 		bl	tcp_getoptbyte
 166              	.LVL10:
 167 0050 80B2     		uxth	r0, r0
 168 0052 44EA0003 		orr	r3, r4, r0
 169              	.LVL11:
1760:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Limit the mss to the configured TCP_MSS and prevent division by zero */
1761:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->mss = ((mss > TCP_MSS) || (mss == 0)) ? TCP_MSS : mss;
 170              		.loc 1 1761 0
 171 0056 5A1E     		subs	r2, r3, #1
 172 0058 92B2     		uxth	r2, r2
 173 005a B2F5067F 		cmp	r2, #536
 174 005e 01D3     		bcc	.L16
 175 0060 4FF40673 		mov	r3, #536
 176              	.LVL12:
 177              	.L16:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 35


 178              		.loc 1 1761 0 is_stmt 0 discriminator 4
 179 0064 6B86     		strh	r3, [r5, #50]	@ movhi
1762:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         break;
 180              		.loc 1 1762 0 is_stmt 1 discriminator 4
 181 0066 D4E7     		b	.L14
 182              	.LVL13:
 183              	.L20:
1763:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_WND_SCALE
1764:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       case LWIP_TCP_OPT_WS:
1765:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: WND_SCALE\n"));
1766:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_getoptbyte() != LWIP_TCP_OPT_LEN_WS || (tcp_optidx - 2 + LWIP_TCP_OPT_LEN_WS) > tcp
1767:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Bad length */
1768:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
1769:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return;
1770:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1771:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* An WND_SCALE option with the right option length. */
1772:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         data = tcp_getoptbyte();
1773:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If syn was received with wnd scale option,
1774:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            activate wnd scale opt, but only if this is not a retransmission */
1775:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if ((flags & TCP_SYN) && !(pcb->flags & TF_WND_SCALE)) {
1776:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->snd_scale = data;
1777:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->snd_scale > 14U) {
1778:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->snd_scale = 14U;
1779:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1780:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rcv_scale = TCP_RCV_SCALE;
1781:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->flags |= TF_WND_SCALE;
1782:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* window scaling is enabled, we can use the full receive window */
1783:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("window not at default value", pcb->rcv_wnd == TCPWND_MIN16(TCP_WND));
1784:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("window not at default value", pcb->rcv_ann_wnd == TCPWND_MIN16(TCP_WND));
1785:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rcv_wnd = pcb->rcv_ann_wnd = TCP_WND;
1786:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1787:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         break;
1788:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
1789:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_TIMESTAMPS
1790:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       case LWIP_TCP_OPT_TS:
1791:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: TS\n"));
1792:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_getoptbyte() != LWIP_TCP_OPT_LEN_TS || (tcp_optidx - 2 + LWIP_TCP_OPT_LEN_TS) > tcp
1793:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Bad length */
1794:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
1795:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return;
1796:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1797:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* TCP timestamp option with valid length */
1798:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tsval = tcp_getoptbyte();
1799:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tsval |= (tcp_getoptbyte() << 8);
1800:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tsval |= (tcp_getoptbyte() << 16);
1801:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tsval |= (tcp_getoptbyte() << 24);
1802:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (flags & TCP_SYN) {
1803:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ts_recent = lwip_ntohl(tsval);
1804:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Enable sending timestamps in every segment now that we know
1805:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              the remote host supports it. */
1806:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->flags |= TF_TIMESTAMP;
1807:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else if (TCP_SEQ_BETWEEN(pcb->ts_lastacksent, seqno, seqno+tcplen)) {
1808:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ts_recent = lwip_ntohl(tsval);
1809:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1810:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Advance to next option (6 bytes already read) */
1811:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_optidx += LWIP_TCP_OPT_LEN_TS - 6;
1812:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         break;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 36


1813:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
1814:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       default:
1815:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: other\n"));
1816:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         data = tcp_getoptbyte();
 184              		.loc 1 1816 0
 185 0068 FFF7FEFF 		bl	tcp_getoptbyte
 186              	.LVL14:
1817:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (data < 2) {
 187              		.loc 1 1817 0
 188 006c 0128     		cmp	r0, #1
 189 006e 05D9     		bls	.L10
1818:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
1819:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If the length field is zero, the options are malformed
1820:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              and we don't process them further. */
1821:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return;
1822:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1823:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* All other options have a length field, so that we easily
1824:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            can skip past them. */
1825:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_optidx += data - 2;
 190              		.loc 1 1825 0
 191 0070 044B     		ldr	r3, .L22+4
 192 0072 1A88     		ldrh	r2, [r3]
 193 0074 1044     		add	r0, r0, r2
 194              	.LVL15:
 195 0076 0238     		subs	r0, r0, #2
 196 0078 1880     		strh	r0, [r3]	@ movhi
 197 007a CAE7     		b	.L14
 198              	.LVL16:
 199              	.L10:
 200 007c 38BD     		pop	{r3, r4, r5, pc}
 201              	.L23:
 202 007e 00BF     		.align	2
 203              	.L22:
 204 0080 00000000 		.word	.LANCHOR4
 205 0084 00000000 		.word	.LANCHOR1
 206              	.LBE4:
 207              		.cfi_endproc
 208              	.LFE160:
 210              		.section	.text.tcp_input_delayed_close,"ax",%progbits
 211              		.align	1
 212              		.syntax unified
 213              		.thumb
 214              		.thumb_func
 215              		.fpu fpv5-sp-d16
 217              	tcp_input_delayed_close:
 218              	.LFB153:
 537:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (recv_flags & TF_CLOSED) {
 219              		.loc 1 537 0
 220              		.cfi_startproc
 221              		@ args = 0, pretend = 0, frame = 0
 222              		@ frame_needed = 0, uses_anonymous_args = 0
 223              	.LVL17:
 538:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The connection has been closed and we will deallocate the
 224              		.loc 1 538 0
 225 0000 0E4B     		ldr	r3, .L32
 226 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 227 0004 13F0100F 		tst	r3, #16
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 37


 228 0008 16D0     		beq	.L27
 537:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (recv_flags & TF_CLOSED) {
 229              		.loc 1 537 0
 230 000a 10B5     		push	{r4, lr}
 231              	.LCFI3:
 232              		.cfi_def_cfa_offset 8
 233              		.cfi_offset 4, -8
 234              		.cfi_offset 14, -4
 235 000c 0446     		mov	r4, r0
 541:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Connection closed although the application has only shut down the
 236              		.loc 1 541 0
 237 000e 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 238 0010 13F0100F 		tst	r3, #16
 239 0014 06D1     		bne	.L26
 545:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 240              		.loc 1 545 0
 241 0016 D0F88C30 		ldr	r3, [r0, #140]
 242 001a 1BB1     		cbz	r3, .L26
 545:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 243              		.loc 1 545 0 is_stmt 0 discriminator 1
 244 001c 6FF00E01 		mvn	r1, #14
 245 0020 0069     		ldr	r0, [r0, #16]
 246              	.LVL18:
 247 0022 9847     		blx	r3
 248              	.LVL19:
 249              	.L26:
 547:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     memp_free(MEMP_TCP_PCB, pcb);
 250              		.loc 1 547 0 is_stmt 1
 251 0024 2146     		mov	r1, r4
 252 0026 0648     		ldr	r0, .L32+4
 253 0028 FFF7FEFF 		bl	tcp_pcb_remove
 254              	.LVL20:
 548:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return 1;
 255              		.loc 1 548 0
 256 002c 2146     		mov	r1, r4
 257 002e 0120     		movs	r0, #1
 258 0030 FFF7FEFF 		bl	memp_free
 259              	.LVL21:
 549:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 260              		.loc 1 549 0
 261 0034 0120     		movs	r0, #1
 262 0036 10BD     		pop	{r4, pc}
 263              	.LVL22:
 264              	.L27:
 265              	.LCFI4:
 266              		.cfi_def_cfa_offset 0
 267              		.cfi_restore 4
 268              		.cfi_restore 14
 551:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 269              		.loc 1 551 0
 270 0038 0020     		movs	r0, #0
 271              	.LVL23:
 272 003a 7047     		bx	lr
 273              	.L33:
 274              		.align	2
 275              	.L32:
 276 003c 00000000 		.word	.LANCHOR5
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 38


 277 0040 00000000 		.word	tcp_active_pcbs
 278              		.cfi_endproc
 279              	.LFE153:
 281              		.section	.text.tcp_timewait_input,"ax",%progbits
 282              		.align	1
 283              		.syntax unified
 284              		.thumb
 285              		.thumb_func
 286              		.fpu fpv5-sp-d16
 288              	tcp_timewait_input:
 289              	.LFB155:
 664:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* RFC 1337: in TIME_WAIT, ignore RST and ACK FINs + any 'acceptable' segments */
 290              		.loc 1 664 0
 291              		.cfi_startproc
 292              		@ args = 0, pretend = 0, frame = 0
 293              		@ frame_needed = 0, uses_anonymous_args = 0
 294              	.LVL24:
 670:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return;
 295              		.loc 1 670 0
 296 0000 1C4B     		ldr	r3, .L42
 297 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 298 0004 13F0040F 		tst	r3, #4
 299 0008 32D1     		bne	.L39
 664:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* RFC 1337: in TIME_WAIT, ignore RST and ACK FINs + any 'acceptable' segments */
 300              		.loc 1 664 0
 301 000a 10B5     		push	{r4, lr}
 302              	.LCFI5:
 303              		.cfi_def_cfa_offset 8
 304              		.cfi_offset 4, -8
 305              		.cfi_offset 14, -4
 306 000c 82B0     		sub	sp, sp, #8
 307              	.LCFI6:
 308              		.cfi_def_cfa_offset 16
 674:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If an incoming segment is not acceptable, an acknowledgment
 309              		.loc 1 674 0
 310 000e 13F0020F 		tst	r3, #2
 311 0012 1CD0     		beq	.L36
 677:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If the SYN is in the window it is an error, send a reset */
 312              		.loc 1 677 0
 313 0014 184B     		ldr	r3, .L42+4
 314 0016 1968     		ldr	r1, [r3]
 315 0018 436A     		ldr	r3, [r0, #36]
 316 001a CA1A     		subs	r2, r1, r3
 317 001c 002A     		cmp	r2, #0
 318 001e 1CDB     		blt	.L37
 677:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If the SYN is in the window it is an error, send a reset */
 319              		.loc 1 677 0 is_stmt 0 discriminator 1
 320 0020 028D     		ldrh	r2, [r0, #40]
 321 0022 1344     		add	r3, r3, r2
 322 0024 CB1A     		subs	r3, r1, r3
 323 0026 002B     		cmp	r3, #0
 324 0028 17DC     		bgt	.L37
 680:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 325              		.loc 1 680 0 is_stmt 1
 326 002a 144B     		ldr	r3, .L42+8
 327 002c 1B68     		ldr	r3, [r3]
 679:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_current_src_addr(), tcphdr->dest, tcphdr->src);
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 39


 328              		.loc 1 679 0
 329 002e 144A     		ldr	r2, .L42+12
 330 0030 1448     		ldr	r0, .L42+16
 331              	.LVL25:
 332 0032 0088     		ldrh	r0, [r0]
 333 0034 1C88     		ldrh	r4, [r3]	@ unaligned
 334 0036 0194     		str	r4, [sp, #4]
 335 0038 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 336 003a 0093     		str	r3, [sp]
 337 003c 1346     		mov	r3, r2
 338 003e 0432     		adds	r2, r2, #4
 339 0040 0144     		add	r1, r1, r0
 340 0042 1148     		ldr	r0, .L42+20
 341 0044 0068     		ldr	r0, [r0]
 342 0046 FFF7FEFF 		bl	tcp_rst
 343              	.LVL26:
 344              	.L34:
 695:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 345              		.loc 1 695 0
 346 004a 02B0     		add	sp, sp, #8
 347              	.LCFI7:
 348              		.cfi_remember_state
 349              		.cfi_def_cfa_offset 8
 350              		@ sp needed
 351 004c 10BD     		pop	{r4, pc}
 352              	.LVL27:
 353              	.L36:
 354              	.LCFI8:
 355              		.cfi_restore_state
 683:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* - eighth, check the FIN bit: Remain in the TIME-WAIT state.
 356              		.loc 1 683 0
 357 004e 13F0010F 		tst	r3, #1
 358 0052 02D0     		beq	.L37
 686:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 359              		.loc 1 686 0
 360 0054 0D4B     		ldr	r3, .L42+24
 361 0056 1B68     		ldr	r3, [r3]
 362 0058 0362     		str	r3, [r0, #32]
 363              	.L37:
 689:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Acknowledge data, FIN or out-of-window SYN */
 364              		.loc 1 689 0
 365 005a 0A4B     		ldr	r3, .L42+16
 366 005c 1B88     		ldrh	r3, [r3]
 367 005e 002B     		cmp	r3, #0
 368 0060 F3D0     		beq	.L34
 691:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_output(pcb);
 369              		.loc 1 691 0
 370 0062 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 371 0064 43F00203 		orr	r3, r3, #2
 372 0068 8376     		strb	r3, [r0, #26]
 692:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 373              		.loc 1 692 0
 374 006a FFF7FEFF 		bl	tcp_output
 375              	.LVL28:
 376 006e ECE7     		b	.L34
 377              	.LVL29:
 378              	.L39:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 40


 379              	.LCFI9:
 380              		.cfi_def_cfa_offset 0
 381              		.cfi_restore 4
 382              		.cfi_restore 14
 383 0070 7047     		bx	lr
 384              	.L43:
 385 0072 00BF     		.align	2
 386              	.L42:
 387 0074 00000000 		.word	.LANCHOR6
 388 0078 00000000 		.word	.LANCHOR7
 389 007c 00000000 		.word	.LANCHOR3
 390 0080 10000000 		.word	ip_data+16
 391 0084 00000000 		.word	.LANCHOR8
 392 0088 00000000 		.word	.LANCHOR9
 393 008c 00000000 		.word	tcp_ticks
 394              		.cfi_endproc
 395              	.LFE155:
 397              		.section	.text.tcp_listen_input,"ax",%progbits
 398              		.align	1
 399              		.syntax unified
 400              		.thumb
 401              		.thumb_func
 402              		.fpu fpv5-sp-d16
 404              	tcp_listen_input:
 405              	.LFB154:
 565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *npcb;
 406              		.loc 1 565 0
 407              		.cfi_startproc
 408              		@ args = 0, pretend = 0, frame = 0
 409              		@ frame_needed = 0, uses_anonymous_args = 0
 410              	.LVL30:
 570:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* An incoming RST should be ignored. Return. */
 411              		.loc 1 570 0
 412 0000 3C4B     		ldr	r3, .L57
 413 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 414 0004 13F0040F 		tst	r3, #4
 415 0008 73D1     		bne	.L50
 565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *npcb;
 416              		.loc 1 565 0
 417 000a F0B5     		push	{r4, r5, r6, r7, lr}
 418              	.LCFI10:
 419              		.cfi_def_cfa_offset 20
 420              		.cfi_offset 4, -20
 421              		.cfi_offset 5, -16
 422              		.cfi_offset 6, -12
 423              		.cfi_offset 7, -8
 424              		.cfi_offset 14, -4
 425 000c 83B0     		sub	sp, sp, #12
 426              	.LCFI11:
 427              		.cfi_def_cfa_offset 32
 428 000e 0546     		mov	r5, r0
 577:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* For incoming segments with the ACK flag set, respond with a
 429              		.loc 1 577 0
 430 0010 13F0100F 		tst	r3, #16
 431 0014 04D1     		bne	.L53
 583:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_DEBUG, ("TCP connection request %"U16_F" -> %"U16_F".\n", tcphdr->src, tcphdr->
 432              		.loc 1 583 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 41


 433 0016 13F0020F 		tst	r3, #2
 434 001a 14D1     		bne	.L54
 435              	.LVL31:
 436              	.L44:
 651:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 437              		.loc 1 651 0
 438 001c 03B0     		add	sp, sp, #12
 439              	.LCFI12:
 440              		.cfi_remember_state
 441              		.cfi_def_cfa_offset 20
 442              		@ sp needed
 443 001e F0BD     		pop	{r4, r5, r6, r7, pc}
 444              	.LVL32:
 445              	.L53:
 446              	.LCFI13:
 447              		.cfi_restore_state
 582:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else if (flags & TCP_SYN) {
 448              		.loc 1 582 0
 449 0020 354B     		ldr	r3, .L57+4
 450 0022 1B68     		ldr	r3, [r3]
 581:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 451              		.loc 1 581 0
 452 0024 354A     		ldr	r2, .L57+8
 453 0026 3649     		ldr	r1, .L57+12
 454 0028 0C88     		ldrh	r4, [r1]
 455 002a 3649     		ldr	r1, .L57+16
 456 002c 0968     		ldr	r1, [r1]
 457 002e 3648     		ldr	r0, .L57+20
 458              	.LVL33:
 459 0030 0068     		ldr	r0, [r0]
 460 0032 1D88     		ldrh	r5, [r3]	@ unaligned
 461              	.LVL34:
 462 0034 0195     		str	r5, [sp, #4]
 463 0036 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 464 0038 0093     		str	r3, [sp]
 465 003a 1346     		mov	r3, r2
 466 003c 0432     		adds	r2, r2, #4
 467 003e 2144     		add	r1, r1, r4
 468 0040 FFF7FEFF 		bl	tcp_rst
 469              	.LVL35:
 470 0044 EAE7     		b	.L44
 471              	.LVL36:
 472              	.L54:
 591:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If a new PCB could not be created (probably due to lack of memory),
 473              		.loc 1 591 0
 474 0046 407D     		ldrb	r0, [r0, #21]	@ zero_extendqisi2
 475              	.LVL37:
 476 0048 FFF7FEFF 		bl	tcp_alloc
 477              	.LVL38:
 595:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       err_t err;
 478              		.loc 1 595 0
 479 004c 0446     		mov	r4, r0
 480 004e 0028     		cmp	r0, #0
 481 0050 41D0     		beq	.L55
 608:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     ip_addr_copy(npcb->remote_ip, *ip_current_src_addr());
 482              		.loc 1 608 0
 483 0052 2E4B     		ldr	r3, .L57+24
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 42


 484 0054 5A69     		ldr	r2, [r3, #20]
 485 0056 0260     		str	r2, [r0]
 609:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->local_port = pcb->local_port;
 486              		.loc 1 609 0
 487 0058 1B69     		ldr	r3, [r3, #16]
 488 005a 4360     		str	r3, [r0, #4]
 610:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->remote_port = tcphdr->src;
 489              		.loc 1 610 0
 490 005c EB8A     		ldrh	r3, [r5, #22]
 491 005e C382     		strh	r3, [r0, #22]	@ movhi
 611:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->state = SYN_RCVD;
 492              		.loc 1 611 0
 493 0060 254E     		ldr	r6, .L57+4
 494 0062 3368     		ldr	r3, [r6]
 495 0064 1B88     		ldrh	r3, [r3]	@ unaligned
 496 0066 0383     		strh	r3, [r0, #24]	@ movhi
 612:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->rcv_nxt = seqno + 1;
 497              		.loc 1 612 0
 498 0068 0323     		movs	r3, #3
 499 006a 0375     		strb	r3, [r0, #20]
 613:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->rcv_ann_right_edge = npcb->rcv_nxt;
 500              		.loc 1 613 0
 501 006c 254F     		ldr	r7, .L57+16
 502 006e 3B68     		ldr	r3, [r7]
 503 0070 0133     		adds	r3, r3, #1
 504 0072 4362     		str	r3, [r0, #36]
 614:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     iss = tcp_next_iss(npcb);
 505              		.loc 1 614 0
 506 0074 C362     		str	r3, [r0, #44]
 615:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wl2 = iss;
 507              		.loc 1 615 0
 508 0076 FFF7FEFF 		bl	tcp_next_iss
 509              	.LVL39:
 616:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_nxt = iss;
 510              		.loc 1 616 0
 511 007a 6065     		str	r0, [r4, #84]
 617:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->lastack = iss;
 512              		.loc 1 617 0
 513 007c E064     		str	r0, [r4, #76]
 618:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_lbb = iss;
 514              		.loc 1 618 0
 515 007e 6064     		str	r0, [r4, #68]
 619:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wl1 = seqno - 1;/* initialise to seqno-1 to force window update */
 516              		.loc 1 619 0
 517 0080 A065     		str	r0, [r4, #88]
 620:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->callback_arg = pcb->callback_arg;
 518              		.loc 1 620 0
 519 0082 3B68     		ldr	r3, [r7]
 520 0084 013B     		subs	r3, r3, #1
 521 0086 2365     		str	r3, [r4, #80]
 621:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 522              		.loc 1 621 0
 523 0088 2B69     		ldr	r3, [r5, #16]
 524 008a 2361     		str	r3, [r4, #16]
 623:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG */
 525              		.loc 1 623 0
 526 008c A567     		str	r5, [r4, #120]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 43


 626:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Register the new PCB so that we can begin receiving segments
 527              		.loc 1 626 0
 528 008e 2B7A     		ldrb	r3, [r5, #8]	@ zero_extendqisi2
 529 0090 03F00C03 		and	r3, r3, #12
 530 0094 2372     		strb	r3, [r4, #8]
 629:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 531              		.loc 1 629 0
 532 0096 1E4B     		ldr	r3, .L57+28
 533 0098 1A68     		ldr	r2, [r3]
 534 009a E260     		str	r2, [r4, #12]
 535 009c 1C60     		str	r4, [r3]
 536 009e FFF7FEFF 		bl	tcp_timer_needed
 537              	.LVL40:
 538 00a2 0122     		movs	r2, #1
 539 00a4 1B4B     		ldr	r3, .L57+32
 540 00a6 1A70     		strb	r2, [r3]
 632:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wnd = tcphdr->wnd;
 541              		.loc 1 632 0
 542 00a8 2046     		mov	r0, r4
 543 00aa FFF7FEFF 		bl	tcp_parseopt
 544              	.LVL41:
 633:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wnd_max = npcb->snd_wnd;
 545              		.loc 1 633 0
 546 00ae 3368     		ldr	r3, [r6]
 547 00b0 DB89     		ldrh	r3, [r3, #14]	@ unaligned
 548 00b2 A4F85C30 		strh	r3, [r4, #92]	@ movhi
 634:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 549              		.loc 1 634 0
 550 00b6 A4F85E30 		strh	r3, [r4, #94]	@ movhi
 637:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 551              		.loc 1 637 0
 552 00ba 211D     		adds	r1, r4, #4
 553 00bc 608E     		ldrh	r0, [r4, #50]
 554 00be FFF7FEFF 		bl	tcp_eff_send_mss_impl
 555              	.LVL42:
 556 00c2 6086     		strh	r0, [r4, #50]	@ movhi
 643:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (rc != ERR_OK) {
 557              		.loc 1 643 0
 558 00c4 1221     		movs	r1, #18
 559 00c6 2046     		mov	r0, r4
 560 00c8 FFF7FEFF 		bl	tcp_enqueue_flags
 561              	.LVL43:
 644:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_abandon(npcb, 0);
 562              		.loc 1 644 0
 563 00cc 60B9     		cbnz	r0, .L56
 648:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 564              		.loc 1 648 0
 565 00ce 2046     		mov	r0, r4
 566              	.LVL44:
 567 00d0 FFF7FEFF 		bl	tcp_output
 568              	.LVL45:
 569 00d4 A2E7     		b	.L44
 570              	.LVL46:
 571              	.L55:
 572              	.LBB5:
 599:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_UNUSED_ARG(err); /* err not useful here */
 573              		.loc 1 599 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 44


 574 00d6 AB69     		ldr	r3, [r5, #24]
 575 00d8 002B     		cmp	r3, #0
 576 00da 9FD0     		beq	.L44
 599:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_UNUSED_ARG(err); /* err not useful here */
 577              		.loc 1 599 0 is_stmt 0 discriminator 1
 578 00dc 4FF0FF32 		mov	r2, #-1
 579 00e0 0021     		movs	r1, #0
 580 00e2 2869     		ldr	r0, [r5, #16]
 581              	.LVL47:
 582 00e4 9847     		blx	r3
 583              	.LVL48:
 584 00e6 99E7     		b	.L44
 585              	.LVL49:
 586              	.L56:
 587              	.LBE5:
 645:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 588              		.loc 1 645 0 is_stmt 1
 589 00e8 0021     		movs	r1, #0
 590 00ea 2046     		mov	r0, r4
 591              	.LVL50:
 592 00ec FFF7FEFF 		bl	tcp_abandon
 593              	.LVL51:
 646:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 594              		.loc 1 646 0
 595 00f0 94E7     		b	.L44
 596              	.LVL52:
 597              	.L50:
 598              	.LCFI14:
 599              		.cfi_def_cfa_offset 0
 600              		.cfi_restore 4
 601              		.cfi_restore 5
 602              		.cfi_restore 6
 603              		.cfi_restore 7
 604              		.cfi_restore 14
 605 00f2 7047     		bx	lr
 606              	.L58:
 607              		.align	2
 608              	.L57:
 609 00f4 00000000 		.word	.LANCHOR6
 610 00f8 00000000 		.word	.LANCHOR3
 611 00fc 10000000 		.word	ip_data+16
 612 0100 00000000 		.word	.LANCHOR8
 613 0104 00000000 		.word	.LANCHOR7
 614 0108 00000000 		.word	.LANCHOR9
 615 010c 00000000 		.word	ip_data
 616 0110 00000000 		.word	tcp_active_pcbs
 617 0114 00000000 		.word	tcp_active_pcbs_changed
 618              		.cfi_endproc
 619              	.LFE154:
 621              		.section	.text.tcp_oos_insert_segment,"ax",%progbits
 622              		.align	1
 623              		.syntax unified
 624              		.thumb
 625              		.thumb_func
 626              		.fpu fpv5-sp-d16
 628              	tcp_oos_insert_segment:
 629              	.LFB157:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 45


 971:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *old_seg;
 630              		.loc 1 971 0
 631              		.cfi_startproc
 632              		@ args = 0, pretend = 0, frame = 0
 633              		@ frame_needed = 0, uses_anonymous_args = 0
 634              	.LVL53:
 635 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 636              	.LCFI15:
 637              		.cfi_def_cfa_offset 24
 638              		.cfi_offset 3, -24
 639              		.cfi_offset 4, -20
 640              		.cfi_offset 5, -16
 641              		.cfi_offset 6, -12
 642              		.cfi_offset 7, -8
 643              		.cfi_offset 14, -4
 644 0002 0546     		mov	r5, r0
 645 0004 0C46     		mov	r4, r1
 974:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* received segment overlaps all following segments */
 646              		.loc 1 974 0
 647 0006 C368     		ldr	r3, [r0, #12]
 648 0008 9889     		ldrh	r0, [r3, #12]	@ unaligned
 649              	.LVL54:
 650 000a FFF7FEFF 		bl	lwip_htons
 651              	.LVL55:
 652 000e 10F0010F 		tst	r0, #1
 653 0012 09D0     		beq	.L60
 976:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     next = NULL;
 654              		.loc 1 976 0
 655 0014 2046     		mov	r0, r4
 656 0016 FFF7FEFF 		bl	tcp_segs_free
 657              	.LVL56:
 977:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 658              		.loc 1 977 0
 659 001a 0024     		movs	r4, #0
 660 001c 2EE0     		b	.L61
 661              	.LVL57:
 662              	.L62:
 989:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(old_seg);
 663              		.loc 1 989 0
 664 001e 2668     		ldr	r6, [r4]
 665              	.LVL58:
 990:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 666              		.loc 1 990 0
 667 0020 2046     		mov	r0, r4
 668 0022 FFF7FEFF 		bl	tcp_seg_free
 669              	.LVL59:
 989:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(old_seg);
 670              		.loc 1 989 0
 671 0026 3446     		mov	r4, r6
 672              	.LVL60:
 673              	.L60:
 981:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_GEQ((seqno + cseg->len),
 674              		.loc 1 981 0
 675 0028 C4B1     		cbz	r4, .L63
 982:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (next->tcphdr->seqno + next->len))) {
 676              		.loc 1 982 0 discriminator 1
 677 002a 2B89     		ldrh	r3, [r5, #8]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 46


 678 002c 144A     		ldr	r2, .L66
 679 002e 1268     		ldr	r2, [r2]
 680 0030 1344     		add	r3, r3, r2
 681 0032 E168     		ldr	r1, [r4, #12]
 682 0034 4A68     		ldr	r2, [r1, #4]	@ unaligned
 683 0036 2089     		ldrh	r0, [r4, #8]
 684 0038 0244     		add	r2, r2, r0
 685 003a 9B1A     		subs	r3, r3, r2
 981:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_GEQ((seqno + cseg->len),
 686              		.loc 1 981 0 discriminator 1
 687 003c 002B     		cmp	r3, #0
 688 003e 0DDB     		blt	.L63
 985:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCPH_SET_FLAG(cseg->tcphdr, TCP_FIN);
 689              		.loc 1 985 0
 690 0040 8889     		ldrh	r0, [r1, #12]	@ unaligned
 691 0042 FFF7FEFF 		bl	lwip_htons
 692              	.LVL61:
 693 0046 10F0010F 		tst	r0, #1
 694 004a E8D0     		beq	.L62
 986:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 695              		.loc 1 986 0
 696 004c EF68     		ldr	r7, [r5, #12]
 697 004e BE89     		ldrh	r6, [r7, #12]	@ unaligned
 698 0050 0120     		movs	r0, #1
 699 0052 FFF7FEFF 		bl	lwip_htons
 700              	.LVL62:
 701 0056 3043     		orrs	r0, r0, r6
 702 0058 B881     		strh	r0, [r7, #12]	@ unaligned
 703 005a E0E7     		b	.L62
 704              	.L63:
 992:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_SEQ_GT(seqno + cseg->len, next->tcphdr->seqno)) {
 705              		.loc 1 992 0
 706 005c 74B1     		cbz	r4, .L61
 993:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We need to trim the incoming segment. */
 707              		.loc 1 993 0 discriminator 1
 708 005e 2B89     		ldrh	r3, [r5, #8]
 709 0060 074A     		ldr	r2, .L66
 710 0062 1168     		ldr	r1, [r2]
 711 0064 0B44     		add	r3, r3, r1
 712 0066 E268     		ldr	r2, [r4, #12]
 713 0068 5268     		ldr	r2, [r2, #4]	@ unaligned
 714 006a 9B1A     		subs	r3, r3, r2
 992:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_SEQ_GT(seqno + cseg->len, next->tcphdr->seqno)) {
 715              		.loc 1 992 0 discriminator 1
 716 006c 002B     		cmp	r3, #0
 717 006e 05DD     		ble	.L61
 995:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_realloc(cseg->p, cseg->len);
 718              		.loc 1 995 0
 719 0070 521A     		subs	r2, r2, r1
 720 0072 91B2     		uxth	r1, r2
 721 0074 2981     		strh	r1, [r5, #8]	@ movhi
 996:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 722              		.loc 1 996 0
 723 0076 6868     		ldr	r0, [r5, #4]
 724 0078 FFF7FEFF 		bl	pbuf_realloc
 725              	.LVL63:
 726              	.L61:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 47


 999:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 727              		.loc 1 999 0
 728 007c 2C60     		str	r4, [r5]
 729 007e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 730              	.LVL64:
 731              	.L67:
 732              		.align	2
 733              	.L66:
 734 0080 00000000 		.word	.LANCHOR7
 735              		.cfi_endproc
 736              	.LFE157:
 738              		.section	.text.tcp_receive,"ax",%progbits
 739              		.align	1
 740              		.syntax unified
 741              		.thumb
 742              		.thumb_func
 743              		.fpu fpv5-sp-d16
 745              	tcp_receive:
 746              	.LFB158:
1017:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *next;
 747              		.loc 1 1017 0
 748              		.cfi_startproc
 749              		@ args = 0, pretend = 0, frame = 0
 750              		@ frame_needed = 0, uses_anonymous_args = 0
 751              	.LVL65:
 752 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 753              	.LCFI16:
 754              		.cfi_def_cfa_offset 24
 755              		.cfi_offset 4, -24
 756              		.cfi_offset 5, -20
 757              		.cfi_offset 6, -16
 758              		.cfi_offset 7, -12
 759              		.cfi_offset 8, -8
 760              		.cfi_offset 14, -4
 761 0004 0446     		mov	r4, r0
 762              	.LVL66:
1032:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 763              		.loc 1 1032 0
 764 0006 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 765 0008 032B     		cmp	r3, #3
 766 000a 79D9     		bls	.L179
 767              	.LVL67:
 768              	.L69:
1034:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     right_wnd_edge = pcb->snd_wnd + pcb->snd_wl2;
 769              		.loc 1 1034 0
 770 000c AE4B     		ldr	r3, .L214
 771 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 772 0010 13F0100F 		tst	r3, #16
 773 0014 00F0AA81 		beq	.L70
1035:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 774              		.loc 1 1035 0
 775 0018 B4F85C00 		ldrh	r0, [r4, #92]
 776 001c 626D     		ldr	r2, [r4, #84]
 777 001e 8618     		adds	r6, r0, r2
 778              	.LVL68:
1038:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        (pcb->snd_wl1 == seqno && TCP_SEQ_LT(pcb->snd_wl2, ackno)) ||
 779              		.loc 1 1038 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 48


 780 0020 216D     		ldr	r1, [r4, #80]
 781 0022 AA4B     		ldr	r3, .L214+4
 782 0024 1B68     		ldr	r3, [r3]
 783 0026 CD1A     		subs	r5, r1, r3
 784 0028 002D     		cmp	r5, #0
 785 002a 7CDB     		blt	.L71
1038:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        (pcb->snd_wl1 == seqno && TCP_SEQ_LT(pcb->snd_wl2, ackno)) ||
 786              		.loc 1 1038 0 is_stmt 0 discriminator 1
 787 002c 9942     		cmp	r1, r3
 788 002e 6FD0     		beq	.L180
 789              	.L72:
1040:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = SND_WND_SCALE(pcb, tcphdr->wnd);
 790              		.loc 1 1040 0 is_stmt 1 discriminator 1
 791 0030 A749     		ldr	r1, .L214+8
 792 0032 0968     		ldr	r1, [r1]
1039:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        (pcb->snd_wl2 == ackno && (u32_t)SND_WND_SCALE(pcb, tcphdr->wnd) > pcb->snd_wnd)) {
 793              		.loc 1 1039 0 discriminator 1
 794 0034 8A42     		cmp	r2, r1
 795 0036 71D0     		beq	.L181
 796              	.L73:
1092:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Clause 2 */
 797              		.loc 1 1092 0
 798 0038 A54B     		ldr	r3, .L214+8
 799 003a 1B68     		ldr	r3, [r3]
 800 003c 616C     		ldr	r1, [r4, #68]
 801 003e 5A1A     		subs	r2, r3, r1
 802 0040 002A     		cmp	r2, #0
 803 0042 40F39580 		ble	.L182
1124:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We come here when the ACK acknowledges new data. */
 804              		.loc 1 1124 0
 805 0046 012A     		cmp	r2, #1
 806 0048 04D4     		bmi	.L82
1124:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We come here when the ACK acknowledges new data. */
 807              		.loc 1 1124 0 is_stmt 0 discriminator 1
 808 004a E26C     		ldr	r2, [r4, #76]
 809 004c 9A1A     		subs	r2, r3, r2
 810 004e 002A     		cmp	r2, #0
 811 0050 40F3CC80 		ble	.L183
 812              	.L82:
1213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 813              		.loc 1 1213 0 is_stmt 1
 814 0054 2046     		mov	r0, r4
 815 0056 FFF7FEFF 		bl	tcp_send_empty_ack
 816              	.LVL69:
 817              	.L81:
1222:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_BETWEEN(ackno, lwip_ntohl(pcb->unsent->tcphdr->seqno) +
 818              		.loc 1 1222 0
 819 005a A36E     		ldr	r3, [r4, #104]
 820 005c 002B     		cmp	r3, #0
 821 005e 00F07681 		beq	.L97
1223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            TCP_TCPLEN(pcb->unsent), pcb->snd_nxt)) {
 822              		.loc 1 1223 0
 823 0062 9B4A     		ldr	r2, .L214+8
 824 0064 1568     		ldr	r5, [r2]
 825 0066 DB68     		ldr	r3, [r3, #12]
 826 0068 5868     		ldr	r0, [r3, #4]	@ unaligned
 827 006a FFF7FEFF 		bl	lwip_htonl
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 49


 828              	.LVL70:
 829 006e 0646     		mov	r6, r0
 830 0070 A36E     		ldr	r3, [r4, #104]
 831 0072 1F89     		ldrh	r7, [r3, #8]
 832 0074 DB68     		ldr	r3, [r3, #12]
 833 0076 9889     		ldrh	r0, [r3, #12]	@ unaligned
 834 0078 FFF7FEFF 		bl	lwip_htons
 835              	.LVL71:
 836 007c 10F0030F 		tst	r0, #3
 837 0080 00F06381 		beq	.L165
 838 0084 0123     		movs	r3, #1
 839              	.L98:
1223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            TCP_TCPLEN(pcb->unsent), pcb->snd_nxt)) {
 840              		.loc 1 1223 0 is_stmt 0 discriminator 4
 841 0086 3B44     		add	r3, r3, r7
 842 0088 1E44     		add	r6, r6, r3
 843 008a AD1B     		subs	r5, r5, r6
1222:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_BETWEEN(ackno, lwip_ntohl(pcb->unsent->tcphdr->seqno) +
 844              		.loc 1 1222 0 is_stmt 1 discriminator 4
 845 008c 002D     		cmp	r5, #0
 846 008e C0F25E81 		blt	.L97
1223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            TCP_TCPLEN(pcb->unsent), pcb->snd_nxt)) {
 847              		.loc 1 1223 0
 848 0092 8F4B     		ldr	r3, .L214+8
 849 0094 1B68     		ldr	r3, [r3]
 850 0096 E26C     		ldr	r2, [r4, #76]
 851 0098 9B1A     		subs	r3, r3, r2
 852 009a 002B     		cmp	r3, #0
 853 009c 00F35781 		bgt	.L97
1229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->unsent = pcb->unsent->next;
 854              		.loc 1 1229 0
 855 00a0 A56E     		ldr	r5, [r4, #104]
 856              	.LVL72:
1230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OVERSIZE
 857              		.loc 1 1230 0
 858 00a2 2B68     		ldr	r3, [r5]
 859 00a4 A366     		str	r3, [r4, #104]
1232:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unsent_oversize = 0;
 860              		.loc 1 1232 0
 861 00a6 002B     		cmp	r3, #0
 862 00a8 00F04481 		beq	.L184
 863              	.L94:
1237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Prevent ACK for FIN to generate a sent event */
 864              		.loc 1 1237 0
 865 00ac B4F86260 		ldrh	r6, [r4, #98]
 866 00b0 6868     		ldr	r0, [r5, #4]
 867 00b2 FFF7FEFF 		bl	pbuf_clen
 868              	.LVL73:
 869 00b6 8642     		cmp	r6, r0
 870 00b8 C0F03F81 		bcc	.L185
 871              	.L95:
1239:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_acked += next->len;
 872              		.loc 1 1239 0
 873 00bc 6868     		ldr	r0, [r5, #4]
 874 00be FFF7FEFF 		bl	pbuf_clen
 875              	.LVL74:
 876 00c2 B4F86230 		ldrh	r3, [r4, #98]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 50


 877 00c6 181A     		subs	r0, r3, r0
 878 00c8 A4F86200 		strh	r0, [r4, #98]	@ movhi
1240:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(next);
 879              		.loc 1 1240 0
 880 00cc 2B89     		ldrh	r3, [r5, #8]
 881 00ce 814A     		ldr	r2, .L214+12
 882 00d0 1188     		ldrh	r1, [r2]
 883 00d2 0B44     		add	r3, r3, r1
 884 00d4 1380     		strh	r3, [r2]	@ movhi
1241:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_QLEN_DEBUG, ("%"TCPWNDSIZE_F" (after freeing unsent)\n", (tcpwnd_size_t)pcb->
 885              		.loc 1 1241 0
 886 00d6 2846     		mov	r0, r5
 887 00d8 FFF7FEFF 		bl	tcp_seg_free
 888              	.LVL75:
1243:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("tcp_receive: valid queue length",
 889              		.loc 1 1243 0
 890 00dc B4F86230 		ldrh	r3, [r4, #98]
 891 00e0 002B     		cmp	r3, #0
 892 00e2 BAD0     		beq	.L81
1244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unacked != NULL || pcb->unsent != NULL);
 893              		.loc 1 1244 0
 894 00e4 E36E     		ldr	r3, [r4, #108]
 895 00e6 002B     		cmp	r3, #0
 896 00e8 B7D1     		bne	.L81
1244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unacked != NULL || pcb->unsent != NULL);
 897              		.loc 1 1244 0 is_stmt 0 discriminator 1
 898 00ea A36E     		ldr	r3, [r4, #104]
 899 00ec 002B     		cmp	r3, #0
 900 00ee B4D1     		bne	.L81
1244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unacked != NULL || pcb->unsent != NULL);
 901              		.loc 1 1244 0 discriminator 2
 902 00f0 794B     		ldr	r3, .L214+16
 903 00f2 40F2DD42 		movw	r2, #1245
 904 00f6 7949     		ldr	r1, .L214+20
 905 00f8 7948     		ldr	r0, .L214+24
 906 00fa FFF7FEFF 		bl	printf
 907              	.LVL76:
 908 00fe ACE7     		b	.L81
 909              	.LVL77:
 910              	.L179:
1032:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 911              		.loc 1 1032 0 is_stmt 1 discriminator 1
 912 0100 754B     		ldr	r3, .L214+16
 913 0102 4FF48162 		mov	r2, #1032
 914 0106 7749     		ldr	r1, .L214+28
 915 0108 7548     		ldr	r0, .L214+24
 916              	.LVL78:
 917 010a FFF7FEFF 		bl	printf
 918              	.LVL79:
 919 010e 7DE7     		b	.L69
 920              	.LVL80:
 921              	.L180:
1039:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        (pcb->snd_wl2 == ackno && (u32_t)SND_WND_SCALE(pcb, tcphdr->wnd) > pcb->snd_wnd)) {
 922              		.loc 1 1039 0
 923 0110 6F49     		ldr	r1, .L214+8
 924 0112 0968     		ldr	r1, [r1]
 925 0114 511A     		subs	r1, r2, r1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 51


 926 0116 0029     		cmp	r1, #0
 927 0118 8ADA     		bge	.L72
 928 011a 04E0     		b	.L71
 929              	.L181:
1040:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = SND_WND_SCALE(pcb, tcphdr->wnd);
 930              		.loc 1 1040 0
 931 011c 724A     		ldr	r2, .L214+32
 932 011e 1268     		ldr	r2, [r2]
 933 0120 D289     		ldrh	r2, [r2, #14]	@ unaligned
 934 0122 9042     		cmp	r0, r2
 935 0124 88D2     		bcs	.L73
 936              	.L71:
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* keep track of the biggest window announced by the remote host to calculate
 937              		.loc 1 1041 0
 938 0126 704A     		ldr	r2, .L214+32
 939 0128 1268     		ldr	r2, [r2]
 940 012a D289     		ldrh	r2, [r2, #14]	@ unaligned
 941 012c 91B2     		uxth	r1, r2
 942 012e A4F85C20 		strh	r2, [r4, #92]	@ movhi
1044:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_wnd_max = pcb->snd_wnd;
 943              		.loc 1 1044 0
 944 0132 B4F85E00 		ldrh	r0, [r4, #94]
 945 0136 8142     		cmp	r1, r0
 946 0138 01D9     		bls	.L74
1045:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 947              		.loc 1 1045 0
 948 013a A4F85E20 		strh	r2, [r4, #94]	@ movhi
 949              	.L74:
1047:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl2 = ackno;
 950              		.loc 1 1047 0
 951 013e 2365     		str	r3, [r4, #80]
1048:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->snd_wnd == 0) {
 952              		.loc 1 1048 0
 953 0140 634B     		ldr	r3, .L214+8
 954 0142 1B68     		ldr	r3, [r3]
 955 0144 6365     		str	r3, [r4, #84]
1049:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->persist_backoff == 0) {
 956              		.loc 1 1049 0
 957 0146 51B9     		cbnz	r1, .L75
1050:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* start persist timer */
 958              		.loc 1 1050 0
 959 0148 94F89530 		ldrb	r3, [r4, #149]	@ zero_extendqisi2
 960 014c 002B     		cmp	r3, #0
 961 014e 7FF473AF 		bne	.L73
1052:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->persist_backoff = 1;
 962              		.loc 1 1052 0
 963 0152 84F89430 		strb	r3, [r4, #148]
1053:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 964              		.loc 1 1053 0
 965 0156 0123     		movs	r3, #1
 966 0158 84F89530 		strb	r3, [r4, #149]
 967 015c 6CE7     		b	.L73
 968              	.L75:
1055:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* stop persist timer */
 969              		.loc 1 1055 0
 970 015e 94F89530 		ldrb	r3, [r4, #149]	@ zero_extendqisi2
 971 0162 002B     		cmp	r3, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 52


 972 0164 3FF468AF 		beq	.L73
1057:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 973              		.loc 1 1057 0
 974 0168 0023     		movs	r3, #0
 975 016a 84F89530 		strb	r3, [r4, #149]
 976 016e 63E7     		b	.L73
 977              	.L182:
1094:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Clause 3 */
 978              		.loc 1 1094 0
 979 0170 5E4A     		ldr	r2, .L214+36
 980 0172 1288     		ldrh	r2, [r2]
 981 0174 7ABB     		cbnz	r2, .L158
1096:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Clause 4 */
 982              		.loc 1 1096 0
 983 0176 626D     		ldr	r2, [r4, #84]
 984 0178 B4F85C00 		ldrh	r0, [r4, #92]
 985 017c 0244     		add	r2, r2, r0
 986 017e 9642     		cmp	r6, r2
 987 0180 01D0     		beq	.L186
1026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS
 988              		.loc 1 1026 0
 989 0182 0023     		movs	r3, #0
 990 0184 28E0     		b	.L77
 991              	.L186:
1098:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Clause 5 */
 992              		.loc 1 1098 0
 993 0186 B4F93020 		ldrsh	r2, [r4, #48]
 994 018a 002A     		cmp	r2, #0
 995 018c 2ADB     		blt	.L160
1100:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               found_dupack = 1;
 996              		.loc 1 1100 0
 997 018e 8B42     		cmp	r3, r1
 998 0190 01D0     		beq	.L187
1026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS
 999              		.loc 1 1026 0
 1000 0192 0023     		movs	r3, #0
 1001 0194 20E0     		b	.L77
 1002              	.L187:
 1003              	.LVL81:
1102:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 ++pcb->dupacks;
 1004              		.loc 1 1102 0
 1005 0196 94F84320 		ldrb	r2, [r4, #67]	@ zero_extendqisi2
 1006 019a 531C     		adds	r3, r2, #1
 1007 019c DBB2     		uxtb	r3, r3
 1008 019e 9A42     		cmp	r2, r3
 1009 01a0 01D2     		bcs	.L78
1103:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1010              		.loc 1 1103 0
 1011 01a2 84F84330 		strb	r3, [r4, #67]
 1012              	.L78:
1105:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Inflate the congestion window, but not if it means that
 1013              		.loc 1 1105 0
 1014 01a6 94F84330 		ldrb	r3, [r4, #67]	@ zero_extendqisi2
 1015 01aa 032B     		cmp	r3, #3
 1016 01ac 0AD9     		bls	.L79
1108:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   pcb->cwnd += pcb->mss;
 1017              		.loc 1 1108 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 53


 1018 01ae B4F84820 		ldrh	r2, [r4, #72]
 1019 01b2 638E     		ldrh	r3, [r4, #50]
 1020 01b4 1344     		add	r3, r3, r2
 1021 01b6 9BB2     		uxth	r3, r3
 1022 01b8 9A42     		cmp	r2, r3
 1023 01ba 15D2     		bcs	.L162
1109:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
 1024              		.loc 1 1109 0
 1025 01bc A4F84830 		strh	r3, [r4, #72]	@ movhi
1101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
 1026              		.loc 1 1101 0
 1027 01c0 0123     		movs	r3, #1
 1028 01c2 09E0     		b	.L77
 1029              	.L79:
1111:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Do fast retransmit */
 1030              		.loc 1 1111 0
 1031 01c4 032B     		cmp	r3, #3
 1032 01c6 01D0     		beq	.L188
1101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
 1033              		.loc 1 1101 0
 1034 01c8 0123     		movs	r3, #1
 1035 01ca 05E0     		b	.L77
 1036              	.L188:
1113:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1037              		.loc 1 1113 0
 1038 01cc 2046     		mov	r0, r4
 1039 01ce FFF7FEFF 		bl	tcp_rexmit_fast
 1040              	.LVL82:
1101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
 1041              		.loc 1 1101 0
 1042 01d2 0123     		movs	r3, #1
 1043 01d4 00E0     		b	.L77
 1044              	.LVL83:
 1045              	.L158:
1026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS
 1046              		.loc 1 1026 0
 1047 01d6 0023     		movs	r3, #0
 1048              	.LVL84:
 1049              	.L77:
1121:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->dupacks = 0;
 1050              		.loc 1 1121 0
 1051 01d8 002B     		cmp	r3, #0
 1052 01da 7FF43EAF 		bne	.L81
1122:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1053              		.loc 1 1122 0
 1054 01de 84F84330 		strb	r3, [r4, #67]
 1055 01e2 3AE7     		b	.L81
 1056              	.LVL85:
 1057              	.L160:
1026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS
 1058              		.loc 1 1026 0
 1059 01e4 0023     		movs	r3, #0
 1060 01e6 F7E7     		b	.L77
 1061              	.LVL86:
 1062              	.L162:
1101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
 1063              		.loc 1 1101 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 54


 1064 01e8 0123     		movs	r3, #1
 1065 01ea F5E7     		b	.L77
 1066              	.LVL87:
 1067              	.L183:
1130:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->flags &= ~TF_INFR;
 1068              		.loc 1 1130 0
 1069 01ec A27E     		ldrb	r2, [r4, #26]	@ zero_extendqisi2
 1070 01ee 12F0040F 		tst	r2, #4
 1071 01f2 06D0     		beq	.L83
1131:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->cwnd = pcb->ssthresh;
 1072              		.loc 1 1131 0
 1073 01f4 22F00402 		bic	r2, r2, #4
 1074 01f8 A276     		strb	r2, [r4, #26]
1132:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1075              		.loc 1 1132 0
 1076 01fa B4F84A20 		ldrh	r2, [r4, #74]
 1077 01fe A4F84820 		strh	r2, [r4, #72]	@ movhi
 1078              	.L83:
1136:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1079              		.loc 1 1136 0
 1080 0202 0021     		movs	r1, #0
 1081 0204 84F84210 		strb	r1, [r4, #66]
1139:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1082              		.loc 1 1139 0
 1083 0208 B4F93C00 		ldrsh	r0, [r4, #60]
 1084 020c E28F     		ldrh	r2, [r4, #62]
 1085 020e 02EBE002 		add	r2, r2, r0, asr #3
 1086 0212 A4F84020 		strh	r2, [r4, #64]	@ movhi
1142:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->lastack = ackno;
 1087              		.loc 1 1142 0
 1088 0216 84F84310 		strb	r1, [r4, #67]
1143:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1089              		.loc 1 1143 0
 1090 021a 6364     		str	r3, [r4, #68]
1147:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->cwnd < pcb->ssthresh) {
 1091              		.loc 1 1147 0
 1092 021c 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1093 021e 032B     		cmp	r3, #3
 1094 0220 0CD9     		bls	.L86
1148:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if ((tcpwnd_size_t)(pcb->cwnd + pcb->mss) > pcb->cwnd) {
 1095              		.loc 1 1148 0
 1096 0222 B4F84820 		ldrh	r2, [r4, #72]
 1097 0226 B4F84A30 		ldrh	r3, [r4, #74]
 1098 022a 9A42     		cmp	r2, r3
 1099 022c 60D2     		bcs	.L85
1149:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->cwnd += pcb->mss;
 1100              		.loc 1 1149 0
 1101 022e 638E     		ldrh	r3, [r4, #50]
 1102 0230 1344     		add	r3, r3, r2
 1103 0232 9BB2     		uxth	r3, r3
 1104 0234 9A42     		cmp	r2, r3
 1105 0236 01D2     		bcs	.L86
1150:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1106              		.loc 1 1150 0
 1107 0238 A4F84830 		strh	r3, [r4, #72]	@ movhi
 1108              	.LVL88:
 1109              	.L86:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 55


1170:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              TCP_SEQ_LEQ(lwip_ntohl(pcb->unacked->tcphdr->seqno) +
 1110              		.loc 1 1170 0
 1111 023c E36E     		ldr	r3, [r4, #108]
 1112 023e 002B     		cmp	r3, #0
 1113 0240 6DD0     		beq	.L89
1171:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                          TCP_TCPLEN(pcb->unacked), ackno)) {
 1114              		.loc 1 1171 0
 1115 0242 DB68     		ldr	r3, [r3, #12]
 1116 0244 5868     		ldr	r0, [r3, #4]	@ unaligned
 1117 0246 FFF7FEFF 		bl	lwip_htonl
 1118              	.LVL89:
 1119 024a 0546     		mov	r5, r0
 1120 024c E36E     		ldr	r3, [r4, #108]
 1121 024e 1E89     		ldrh	r6, [r3, #8]
 1122 0250 DB68     		ldr	r3, [r3, #12]
 1123 0252 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1124 0254 FFF7FEFF 		bl	lwip_htons
 1125              	.LVL90:
 1126 0258 10F0030F 		tst	r0, #3
 1127 025c 5DD0     		beq	.L164
 1128 025e 0123     		movs	r3, #1
 1129              	.L90:
1171:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                          TCP_TCPLEN(pcb->unacked), ackno)) {
 1130              		.loc 1 1171 0 is_stmt 0 discriminator 4
 1131 0260 3344     		add	r3, r3, r6
 1132 0262 1D44     		add	r5, r5, r3
 1133 0264 1A4B     		ldr	r3, .L214+8
 1134 0266 1B68     		ldr	r3, [r3]
 1135 0268 ED1A     		subs	r5, r5, r3
1170:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              TCP_SEQ_LEQ(lwip_ntohl(pcb->unacked->tcphdr->seqno) +
 1136              		.loc 1 1170 0 is_stmt 1 discriminator 4
 1137 026a 002D     		cmp	r5, #0
 1138 026c 57DC     		bgt	.L89
1178:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unacked = pcb->unacked->next;
 1139              		.loc 1 1178 0
 1140 026e E56E     		ldr	r5, [r4, #108]
 1141              	.LVL91:
1179:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1142              		.loc 1 1179 0
 1143 0270 2B68     		ldr	r3, [r5]
 1144 0272 E366     		str	r3, [r4, #108]
1182:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1145              		.loc 1 1182 0
 1146 0274 B4F86260 		ldrh	r6, [r4, #98]
 1147 0278 6868     		ldr	r0, [r5, #4]
 1148 027a FFF7FEFF 		bl	pbuf_clen
 1149              	.LVL92:
 1150 027e 8642     		cmp	r6, r0
 1151 0280 43D3     		bcc	.L189
 1152              	.L87:
1184:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         recv_acked += next->len;
 1153              		.loc 1 1184 0
 1154 0282 6868     		ldr	r0, [r5, #4]
 1155 0284 FFF7FEFF 		bl	pbuf_clen
 1156              	.LVL93:
 1157 0288 B4F86230 		ldrh	r3, [r4, #98]
 1158 028c 181A     		subs	r0, r3, r0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 56


 1159 028e A4F86200 		strh	r0, [r4, #98]	@ movhi
1185:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_seg_free(next);
 1160              		.loc 1 1185 0
 1161 0292 2B89     		ldrh	r3, [r5, #8]
 1162 0294 0F4A     		ldr	r2, .L214+12
 1163 0296 1188     		ldrh	r1, [r2]
 1164 0298 0B44     		add	r3, r3, r1
 1165 029a 1380     		strh	r3, [r2]	@ movhi
1186:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1166              		.loc 1 1186 0
 1167 029c 2846     		mov	r0, r5
 1168 029e FFF7FEFF 		bl	tcp_seg_free
 1169              	.LVL94:
1189:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: valid queue length", pcb->unacked != NULL ||
 1170              		.loc 1 1189 0
 1171 02a2 B4F86230 		ldrh	r3, [r4, #98]
 1172 02a6 002B     		cmp	r3, #0
 1173 02a8 C8D0     		beq	.L86
1190:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->unsent != NULL);
 1174              		.loc 1 1190 0
 1175 02aa E36E     		ldr	r3, [r4, #108]
 1176 02ac 002B     		cmp	r3, #0
 1177 02ae C5D1     		bne	.L86
1190:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->unsent != NULL);
 1178              		.loc 1 1190 0 is_stmt 0 discriminator 1
 1179 02b0 A36E     		ldr	r3, [r4, #104]
 1180 02b2 002B     		cmp	r3, #0
 1181 02b4 C2D1     		bne	.L86
1190:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->unsent != NULL);
 1182              		.loc 1 1190 0 discriminator 2
 1183 02b6 084B     		ldr	r3, .L214+16
 1184 02b8 40F2A742 		movw	r2, #1191
 1185 02bc 0749     		ldr	r1, .L214+20
 1186 02be 0848     		ldr	r0, .L214+24
 1187 02c0 FFF7FEFF 		bl	printf
 1188              	.LVL95:
 1189 02c4 BAE7     		b	.L86
 1190              	.L215:
 1191 02c6 00BF     		.align	2
 1192              	.L214:
 1193 02c8 00000000 		.word	.LANCHOR6
 1194 02cc 00000000 		.word	.LANCHOR7
 1195 02d0 00000000 		.word	.LANCHOR9
 1196 02d4 00000000 		.word	.LANCHOR10
 1197 02d8 00000000 		.word	.LC0
 1198 02dc 9C000000 		.word	.LC4
 1199 02e0 4C000000 		.word	.LC2
 1200 02e4 30000000 		.word	.LC1
 1201 02e8 00000000 		.word	.LANCHOR3
 1202 02ec 00000000 		.word	.LANCHOR8
 1203              	.LVL96:
 1204              	.L85:
 1205              	.LBB6:
1154:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (new_cwnd > pcb->cwnd) {
 1206              		.loc 1 1154 0 is_stmt 1
 1207 02f0 638E     		ldrh	r3, [r4, #50]
 1208 02f2 03FB03F3 		mul	r3, r3, r3
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 57


 1209 02f6 93FBF2F3 		sdiv	r3, r3, r2
 1210 02fa 12FA83F3 		uxtah	r3, r2, r3
 1211 02fe 9BB2     		uxth	r3, r3
 1212              	.LVL97:
1155:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->cwnd = new_cwnd;
 1213              		.loc 1 1155 0
 1214 0300 9A42     		cmp	r2, r3
 1215 0302 9BD2     		bcs	.L86
1156:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1216              		.loc 1 1156 0
 1217 0304 A4F84830 		strh	r3, [r4, #72]	@ movhi
 1218 0308 98E7     		b	.L86
 1219              	.LVL98:
 1220              	.L189:
 1221              	.LBE6:
1182:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1222              		.loc 1 1182 0 discriminator 1
 1223 030a A24B     		ldr	r3, .L216
 1224 030c 40F29E42 		movw	r2, #1182
 1225 0310 A149     		ldr	r1, .L216+4
 1226 0312 A248     		ldr	r0, .L216+8
 1227 0314 FFF7FEFF 		bl	printf
 1228              	.LVL99:
 1229 0318 B3E7     		b	.L87
 1230              	.LVL100:
 1231              	.L164:
1171:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                          TCP_TCPLEN(pcb->unacked), ackno)) {
 1232              		.loc 1 1171 0
 1233 031a 0023     		movs	r3, #0
 1234 031c A0E7     		b	.L90
 1235              	.L89:
1197:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = -1;
 1236              		.loc 1 1197 0
 1237 031e E36E     		ldr	r3, [r4, #108]
 1238 0320 23B1     		cbz	r3, .L190
1200:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1239              		.loc 1 1200 0
 1240 0322 0023     		movs	r3, #0
 1241 0324 2386     		strh	r3, [r4, #48]	@ movhi
 1242              	.L93:
1203:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1243              		.loc 1 1203 0
 1244 0326 0023     		movs	r3, #0
 1245 0328 E376     		strb	r3, [r4, #27]
 1246 032a 96E6     		b	.L81
 1247              	.L190:
1198:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 1248              		.loc 1 1198 0
 1249 032c 4FF6FF73 		movw	r3, #65535
 1250 0330 2386     		strh	r3, [r4, #48]	@ movhi
 1251 0332 F8E7     		b	.L93
 1252              	.LVL101:
 1253              	.L184:
1233:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1254              		.loc 1 1233 0
 1255 0334 A4F86430 		strh	r3, [r4, #100]	@ movhi
 1256 0338 B8E6     		b	.L94
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 58


 1257              	.L185:
1237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Prevent ACK for FIN to generate a sent event */
 1258              		.loc 1 1237 0 discriminator 1
 1259 033a 964B     		ldr	r3, .L216
 1260 033c 40F2D542 		movw	r2, #1237
 1261 0340 9549     		ldr	r1, .L216+4
 1262 0342 9648     		ldr	r0, .L216+8
 1263 0344 FFF7FEFF 		bl	printf
 1264              	.LVL102:
 1265 0348 B8E6     		b	.L95
 1266              	.LVL103:
 1267              	.L165:
1223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            TCP_TCPLEN(pcb->unsent), pcb->snd_nxt)) {
 1268              		.loc 1 1223 0
 1269 034a 0023     		movs	r3, #0
 1270 034c 9BE6     		b	.L98
 1271              	.L97:
1248:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* End of ACK for new data processing. */
 1272              		.loc 1 1248 0
 1273 034e B4F86030 		ldrh	r3, [r4, #96]
 1274 0352 934A     		ldr	r2, .L216+12
 1275 0354 1288     		ldrh	r2, [r2]
 1276 0356 1344     		add	r3, r3, r2
 1277 0358 A4F86030 		strh	r3, [r4, #96]	@ movhi
1257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* diff between this shouldn't exceed 32K since this are tcp timer ticks
 1278              		.loc 1 1257 0
 1279 035c 636B     		ldr	r3, [r4, #52]
 1280 035e 2BB1     		cbz	r3, .L70
1257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* diff between this shouldn't exceed 32K since this are tcp timer ticks
 1281              		.loc 1 1257 0 is_stmt 0 discriminator 1
 1282 0360 A26B     		ldr	r2, [r4, #56]
 1283 0362 9049     		ldr	r1, .L216+16
 1284 0364 0968     		ldr	r1, [r1]
 1285 0366 521A     		subs	r2, r2, r1
 1286 0368 002A     		cmp	r2, #0
 1287 036a 29DB     		blt	.L191
 1288              	.L70:
1286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* This code basically does three things:
 1289              		.loc 1 1286 0 is_stmt 1
 1290 036c 8E4B     		ldr	r3, .L216+20
 1291 036e 1B88     		ldrh	r3, [r3]
 1292 0370 002B     		cmp	r3, #0
 1293 0372 00F04B83 		beq	.L101
1286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* This code basically does three things:
 1294              		.loc 1 1286 0 is_stmt 0 discriminator 1
 1295 0376 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 1296 0378 062A     		cmp	r2, #6
 1297 037a 00F24783 		bhi	.L101
1317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Trimming the first edge is done by pushing the payload
 1298              		.loc 1 1317 0 is_stmt 1
 1299 037e 616A     		ldr	r1, [r4, #36]
 1300 0380 8A4A     		ldr	r2, .L216+24
 1301 0382 1268     		ldr	r2, [r2]
 1302 0384 8E1A     		subs	r6, r1, r2
 1303 0386 012E     		cmp	r6, #1
 1304 0388 04D4     		bmi	.L102
1317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Trimming the first edge is done by pushing the payload
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 59


 1305              		.loc 1 1317 0 is_stmt 0 discriminator 1
 1306 038a 1344     		add	r3, r3, r2
 1307 038c CB1A     		subs	r3, r1, r3
 1308 038e 0133     		adds	r3, r3, #1
 1309 0390 002B     		cmp	r3, #0
 1310 0392 36DD     		ble	.L192
 1311              	.L102:
1368:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* the whole segment is < rcv_nxt */
 1312              		.loc 1 1368 0 is_stmt 1
 1313 0394 521A     		subs	r2, r2, r1
 1314 0396 002A     		cmp	r2, #0
 1315 0398 C0F29380 		blt	.L193
 1316              	.L110:
1380:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         pcb->rcv_nxt + pcb->rcv_wnd - 1)) {
 1317              		.loc 1 1380 0
 1318 039c 834B     		ldr	r3, .L216+24
 1319 039e 1968     		ldr	r1, [r3]
 1320 03a0 626A     		ldr	r2, [r4, #36]
 1321 03a2 8B1A     		subs	r3, r1, r2
 1322 03a4 002B     		cmp	r3, #0
 1323 03a6 06DB     		blt	.L111
1380:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         pcb->rcv_nxt + pcb->rcv_wnd - 1)) {
 1324              		.loc 1 1380 0 is_stmt 0 discriminator 1
 1325 03a8 238D     		ldrh	r3, [r4, #40]
 1326 03aa 1344     		add	r3, r3, r2
 1327 03ac CB1A     		subs	r3, r1, r3
 1328 03ae 0133     		adds	r3, r3, #1
 1329 03b0 002B     		cmp	r3, #0
 1330 03b2 40F38B80 		ble	.L194
 1331              	.L111:
1697:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 1332              		.loc 1 1697 0 is_stmt 1
 1333 03b6 2046     		mov	r0, r4
 1334 03b8 FFF7FEFF 		bl	tcp_send_empty_ack
 1335              	.LVL104:
 1336 03bc BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1337              	.LVL105:
 1338              	.L191:
1260:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1339              		.loc 1 1260 0
 1340 03c0 7B4A     		ldr	r2, .L216+28
 1341 03c2 1268     		ldr	r2, [r2]
 1342 03c4 D21A     		subs	r2, r2, r3
 1343 03c6 92B2     		uxth	r2, r2
 1344              	.LVL106:
1266:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->sa += m;
 1345              		.loc 1 1266 0
 1346 03c8 B4F93C10 		ldrsh	r1, [r4, #60]
 1347 03cc A2EBE102 		sub	r2, r2, r1, asr #3
 1348              	.LVL107:
 1349 03d0 92B2     		uxth	r2, r2
 1350 03d2 13B2     		sxth	r3, r2
 1351              	.LVL108:
1267:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (m < 0) {
 1352              		.loc 1 1267 0
 1353 03d4 1144     		add	r1, r1, r2
 1354 03d6 09B2     		sxth	r1, r1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 60


 1355 03d8 A187     		strh	r1, [r4, #60]	@ movhi
1268:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         m = -m;
 1356              		.loc 1 1268 0
 1357 03da 002B     		cmp	r3, #0
 1358 03dc 0EDB     		blt	.L195
 1359              	.L100:
1271:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->sv += m;
 1360              		.loc 1 1271 0
 1361 03de B4F93E20 		ldrsh	r2, [r4, #62]
 1362 03e2 A3EBA203 		sub	r3, r3, r2, asr #2
 1363              	.LVL109:
1272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rto = (pcb->sa >> 3) + pcb->sv;
 1364              		.loc 1 1272 0
 1365 03e6 12FA83F3 		uxtah	r3, r2, r3
 1366              	.LVL110:
 1367 03ea 9BB2     		uxth	r3, r3
 1368 03ec E387     		strh	r3, [r4, #62]	@ movhi
1273:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1369              		.loc 1 1273 0
 1370 03ee 03EBE103 		add	r3, r3, r1, asr #3
 1371 03f2 A4F84030 		strh	r3, [r4, #64]	@ movhi
1278:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 1372              		.loc 1 1278 0
 1373 03f6 0023     		movs	r3, #0
 1374 03f8 6363     		str	r3, [r4, #52]
 1375 03fa B7E7     		b	.L70
 1376              	.LVL111:
 1377              	.L195:
1269:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1378              		.loc 1 1269 0
 1379 03fc 5342     		negs	r3, r2
 1380              	.LVL112:
 1381 03fe 1BB2     		sxth	r3, r3
 1382              	.LVL113:
 1383 0400 EDE7     		b	.L100
 1384              	.LVL114:
 1385              	.L192:
 1386              	.LBB7:
1338:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       off = pcb->rcv_nxt - seqno;
 1387              		.loc 1 1338 0
 1388 0402 6C4B     		ldr	r3, .L216+32
 1389 0404 5D68     		ldr	r5, [r3, #4]
 1390              	.LVL115:
1339:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("inseg.p != NULL", inseg.p);
 1391              		.loc 1 1339 0
 1392 0406 3746     		mov	r7, r6
 1393              	.LVL116:
1340:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("insane offset!", (off < 0x7fff));
 1394              		.loc 1 1340 0
 1395 0408 95B1     		cbz	r5, .L196
 1396              	.LVL117:
 1397              	.L103:
1341:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (inseg.p->len < off) {
 1398              		.loc 1 1341 0
 1399 040a 47F6FE73 		movw	r3, #32766
 1400 040e 9E42     		cmp	r6, r3
 1401 0410 16DC     		bgt	.L197
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 61


 1402              	.L104:
1342:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("pbuf too short!", (((s32_t)inseg.p->tot_len) >= off));
 1403              		.loc 1 1342 0
 1404 0412 684B     		ldr	r3, .L216+32
 1405 0414 5868     		ldr	r0, [r3, #4]
 1406 0416 4389     		ldrh	r3, [r0, #10]
 1407 0418 9E42     		cmp	r6, r3
 1408 041a 44DD     		ble	.L105
1343:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         new_tot_len = (u16_t)(inseg.p->tot_len - off);
 1409              		.loc 1 1343 0
 1410 041c 0389     		ldrh	r3, [r0, #8]
 1411 041e 9E42     		cmp	r6, r3
 1412 0420 16DC     		bgt	.L198
 1413              	.L106:
1344:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         while (p->len < off) {
 1414              		.loc 1 1344 0
 1415 0422 644B     		ldr	r3, .L216+32
 1416 0424 5B68     		ldr	r3, [r3, #4]
 1417 0426 1A89     		ldrh	r2, [r3, #8]
 1418 0428 B6B2     		uxth	r6, r6
 1419              	.LVL118:
 1420 042a 921B     		subs	r2, r2, r6
 1421 042c 92B2     		uxth	r2, r2
 1422              	.LVL119:
1345:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           off -= p->len;
 1423              		.loc 1 1345 0
 1424 042e 1CE0     		b	.L107
 1425              	.LVL120:
 1426              	.L196:
1340:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("insane offset!", (off < 0x7fff));
 1427              		.loc 1 1340 0 discriminator 1
 1428 0430 584B     		ldr	r3, .L216
 1429 0432 40F23C52 		movw	r2, #1340
 1430 0436 6049     		ldr	r1, .L216+36
 1431 0438 5848     		ldr	r0, .L216+8
 1432 043a FFF7FEFF 		bl	printf
 1433              	.LVL121:
 1434 043e E4E7     		b	.L103
 1435              	.L197:
1341:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (inseg.p->len < off) {
 1436              		.loc 1 1341 0 discriminator 1
 1437 0440 544B     		ldr	r3, .L216
 1438 0442 40F23D52 		movw	r2, #1341
 1439 0446 5D49     		ldr	r1, .L216+40
 1440 0448 5448     		ldr	r0, .L216+8
 1441 044a FFF7FEFF 		bl	printf
 1442              	.LVL122:
 1443 044e E0E7     		b	.L104
 1444              	.L198:
1343:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         new_tot_len = (u16_t)(inseg.p->tot_len - off);
 1445              		.loc 1 1343 0 discriminator 1
 1446 0450 504B     		ldr	r3, .L216
 1447 0452 40F23F52 		movw	r2, #1343
 1448 0456 5A49     		ldr	r1, .L216+44
 1449 0458 5048     		ldr	r0, .L216+8
 1450 045a FFF7FEFF 		bl	printf
 1451              	.LVL123:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 62


 1452 045e E0E7     		b	.L106
 1453              	.LVL124:
 1454              	.L108:
1346:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* KJM following line changed (with addition of new_tot_len var)
 1455              		.loc 1 1346 0
 1456 0460 FF1A     		subs	r7, r7, r3
 1457              	.LVL125:
1350:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           p->len = 0;
 1458              		.loc 1 1350 0
 1459 0462 2A81     		strh	r2, [r5, #8]	@ movhi
1351:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           p = p->next;
 1460              		.loc 1 1351 0
 1461 0464 0023     		movs	r3, #0
 1462 0466 6B81     		strh	r3, [r5, #10]	@ movhi
1352:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1463              		.loc 1 1352 0
 1464 0468 2D68     		ldr	r5, [r5]
 1465              	.LVL126:
 1466              	.L107:
1345:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           off -= p->len;
 1467              		.loc 1 1345 0
 1468 046a 6B89     		ldrh	r3, [r5, #10]
 1469 046c 9F42     		cmp	r7, r3
 1470 046e F7DC     		bgt	.L108
1354:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Do we need to cope with this failing?  Assert for now */
 1471              		.loc 1 1354 0
 1472 0470 7942     		negs	r1, r7
 1473 0472 09B2     		sxth	r1, r1
 1474 0474 2846     		mov	r0, r5
 1475 0476 FFF7FEFF 		bl	pbuf_header
 1476              	.LVL127:
 1477 047a 60B9     		cbnz	r0, .L199
 1478              	.L109:
1364:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.tcphdr->seqno = seqno = pcb->rcv_nxt;
 1479              		.loc 1 1364 0
 1480 047c 626A     		ldr	r2, [r4, #36]
 1481 047e 4B48     		ldr	r0, .L216+24
 1482 0480 0368     		ldr	r3, [r0]
 1483 0482 9B1A     		subs	r3, r3, r2
 1484 0484 4B49     		ldr	r1, .L216+32
 1485 0486 0D89     		ldrh	r5, [r1, #8]
 1486              	.LVL128:
 1487 0488 15FA83F3 		uxtah	r3, r5, r3
 1488 048c 0B81     		strh	r3, [r1, #8]	@ movhi
1365:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 1489              		.loc 1 1365 0
 1490 048e CB68     		ldr	r3, [r1, #12]
 1491 0490 0260     		str	r2, [r0]
 1492 0492 5A60     		str	r2, [r3, #4]	@ unaligned
 1493              	.LBE7:
1317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Trimming the first edge is done by pushing the payload
 1494              		.loc 1 1317 0
 1495 0494 82E7     		b	.L110
 1496              	.LVL129:
 1497              	.L199:
 1498              	.LBB8:
1356:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 63


 1499              		.loc 1 1356 0 discriminator 1
 1500 0496 3F4B     		ldr	r3, .L216
 1501 0498 40F24C52 		movw	r2, #1356
 1502 049c 4949     		ldr	r1, .L216+48
 1503 049e 3F48     		ldr	r0, .L216+8
 1504 04a0 FFF7FEFF 		bl	printf
 1505              	.LVL130:
 1506 04a4 EAE7     		b	.L109
 1507              	.LVL131:
 1508              	.L105:
1359:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Do we need to cope with this failing?  Assert for now */
 1509              		.loc 1 1359 0
 1510 04a6 7142     		negs	r1, r6
 1511 04a8 09B2     		sxth	r1, r1
 1512 04aa FFF7FEFF 		bl	pbuf_header
 1513              	.LVL132:
 1514 04ae 0028     		cmp	r0, #0
 1515 04b0 E4D0     		beq	.L109
1361:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1516              		.loc 1 1361 0 discriminator 1
 1517 04b2 384B     		ldr	r3, .L216
 1518 04b4 40F25152 		movw	r2, #1361
 1519 04b8 4249     		ldr	r1, .L216+48
 1520 04ba 3848     		ldr	r0, .L216+8
 1521 04bc FFF7FEFF 		bl	printf
 1522              	.LVL133:
 1523 04c0 DCE7     		b	.L109
 1524              	.LVL134:
 1525              	.L193:
 1526              	.LBE8:
1373:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1527              		.loc 1 1373 0
 1528 04c2 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1529 04c4 43F00203 		orr	r3, r3, #2
 1530 04c8 A376     		strb	r3, [r4, #26]
 1531 04ca 67E7     		b	.L110
 1532              	.L194:
1382:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* The incoming segment is the next in sequence. We check if
 1533              		.loc 1 1382 0
 1534 04cc 9142     		cmp	r1, r2
 1535 04ce 08D0     		beq	.L200
1546:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
 1536              		.loc 1 1546 0
 1537 04d0 2046     		mov	r0, r4
 1538 04d2 FFF7FEFF 		bl	tcp_send_empty_ack
 1539              	.LVL135:
1549:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ooseq = tcp_seg_copy(&inseg);
 1540              		.loc 1 1549 0
 1541 04d6 256F     		ldr	r5, [r4, #112]
 1542 04d8 002D     		cmp	r5, #0
 1543 04da 00F0AD81 		beq	.L201
 1544 04de 0026     		movs	r6, #0
 1545 04e0 E4E1     		b	.L146
 1546              	.L200:
1386:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1547              		.loc 1 1386 0
 1548 04e2 344B     		ldr	r3, .L216+32
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 64


 1549 04e4 1D89     		ldrh	r5, [r3, #8]
 1550 04e6 DB68     		ldr	r3, [r3, #12]
 1551 04e8 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1552 04ea FFF7FEFF 		bl	lwip_htons
 1553              	.LVL136:
 1554 04ee 10F0030F 		tst	r0, #3
 1555 04f2 15D0     		beq	.L166
 1556 04f4 0123     		movs	r3, #1
 1557              	.L113:
1386:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1558              		.loc 1 1386 0 is_stmt 0 discriminator 4
 1559 04f6 2B44     		add	r3, r3, r5
 1560 04f8 9BB2     		uxth	r3, r3
 1561 04fa 2B4A     		ldr	r2, .L216+20
 1562 04fc 1380     		strh	r3, [r2]	@ movhi
1388:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG,
 1563              		.loc 1 1388 0 is_stmt 1 discriminator 4
 1564 04fe 228D     		ldrh	r2, [r4, #40]
 1565 0500 9342     		cmp	r3, r2
 1566 0502 0FD8     		bhi	.L202
 1567              	.L114:
1413:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_FIN) {
 1568              		.loc 1 1413 0
 1569 0504 236F     		ldr	r3, [r4, #112]
 1570 0506 002B     		cmp	r3, #0
 1571 0508 00F0ED80 		beq	.L118
1414:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG,
 1572              		.loc 1 1414 0
 1573 050c 294B     		ldr	r3, .L216+32
 1574 050e DB68     		ldr	r3, [r3, #12]
 1575 0510 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1576 0512 FFF7FEFF 		bl	lwip_htons
 1577              	.LVL137:
 1578 0516 10F0010F 		tst	r0, #1
 1579 051a 68D1     		bne	.L119
1426:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Remove all segments on ooseq that are covered by inseg already.
 1580              		.loc 1 1426 0
 1581 051c 256F     		ldr	r5, [r4, #112]
 1582              	.LVL138:
1429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    TCP_SEQ_GEQ(seqno + tcplen,
 1583              		.loc 1 1429 0
 1584 051e 77E0     		b	.L122
 1585              	.LVL139:
 1586              	.L166:
1386:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1587              		.loc 1 1386 0
 1588 0520 0023     		movs	r3, #0
 1589 0522 E8E7     		b	.L113
 1590              	.L202:
1393:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Must remove the FIN from the header as we're trimming
 1591              		.loc 1 1393 0
 1592 0524 234B     		ldr	r3, .L216+32
 1593 0526 DB68     		ldr	r3, [r3, #12]
 1594 0528 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1595 052a FFF7FEFF 		bl	lwip_htons
 1596              	.LVL140:
 1597 052e 10F0010F 		tst	r0, #1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 65


 1598 0532 4BD1     		bne	.L203
 1599              	.L115:
1400:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) {
 1600              		.loc 1 1400 0
 1601 0534 228D     		ldrh	r2, [r4, #40]
 1602 0536 1F4B     		ldr	r3, .L216+32
 1603 0538 1A81     		strh	r2, [r3, #8]	@ movhi
1401:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             inseg.len -= 1;
 1604              		.loc 1 1401 0
 1605 053a DB68     		ldr	r3, [r3, #12]
 1606 053c 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1607 053e FFF7FEFF 		bl	lwip_htons
 1608              	.LVL141:
 1609 0542 10F0020F 		tst	r0, #2
 1610 0546 03D0     		beq	.L116
1402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1611              		.loc 1 1402 0
 1612 0548 1A4A     		ldr	r2, .L216+32
 1613 054a 1389     		ldrh	r3, [r2, #8]
 1614 054c 013B     		subs	r3, r3, #1
 1615 054e 1381     		strh	r3, [r2, #8]	@ movhi
 1616              	.L116:
1404:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcplen = TCP_TCPLEN(&inseg);
 1617              		.loc 1 1404 0
 1618 0550 184D     		ldr	r5, .L216+32
 1619 0552 2989     		ldrh	r1, [r5, #8]
 1620 0554 6868     		ldr	r0, [r5, #4]
 1621 0556 FFF7FEFF 		bl	pbuf_realloc
 1622              	.LVL142:
1405:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 1623              		.loc 1 1405 0
 1624 055a 2E89     		ldrh	r6, [r5, #8]
 1625 055c EB68     		ldr	r3, [r5, #12]
 1626 055e 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1627 0560 FFF7FEFF 		bl	lwip_htons
 1628              	.LVL143:
 1629 0564 10F0030F 		tst	r0, #3
 1630 0568 3FD0     		beq	.L167
 1631 056a 0123     		movs	r3, #1
 1632              	.L117:
1405:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 1633              		.loc 1 1405 0 is_stmt 0 discriminator 4
 1634 056c 3344     		add	r3, r3, r6
 1635 056e 9BB2     		uxth	r3, r3
 1636 0570 0D4A     		ldr	r2, .L216+20
 1637 0572 1380     		strh	r3, [r2]	@ movhi
1406:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
 1638              		.loc 1 1406 0 is_stmt 1 discriminator 4
 1639 0574 0D4A     		ldr	r2, .L216+24
 1640 0576 1268     		ldr	r2, [r2]
 1641 0578 1344     		add	r3, r3, r2
 1642 057a 626A     		ldr	r2, [r4, #36]
 1643 057c 218D     		ldrh	r1, [r4, #40]
 1644 057e 0A44     		add	r2, r2, r1
 1645 0580 9342     		cmp	r3, r2
 1646 0582 BFD0     		beq	.L114
1406:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 66


 1647              		.loc 1 1406 0 is_stmt 0 discriminator 1
 1648 0584 034B     		ldr	r3, .L216
 1649 0586 40F27F52 		movw	r2, #1407
 1650 058a 0F49     		ldr	r1, .L216+52
 1651 058c 0348     		ldr	r0, .L216+8
 1652 058e FFF7FEFF 		bl	printf
 1653              	.LVL144:
 1654 0592 B7E7     		b	.L114
 1655              	.L217:
 1656              		.align	2
 1657              	.L216:
 1658 0594 00000000 		.word	.LC0
 1659 0598 74000000 		.word	.LC3
 1660 059c 4C000000 		.word	.LC2
 1661 05a0 00000000 		.word	.LANCHOR10
 1662 05a4 00000000 		.word	.LANCHOR9
 1663 05a8 00000000 		.word	.LANCHOR8
 1664 05ac 00000000 		.word	.LANCHOR7
 1665 05b0 00000000 		.word	tcp_ticks
 1666 05b4 00000000 		.word	.LANCHOR11
 1667 05b8 BC000000 		.word	.LC5
 1668 05bc CC000000 		.word	.LC6
 1669 05c0 DC000000 		.word	.LC7
 1670 05c4 EC000000 		.word	.LC8
 1671 05c8 00010000 		.word	.LC9
 1672              	.L203:
1396:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1673              		.loc 1 1396 0 is_stmt 1
 1674 05cc A94B     		ldr	r3, .L218
 1675 05ce DE68     		ldr	r6, [r3, #12]
 1676 05d0 B089     		ldrh	r0, [r6, #12]	@ unaligned
 1677 05d2 20F47C55 		bic	r5, r0, #16128
 1678 05d6 ADB2     		uxth	r5, r5
 1679 05d8 FFF7FEFF 		bl	lwip_htons
 1680              	.LVL145:
 1681 05dc 00F03E00 		and	r0, r0, #62
 1682 05e0 FFF7FEFF 		bl	lwip_htons
 1683              	.LVL146:
 1684 05e4 2843     		orrs	r0, r0, r5
 1685 05e6 B081     		strh	r0, [r6, #12]	@ unaligned
 1686 05e8 A4E7     		b	.L115
 1687              	.L167:
1405:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 1688              		.loc 1 1405 0
 1689 05ea 0023     		movs	r3, #0
 1690 05ec BEE7     		b	.L117
 1691              	.L119:
1420:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               struct tcp_seg *old_ooseq = pcb->ooseq;
 1692              		.loc 1 1420 0
 1693 05ee 206F     		ldr	r0, [r4, #112]
 1694 05f0 0028     		cmp	r0, #0
 1695 05f2 78D0     		beq	.L118
 1696              	.LVL147:
 1697              	.LBB9:
1422:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(old_ooseq);
 1698              		.loc 1 1422 0
 1699 05f4 0368     		ldr	r3, [r0]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 67


 1700 05f6 2367     		str	r3, [r4, #112]
1423:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 1701              		.loc 1 1423 0
 1702 05f8 FFF7FEFF 		bl	tcp_seg_free
 1703              	.LVL148:
 1704 05fc F7E7     		b	.L119
 1705              	.LVL149:
 1706              	.L168:
 1707              	.LBE9:
1436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1708              		.loc 1 1436 0
 1709 05fe 0023     		movs	r3, #0
 1710              	.L124:
1436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1711              		.loc 1 1436 0 is_stmt 0 discriminator 4
 1712 0600 3B44     		add	r3, r3, r7
 1713 0602 9D4A     		ldr	r2, .L218+4
 1714 0604 1380     		strh	r3, [r2]	@ movhi
 1715              	.L123:
 1716              	.LVL150:
1439:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(prev);
 1717              		.loc 1 1439 0 is_stmt 1
 1718 0606 2E68     		ldr	r6, [r5]
 1719              	.LVL151:
1440:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 1720              		.loc 1 1440 0
 1721 0608 2846     		mov	r0, r5
 1722 060a FFF7FEFF 		bl	tcp_seg_free
 1723              	.LVL152:
1439:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(prev);
 1724              		.loc 1 1439 0
 1725 060e 3546     		mov	r5, r6
 1726              	.LVL153:
 1727              	.L122:
1429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    TCP_SEQ_GEQ(seqno + tcplen,
 1728              		.loc 1 1429 0
 1729 0610 75B3     		cbz	r5, .L125
1430:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                next->tcphdr->seqno + next->len)) {
 1730              		.loc 1 1430 0 discriminator 1
 1731 0612 994B     		ldr	r3, .L218+4
 1732 0614 1B88     		ldrh	r3, [r3]
 1733 0616 994A     		ldr	r2, .L218+8
 1734 0618 1268     		ldr	r2, [r2]
 1735 061a 1344     		add	r3, r3, r2
 1736 061c E968     		ldr	r1, [r5, #12]
 1737 061e 4A68     		ldr	r2, [r1, #4]	@ unaligned
 1738 0620 2889     		ldrh	r0, [r5, #8]
 1739 0622 0244     		add	r2, r2, r0
 1740 0624 9B1A     		subs	r3, r3, r2
1429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    TCP_SEQ_GEQ(seqno + tcplen,
 1741              		.loc 1 1429 0 discriminator 1
 1742 0626 002B     		cmp	r3, #0
 1743 0628 22DB     		blt	.L125
1433:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) == 0) {
 1744              		.loc 1 1433 0
 1745 062a 8889     		ldrh	r0, [r1, #12]	@ unaligned
 1746 062c FFF7FEFF 		bl	lwip_htons
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 68


 1747              	.LVL154:
 1748 0630 10F0010F 		tst	r0, #1
 1749 0634 E7D0     		beq	.L123
1434:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCPH_SET_FLAG(inseg.tcphdr, TCP_FIN);
 1750              		.loc 1 1434 0 discriminator 1
 1751 0636 8F4B     		ldr	r3, .L218
 1752 0638 DB68     		ldr	r3, [r3, #12]
 1753 063a 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1754 063c FFF7FEFF 		bl	lwip_htons
 1755              	.LVL155:
1433:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) == 0) {
 1756              		.loc 1 1433 0 discriminator 1
 1757 0640 10F0020F 		tst	r0, #2
 1758 0644 DFD1     		bne	.L123
1435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 tcplen = TCP_TCPLEN(&inseg);
 1759              		.loc 1 1435 0
 1760 0646 8B4E     		ldr	r6, .L218
 1761 0648 D6F80C80 		ldr	r8, [r6, #12]
 1762 064c B8F80C70 		ldrh	r7, [r8, #12]	@ unaligned
 1763 0650 0120     		movs	r0, #1
 1764 0652 FFF7FEFF 		bl	lwip_htons
 1765              	.LVL156:
 1766 0656 3843     		orrs	r0, r0, r7
 1767 0658 A8F80C00 		strh	r0, [r8, #12]	@ unaligned
1436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1768              		.loc 1 1436 0
 1769 065c 3789     		ldrh	r7, [r6, #8]
 1770 065e F368     		ldr	r3, [r6, #12]
 1771 0660 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1772 0662 FFF7FEFF 		bl	lwip_htons
 1773              	.LVL157:
 1774 0666 10F0030F 		tst	r0, #3
 1775 066a C8D0     		beq	.L168
 1776 066c 0123     		movs	r3, #1
 1777 066e C7E7     		b	.L124
 1778              	.L125:
1444:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCP_SEQ_GT(seqno + tcplen,
 1779              		.loc 1 1444 0
 1780 0670 002D     		cmp	r5, #0
 1781 0672 37D0     		beq	.L127
1445:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            next->tcphdr->seqno)) {
 1782              		.loc 1 1445 0 discriminator 1
 1783 0674 814B     		ldr	r3, .L218+8
 1784 0676 1968     		ldr	r1, [r3]
 1785 0678 7F4B     		ldr	r3, .L218+4
 1786 067a 1B88     		ldrh	r3, [r3]
 1787 067c 0B44     		add	r3, r3, r1
 1788 067e EA68     		ldr	r2, [r5, #12]
 1789 0680 5268     		ldr	r2, [r2, #4]	@ unaligned
 1790 0682 9B1A     		subs	r3, r3, r2
1444:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCP_SEQ_GT(seqno + tcplen,
 1791              		.loc 1 1444 0 discriminator 1
 1792 0684 002B     		cmp	r3, #0
 1793 0686 2DDD     		ble	.L127
1448:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) {
 1794              		.loc 1 1448 0
 1795 0688 521A     		subs	r2, r2, r1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 69


 1796 068a 7A4B     		ldr	r3, .L218
 1797 068c 1A81     		strh	r2, [r3, #8]	@ movhi
1449:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 inseg.len -= 1;
 1798              		.loc 1 1449 0
 1799 068e DB68     		ldr	r3, [r3, #12]
 1800 0690 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1801 0692 FFF7FEFF 		bl	lwip_htons
 1802              	.LVL158:
 1803 0696 10F0020F 		tst	r0, #2
 1804 069a 03D0     		beq	.L128
1450:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1805              		.loc 1 1450 0
 1806 069c 754A     		ldr	r2, .L218
 1807 069e 1389     		ldrh	r3, [r2, #8]
 1808 06a0 013B     		subs	r3, r3, #1
 1809 06a2 1381     		strh	r3, [r2, #8]	@ movhi
 1810              	.L128:
1452:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcplen = TCP_TCPLEN(&inseg);
 1811              		.loc 1 1452 0
 1812 06a4 734E     		ldr	r6, .L218
 1813 06a6 3189     		ldrh	r1, [r6, #8]
 1814 06a8 7068     		ldr	r0, [r6, #4]
 1815 06aa FFF7FEFF 		bl	pbuf_realloc
 1816              	.LVL159:
1453:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               LWIP_ASSERT("tcp_receive: segment not trimmed correctly to ooseq queue\n",
 1817              		.loc 1 1453 0
 1818 06ae 3789     		ldrh	r7, [r6, #8]
 1819 06b0 F368     		ldr	r3, [r6, #12]
 1820 06b2 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1821 06b4 FFF7FEFF 		bl	lwip_htons
 1822              	.LVL160:
 1823 06b8 10F0030F 		tst	r0, #3
 1824 06bc 3BD0     		beq	.L169
 1825 06be 0123     		movs	r3, #1
 1826              	.L129:
1453:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               LWIP_ASSERT("tcp_receive: segment not trimmed correctly to ooseq queue\n",
 1827              		.loc 1 1453 0 is_stmt 0 discriminator 4
 1828 06c0 3B44     		add	r3, r3, r7
 1829 06c2 9BB2     		uxth	r3, r3
 1830 06c4 6C4A     		ldr	r2, .L218+4
 1831 06c6 1380     		strh	r3, [r2]	@ movhi
1454:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                           (seqno + tcplen) == next->tcphdr->seqno);
 1832              		.loc 1 1454 0 is_stmt 1 discriminator 4
 1833 06c8 6C4A     		ldr	r2, .L218+8
 1834 06ca 1268     		ldr	r2, [r2]
 1835 06cc 1344     		add	r3, r3, r2
 1836 06ce EA68     		ldr	r2, [r5, #12]
 1837 06d0 5268     		ldr	r2, [r2, #4]	@ unaligned
 1838 06d2 9342     		cmp	r3, r2
 1839 06d4 06D0     		beq	.L127
1454:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                           (seqno + tcplen) == next->tcphdr->seqno);
 1840              		.loc 1 1454 0 is_stmt 0 discriminator 1
 1841 06d6 6A4B     		ldr	r3, .L218+12
 1842 06d8 40F2AF52 		movw	r2, #1455
 1843 06dc 6949     		ldr	r1, .L218+16
 1844 06de 6A48     		ldr	r0, .L218+20
 1845 06e0 FFF7FEFF 		bl	printf
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 70


 1846              	.LVL161:
 1847              	.L127:
1457:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1848              		.loc 1 1457 0 is_stmt 1
 1849 06e4 2567     		str	r5, [r4, #112]
 1850              	.LVL162:
 1851              	.L118:
1462:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1852              		.loc 1 1462 0
 1853 06e6 644B     		ldr	r3, .L218+4
 1854 06e8 1A88     		ldrh	r2, [r3]
 1855 06ea 644B     		ldr	r3, .L218+8
 1856 06ec 1B68     		ldr	r3, [r3]
 1857 06ee 1344     		add	r3, r3, r2
 1858 06f0 6362     		str	r3, [r4, #36]
1465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_wnd -= tcplen;
 1859              		.loc 1 1465 0
 1860 06f2 238D     		ldrh	r3, [r4, #40]
 1861 06f4 9A42     		cmp	r2, r3
 1862 06f6 20D8     		bhi	.L204
 1863              	.L130:
1466:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1864              		.loc 1 1466 0
 1865 06f8 238D     		ldrh	r3, [r4, #40]
 1866 06fa 5F4A     		ldr	r2, .L218+4
 1867 06fc 1288     		ldrh	r2, [r2]
 1868 06fe 9B1A     		subs	r3, r3, r2
 1869 0700 2385     		strh	r3, [r4, #40]	@ movhi
1468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1870              		.loc 1 1468 0
 1871 0702 2046     		mov	r0, r4
 1872 0704 FFF7FEFF 		bl	tcp_update_rcv_ann_wnd
 1873              	.LVL163:
1479:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_data = inseg.p;
 1874              		.loc 1 1479 0
 1875 0708 5A4B     		ldr	r3, .L218
 1876 070a 5B68     		ldr	r3, [r3, #4]
 1877 070c 1A89     		ldrh	r2, [r3, #8]
 1878 070e 22B1     		cbz	r2, .L131
1480:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Since this pbuf now is the responsibility of the
 1879              		.loc 1 1480 0
 1880 0710 5E4A     		ldr	r2, .L218+24
 1881 0712 1360     		str	r3, [r2]
1484:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1882              		.loc 1 1484 0
 1883 0714 0022     		movs	r2, #0
 1884 0716 574B     		ldr	r3, .L218
 1885 0718 5A60     		str	r2, [r3, #4]
 1886              	.L131:
1486:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: received FIN.\n"));
 1887              		.loc 1 1486 0
 1888 071a 564B     		ldr	r3, .L218
 1889 071c DB68     		ldr	r3, [r3, #12]
 1890 071e 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1891 0720 FFF7FEFF 		bl	lwip_htons
 1892              	.LVL164:
 1893 0724 10F0010F 		tst	r0, #1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 71


 1894 0728 35D0     		beq	.L133
1488:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1895              		.loc 1 1488 0
 1896 072a 594A     		ldr	r2, .L218+28
 1897 072c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1898 072e 43F02003 		orr	r3, r3, #32
 1899 0732 1370     		strb	r3, [r2]
 1900 0734 2FE0     		b	.L133
 1901              	.LVL165:
 1902              	.L169:
1453:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               LWIP_ASSERT("tcp_receive: segment not trimmed correctly to ooseq queue\n",
 1903              		.loc 1 1453 0
 1904 0736 0023     		movs	r3, #0
 1905 0738 C2E7     		b	.L129
 1906              	.LVL166:
 1907              	.L204:
1465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_wnd -= tcplen;
 1908              		.loc 1 1465 0 discriminator 1
 1909 073a 514B     		ldr	r3, .L218+12
 1910 073c 40F2B952 		movw	r2, #1465
 1911 0740 5449     		ldr	r1, .L218+32
 1912 0742 5148     		ldr	r0, .L218+20
 1913 0744 FFF7FEFF 		bl	printf
 1914              	.LVL167:
 1915 0748 D6E7     		b	.L130
 1916              	.LVL168:
 1917              	.L170:
1500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: ooseq tcplen > rcv_wnd\n",
 1918              		.loc 1 1500 0
 1919 074a 0023     		movs	r3, #0
 1920 074c 35E0     		b	.L134
 1921              	.L171:
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 1922              		.loc 1 1501 0
 1923 074e 0023     		movs	r3, #0
 1924 0750 41E0     		b	.L135
 1925              	.L206:
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 1926              		.loc 1 1501 0 is_stmt 0 discriminator 5
 1927 0752 4B4B     		ldr	r3, .L218+12
 1928 0754 40F2DE52 		movw	r2, #1502
 1929 0758 4F49     		ldr	r1, .L218+36
 1930 075a 4B48     		ldr	r0, .L218+20
 1931 075c FFF7FEFF 		bl	printf
 1932              	.LVL169:
 1933 0760 3CE0     		b	.L136
 1934              	.L172:
1503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1935              		.loc 1 1503 0 is_stmt 1
 1936 0762 0023     		movs	r3, #0
 1937 0764 43E0     		b	.L137
 1938              	.L139:
1516:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 1939              		.loc 1 1516 0
 1940 0766 494B     		ldr	r3, .L218+24
 1941 0768 1960     		str	r1, [r3]
 1942              	.L140:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 72


1518:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1943              		.loc 1 1518 0
 1944 076a 0023     		movs	r3, #0
 1945 076c 6B60     		str	r3, [r5, #4]
 1946              	.L138:
1520:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: dequeued FIN.\n"));
 1947              		.loc 1 1520 0
 1948 076e EB68     		ldr	r3, [r5, #12]
 1949 0770 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1950 0772 FFF7FEFF 		bl	lwip_htons
 1951              	.LVL170:
 1952 0776 10F0010F 		tst	r0, #1
 1953 077a 07D0     		beq	.L141
1522:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->state == ESTABLISHED) { /* force passive close or we can move to active close 
 1954              		.loc 1 1522 0
 1955 077c 444A     		ldr	r2, .L218+28
 1956 077e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1957 0780 43F02003 		orr	r3, r3, #32
 1958 0784 1370     		strb	r3, [r2]
1523:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->state = CLOSE_WAIT;
 1959              		.loc 1 1523 0
 1960 0786 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1961 0788 042B     		cmp	r3, #4
 1962 078a 42D0     		beq	.L205
 1963              	.L141:
1528:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_seg_free(cseg);
 1964              		.loc 1 1528 0
 1965 078c 2B68     		ldr	r3, [r5]
 1966 078e 2367     		str	r3, [r4, #112]
1529:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1967              		.loc 1 1529 0
 1968 0790 2846     		mov	r0, r5
 1969 0792 FFF7FEFF 		bl	tcp_seg_free
 1970              	.LVL171:
 1971              	.L133:
1494:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->ooseq->tcphdr->seqno == pcb->rcv_nxt) {
 1972              		.loc 1 1494 0
 1973 0796 256F     		ldr	r5, [r4, #112]
 1974 0798 002D     		cmp	r5, #0
 1975 079a 3DD0     		beq	.L142
1495:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1976              		.loc 1 1495 0 discriminator 1
 1977 079c EA68     		ldr	r2, [r5, #12]
 1978 079e 5368     		ldr	r3, [r2, #4]	@ unaligned
 1979 07a0 616A     		ldr	r1, [r4, #36]
1494:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->ooseq->tcphdr->seqno == pcb->rcv_nxt) {
 1980              		.loc 1 1494 0 discriminator 1
 1981 07a2 8B42     		cmp	r3, r1
 1982 07a4 38D1     		bne	.L142
 1983              	.LVL172:
1498:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1984              		.loc 1 1498 0
 1985 07a6 3549     		ldr	r1, .L218+8
 1986 07a8 0B60     		str	r3, [r1]
1500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: ooseq tcplen > rcv_wnd\n",
 1987              		.loc 1 1500 0
 1988 07aa 2E89     		ldrh	r6, [r5, #8]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 73


 1989 07ac 9089     		ldrh	r0, [r2, #12]	@ unaligned
 1990 07ae FFF7FEFF 		bl	lwip_htons
 1991              	.LVL173:
 1992 07b2 10F0030F 		tst	r0, #3
 1993 07b6 C8D0     		beq	.L170
 1994 07b8 0123     		movs	r3, #1
 1995              	.L134:
1500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: ooseq tcplen > rcv_wnd\n",
 1996              		.loc 1 1500 0 is_stmt 0 discriminator 4
 1997 07ba 9A19     		adds	r2, r3, r6
 1998 07bc 636A     		ldr	r3, [r4, #36]
 1999 07be 1344     		add	r3, r3, r2
 2000 07c0 6362     		str	r3, [r4, #36]
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 2001              		.loc 1 1501 0 is_stmt 1 discriminator 4
 2002 07c2 268D     		ldrh	r6, [r4, #40]
 2003 07c4 2F89     		ldrh	r7, [r5, #8]
 2004 07c6 EB68     		ldr	r3, [r5, #12]
 2005 07c8 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2006 07ca FFF7FEFF 		bl	lwip_htons
 2007              	.LVL174:
 2008 07ce 10F0030F 		tst	r0, #3
 2009 07d2 BCD0     		beq	.L171
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 2010              		.loc 1 1501 0 is_stmt 0
 2011 07d4 0123     		movs	r3, #1
 2012              	.L135:
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 2013              		.loc 1 1501 0 discriminator 4
 2014 07d6 3B44     		add	r3, r3, r7
 2015 07d8 9E42     		cmp	r6, r3
 2016 07da BAD3     		bcc	.L206
 2017              	.L136:
1503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2018              		.loc 1 1503 0 is_stmt 1
 2019 07dc 2E89     		ldrh	r6, [r5, #8]
 2020 07de EB68     		ldr	r3, [r5, #12]
 2021 07e0 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2022 07e2 FFF7FEFF 		bl	lwip_htons
 2023              	.LVL175:
 2024 07e6 10F0030F 		tst	r0, #3
 2025 07ea BAD0     		beq	.L172
 2026 07ec 0123     		movs	r3, #1
 2027              	.L137:
1503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2028              		.loc 1 1503 0 is_stmt 0 discriminator 4
 2029 07ee 9A19     		adds	r2, r3, r6
 2030 07f0 238D     		ldrh	r3, [r4, #40]
 2031 07f2 9B1A     		subs	r3, r3, r2
 2032 07f4 2385     		strh	r3, [r4, #40]	@ movhi
1505:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2033              		.loc 1 1505 0 is_stmt 1 discriminator 4
 2034 07f6 2046     		mov	r0, r4
 2035 07f8 FFF7FEFF 		bl	tcp_update_rcv_ann_wnd
 2036              	.LVL176:
1507:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Chain this pbuf onto the pbuf that we will pass to
 2037              		.loc 1 1507 0 discriminator 4
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 74


 2038 07fc 6968     		ldr	r1, [r5, #4]
 2039 07fe 0B89     		ldrh	r3, [r1, #8]
 2040 0800 002B     		cmp	r3, #0
 2041 0802 B4D0     		beq	.L138
1513:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_cat(recv_data, cseg->p);
 2042              		.loc 1 1513 0
 2043 0804 214B     		ldr	r3, .L218+24
 2044 0806 1868     		ldr	r0, [r3]
 2045 0808 0028     		cmp	r0, #0
 2046 080a ACD0     		beq	.L139
1514:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             } else {
 2047              		.loc 1 1514 0
 2048 080c FFF7FEFF 		bl	pbuf_cat
 2049              	.LVL177:
 2050 0810 ABE7     		b	.L140
 2051              	.L205:
1524:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 2052              		.loc 1 1524 0
 2053 0812 0723     		movs	r3, #7
 2054 0814 2375     		strb	r3, [r4, #20]
 2055 0816 B9E7     		b	.L141
 2056              	.LVL178:
 2057              	.L142:
1535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2058              		.loc 1 1535 0
 2059 0818 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2060 081a 13F0010F 		tst	r3, #1
 2061 081e 06D0     		beq	.L144
1535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2062              		.loc 1 1535 0 is_stmt 0 discriminator 1
 2063 0820 03F0FE03 		and	r3, r3, #254
 2064 0824 43F00203 		orr	r3, r3, #2
 2065 0828 A376     		strb	r3, [r4, #26]
 2066 082a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2067              	.LVL179:
 2068              	.L144:
1535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2069              		.loc 1 1535 0 discriminator 2
 2070 082e 43F00103 		orr	r3, r3, #1
 2071 0832 A376     		strb	r3, [r4, #26]
 2072 0834 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2073              	.LVL180:
 2074              	.L201:
1550:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
 2075              		.loc 1 1550 0 is_stmt 1
 2076 0838 0E48     		ldr	r0, .L218
 2077 083a FFF7FEFF 		bl	tcp_seg_copy
 2078              	.LVL181:
 2079 083e 2067     		str	r0, [r4, #112]
 2080 0840 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2081              	.LVL182:
 2082              	.L210:
1571:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* The incoming segment is larger than the old
 2083              		.loc 1 1571 0
 2084 0844 0B4B     		ldr	r3, .L218
 2085 0846 1A89     		ldrh	r2, [r3, #8]
 2086 0848 2B89     		ldrh	r3, [r5, #8]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 75


 2087 084a 9A42     		cmp	r2, r3
 2088 084c 40F2EE80 		bls	.L68
1575:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (cseg != NULL) {
 2089              		.loc 1 1575 0
 2090 0850 0848     		ldr	r0, .L218
 2091 0852 FFF7FEFF 		bl	tcp_seg_copy
 2092              	.LVL183:
1576:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (prev != NULL) {
 2093              		.loc 1 1576 0
 2094 0856 0346     		mov	r3, r0
 2095 0858 0028     		cmp	r0, #0
 2096 085a 00F0E780 		beq	.L68
1577:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     prev->next = cseg;
 2097              		.loc 1 1577 0
 2098 085e 36B1     		cbz	r6, .L148
1578:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   } else {
 2099              		.loc 1 1578 0
 2100 0860 3060     		str	r0, [r6]
 2101              	.L149:
1582:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
 2102              		.loc 1 1582 0
 2103 0862 2946     		mov	r1, r5
 2104 0864 1846     		mov	r0, r3
 2105              	.LVL184:
 2106 0866 FFF7FEFF 		bl	tcp_oos_insert_segment
 2107              	.LVL185:
 2108 086a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2109              	.LVL186:
 2110              	.L148:
1580:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
 2111              		.loc 1 1580 0
 2112 086e 2067     		str	r0, [r4, #112]
 2113 0870 F7E7     		b	.L149
 2114              	.L219:
 2115 0872 00BF     		.align	2
 2116              	.L218:
 2117 0874 00000000 		.word	.LANCHOR11
 2118 0878 00000000 		.word	.LANCHOR8
 2119 087c 00000000 		.word	.LANCHOR7
 2120 0880 00000000 		.word	.LC0
 2121 0884 38010000 		.word	.LC10
 2122 0888 4C000000 		.word	.LC2
 2123 088c 00000000 		.word	.LANCHOR12
 2124 0890 00000000 		.word	.LANCHOR5
 2125 0894 74010000 		.word	.LC11
 2126 0898 94010000 		.word	.LC12
 2127              	.LVL187:
 2128              	.L211:
1593:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is lower
 2129              		.loc 1 1593 0
 2130 089c 5A1A     		subs	r2, r3, r1
 2131 089e 002A     		cmp	r2, #0
 2132 08a0 35DB     		blt	.L207
 2133              	.L151:
1630:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   TCP_SEQ_GT(seqno, next->tcphdr->seqno)) {
 2134              		.loc 1 1630 0
 2135 08a2 2A68     		ldr	r2, [r5]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 76


 2136 08a4 2E46     		mov	r6, r5
 2137              	.LVL188:
 2138 08a6 002A     		cmp	r2, #0
 2139 08a8 3DD0     		beq	.L208
 2140 08aa 1546     		mov	r5, r2
 2141              	.LVL189:
 2142              	.L146:
1565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (seqno == next->tcphdr->seqno) {
 2143              		.loc 1 1565 0 discriminator 1
 2144 08ac 002D     		cmp	r5, #0
 2145 08ae 00F0AB80 		beq	.L209
1566:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* The sequence number of the incoming segment is the
 2146              		.loc 1 1566 0
 2147 08b2 E868     		ldr	r0, [r5, #12]
 2148 08b4 4168     		ldr	r1, [r0, #4]	@ unaligned
 2149 08b6 5E4B     		ldr	r3, .L220
 2150 08b8 1B68     		ldr	r3, [r3]
 2151 08ba 9942     		cmp	r1, r3
 2152 08bc C2D0     		beq	.L210
1592:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCP_SEQ_LT(seqno, next->tcphdr->seqno)) {
 2153              		.loc 1 1592 0
 2154 08be 002E     		cmp	r6, #0
 2155 08c0 ECD0     		beq	.L211
1608:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is in
 2156              		.loc 1 1608 0
 2157 08c2 F268     		ldr	r2, [r6, #12]
 2158 08c4 5268     		ldr	r2, [r2, #4]	@ unaligned
 2159 08c6 9A1A     		subs	r2, r3, r2
 2160 08c8 012A     		cmp	r2, #1
 2161 08ca EAD4     		bmi	.L151
1608:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is in
 2162              		.loc 1 1608 0 is_stmt 0 discriminator 1
 2163 08cc 5A1A     		subs	r2, r3, r1
 2164 08ce 0132     		adds	r2, r2, #1
 2165 08d0 002A     		cmp	r2, #0
 2166 08d2 E6DC     		bgt	.L151
1614:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (cseg != NULL) {
 2167              		.loc 1 1614 0 is_stmt 1
 2168 08d4 5748     		ldr	r0, .L220+4
 2169 08d6 FFF7FEFF 		bl	tcp_seg_copy
 2170              	.LVL190:
1615:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     if (TCP_SEQ_GT(prev->tcphdr->seqno + prev->len, seqno)) {
 2171              		.loc 1 1615 0
 2172 08da 0446     		mov	r4, r0
 2173              	.LVL191:
 2174 08dc 0028     		cmp	r0, #0
 2175 08de 00F0A580 		beq	.L68
1616:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       /* We need to trim the prev segment. */
 2176              		.loc 1 1616 0
 2177 08e2 F368     		ldr	r3, [r6, #12]
 2178 08e4 5968     		ldr	r1, [r3, #4]	@ unaligned
 2179 08e6 3289     		ldrh	r2, [r6, #8]
 2180 08e8 0A44     		add	r2, r2, r1
 2181 08ea 514B     		ldr	r3, .L220
 2182 08ec 1B68     		ldr	r3, [r3]
 2183 08ee D21A     		subs	r2, r2, r3
 2184 08f0 002A     		cmp	r2, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 77


 2185 08f2 05DD     		ble	.L152
1618:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pbuf_realloc(prev->p, prev->len);
 2186              		.loc 1 1618 0
 2187 08f4 5B1A     		subs	r3, r3, r1
 2188 08f6 99B2     		uxth	r1, r3
 2189 08f8 3181     		strh	r1, [r6, #8]	@ movhi
1619:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     }
 2190              		.loc 1 1619 0
 2191 08fa 7068     		ldr	r0, [r6, #4]
 2192              	.LVL192:
 2193 08fc FFF7FEFF 		bl	pbuf_realloc
 2194              	.LVL193:
 2195              	.L152:
1621:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcp_oos_insert_segment(cseg, next);
 2196              		.loc 1 1621 0
 2197 0900 3460     		str	r4, [r6]
1622:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
 2198              		.loc 1 1622 0
 2199 0902 2946     		mov	r1, r5
 2200 0904 2046     		mov	r0, r4
 2201 0906 FFF7FEFF 		bl	tcp_oos_insert_segment
 2202              	.LVL194:
 2203 090a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2204              	.LVL195:
 2205              	.L207:
1598:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (cseg != NULL) {
 2206              		.loc 1 1598 0
 2207 090e 4948     		ldr	r0, .L220+4
 2208 0910 FFF7FEFF 		bl	tcp_seg_copy
 2209              	.LVL196:
1599:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pcb->ooseq = cseg;
 2210              		.loc 1 1599 0
 2211 0914 0028     		cmp	r0, #0
 2212 0916 00F08980 		beq	.L68
1600:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcp_oos_insert_segment(cseg, next);
 2213              		.loc 1 1600 0
 2214 091a 2067     		str	r0, [r4, #112]
1601:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
 2215              		.loc 1 1601 0
 2216 091c 2946     		mov	r1, r5
 2217 091e FFF7FEFF 		bl	tcp_oos_insert_segment
 2218              	.LVL197:
 2219 0922 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2220              	.LVL198:
 2221              	.L208:
1631:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCPH_FLAGS(next->tcphdr) & TCP_FIN) {
 2222              		.loc 1 1631 0 discriminator 1
 2223 0926 5B1A     		subs	r3, r3, r1
1630:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   TCP_SEQ_GT(seqno, next->tcphdr->seqno)) {
 2224              		.loc 1 1630 0 discriminator 1
 2225 0928 002B     		cmp	r3, #0
 2226 092a 01DC     		bgt	.L212
 2227 092c 1546     		mov	r5, r2
 2228              	.LVL199:
 2229 092e BDE7     		b	.L146
 2230              	.LVL200:
 2231              	.L212:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 78


1632:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* segment "next" already contains all data */
 2232              		.loc 1 1632 0
 2233 0930 8089     		ldrh	r0, [r0, #12]	@ unaligned
 2234 0932 FFF7FEFF 		bl	lwip_htons
 2235              	.LVL201:
 2236 0936 10F0010F 		tst	r0, #1
 2237 093a 77D1     		bne	.L68
1636:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (next->next != NULL) {
 2238              		.loc 1 1636 0
 2239 093c 3D48     		ldr	r0, .L220+4
 2240 093e FFF7FEFF 		bl	tcp_seg_copy
 2241              	.LVL202:
 2242 0942 2860     		str	r0, [r5]
1637:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (TCP_SEQ_GT(next->tcphdr->seqno + next->len, seqno)) {
 2243              		.loc 1 1637 0
 2244 0944 0028     		cmp	r0, #0
 2245 0946 71D0     		beq	.L68
1638:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     /* We need to trim the last segment. */
 2246              		.loc 1 1638 0
 2247 0948 EB68     		ldr	r3, [r5, #12]
 2248 094a 5968     		ldr	r1, [r3, #4]	@ unaligned
 2249 094c 2A89     		ldrh	r2, [r5, #8]
 2250 094e 0A44     		add	r2, r2, r1
 2251 0950 374B     		ldr	r3, .L220
 2252 0952 1B68     		ldr	r3, [r3]
 2253 0954 D21A     		subs	r2, r2, r3
 2254 0956 002A     		cmp	r2, #0
 2255 0958 05DD     		ble	.L153
1640:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pbuf_realloc(next->p, next->len);
 2256              		.loc 1 1640 0
 2257 095a 5B1A     		subs	r3, r3, r1
 2258 095c 99B2     		uxth	r1, r3
 2259 095e 2981     		strh	r1, [r5, #8]	@ movhi
1641:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
 2260              		.loc 1 1641 0
 2261 0960 6868     		ldr	r0, [r5, #4]
 2262 0962 FFF7FEFF 		bl	pbuf_realloc
 2263              	.LVL203:
 2264              	.L153:
1644:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_DEBUGF(TCP_INPUT_DEBUG,
 2265              		.loc 1 1644 0
 2266 0966 344B     		ldr	r3, .L220+8
 2267 0968 1B88     		ldrh	r3, [r3]
 2268 096a 314A     		ldr	r2, .L220
 2269 096c 1268     		ldr	r2, [r2]
 2270 096e 1344     		add	r3, r3, r2
 2271 0970 626A     		ldr	r2, [r4, #36]
 2272 0972 218D     		ldrh	r1, [r4, #40]
 2273 0974 0A44     		add	r2, r2, r1
 2274 0976 9B1A     		subs	r3, r3, r2
 2275 0978 002B     		cmp	r3, #0
 2276 097a 57DD     		ble	.L68
1649:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       /* Must remove the FIN from the header as we're trimming
 2277              		.loc 1 1649 0
 2278 097c 2B68     		ldr	r3, [r5]
 2279 097e DB68     		ldr	r3, [r3, #12]
 2280 0980 9889     		ldrh	r0, [r3, #12]	@ unaligned
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 79


 2281 0982 FFF7FEFF 		bl	lwip_htons
 2282              	.LVL204:
 2283 0986 10F0010F 		tst	r0, #1
 2284 098a 2CD1     		bne	.L213
 2285              	.L154:
1655:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pbuf_realloc(next->next->p, next->next->len);
 2286              		.loc 1 1655 0
 2287 098c 2A68     		ldr	r2, [r5]
 2288 098e 616A     		ldr	r1, [r4, #36]
 2289 0990 238D     		ldrh	r3, [r4, #40]
 2290 0992 0B44     		add	r3, r3, r1
 2291 0994 9BB2     		uxth	r3, r3
 2292 0996 2649     		ldr	r1, .L220
 2293 0998 0968     		ldr	r1, [r1]
 2294 099a 5B1A     		subs	r3, r3, r1
 2295 099c 1381     		strh	r3, [r2, #8]	@ movhi
1656:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcplen = TCP_TCPLEN(next->next);
 2296              		.loc 1 1656 0
 2297 099e 2B68     		ldr	r3, [r5]
 2298 09a0 1989     		ldrh	r1, [r3, #8]
 2299 09a2 5868     		ldr	r0, [r3, #4]
 2300 09a4 FFF7FEFF 		bl	pbuf_realloc
 2301              	.LVL205:
1657:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 2302              		.loc 1 1657 0
 2303 09a8 2B68     		ldr	r3, [r5]
 2304 09aa 1D89     		ldrh	r5, [r3, #8]
 2305              	.LVL206:
 2306 09ac DB68     		ldr	r3, [r3, #12]
 2307 09ae 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2308 09b0 FFF7FEFF 		bl	lwip_htons
 2309              	.LVL207:
 2310 09b4 10F0030F 		tst	r0, #3
 2311 09b8 24D0     		beq	.L176
 2312 09ba 0123     		movs	r3, #1
 2313              	.L155:
1657:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 2314              		.loc 1 1657 0 is_stmt 0 discriminator 4
 2315 09bc 2B44     		add	r3, r3, r5
 2316 09be 9BB2     		uxth	r3, r3
 2317 09c0 1D4A     		ldr	r2, .L220+8
 2318 09c2 1380     		strh	r3, [r2]	@ movhi
1658:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
 2319              		.loc 1 1658 0 is_stmt 1 discriminator 4
 2320 09c4 1A4A     		ldr	r2, .L220
 2321 09c6 1268     		ldr	r2, [r2]
 2322 09c8 1344     		add	r3, r3, r2
 2323 09ca 626A     		ldr	r2, [r4, #36]
 2324 09cc 218D     		ldrh	r1, [r4, #40]
 2325 09ce 0A44     		add	r2, r2, r1
 2326 09d0 9342     		cmp	r3, r2
 2327 09d2 2BD0     		beq	.L68
1658:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
 2328              		.loc 1 1658 0 is_stmt 0 discriminator 1
 2329 09d4 194B     		ldr	r3, .L220+12
 2330 09d6 40F27B62 		movw	r2, #1659
 2331 09da 1949     		ldr	r1, .L220+16
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 80


 2332 09dc 1948     		ldr	r0, .L220+20
 2333 09de FFF7FEFF 		bl	printf
 2334              	.LVL208:
 2335 09e2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2336              	.LVL209:
 2337              	.L213:
1652:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     }
 2338              		.loc 1 1652 0 is_stmt 1
 2339 09e6 2B68     		ldr	r3, [r5]
 2340 09e8 DF68     		ldr	r7, [r3, #12]
 2341 09ea B889     		ldrh	r0, [r7, #12]	@ unaligned
 2342 09ec 20F47C56 		bic	r6, r0, #16128
 2343 09f0 B6B2     		uxth	r6, r6
 2344 09f2 FFF7FEFF 		bl	lwip_htons
 2345              	.LVL210:
 2346 09f6 00F03E00 		and	r0, r0, #62
 2347 09fa FFF7FEFF 		bl	lwip_htons
 2348              	.LVL211:
 2349 09fe 3043     		orrs	r0, r0, r6
 2350 0a00 B881     		strh	r0, [r7, #12]	@ unaligned
 2351 0a02 C3E7     		b	.L154
 2352              	.LVL212:
 2353              	.L176:
1657:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 2354              		.loc 1 1657 0
 2355 0a04 0023     		movs	r3, #0
 2356 0a06 D9E7     		b	.L155
 2357              	.LVL213:
 2358              	.L209:
 2359 0a08 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2360              	.LVL214:
 2361              	.L101:
1702:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 2362              		.loc 1 1702 0
 2363 0a0c 084B     		ldr	r3, .L220
 2364 0a0e 1B68     		ldr	r3, [r3]
 2365 0a10 626A     		ldr	r2, [r4, #36]
 2366 0a12 991A     		subs	r1, r3, r2
 2367 0a14 0029     		cmp	r1, #0
 2368 0a16 05DB     		blt	.L157
1702:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 2369              		.loc 1 1702 0 is_stmt 0 discriminator 1
 2370 0a18 218D     		ldrh	r1, [r4, #40]
 2371 0a1a 0A44     		add	r2, r2, r1
 2372 0a1c 9B1A     		subs	r3, r3, r2
 2373 0a1e 0133     		adds	r3, r3, #1
 2374 0a20 002B     		cmp	r3, #0
 2375 0a22 03DD     		ble	.L68
 2376              	.L157:
1703:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2377              		.loc 1 1703 0 is_stmt 1
 2378 0a24 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2379 0a26 43F00203 		orr	r3, r3, #2
 2380 0a2a A376     		strb	r3, [r4, #26]
 2381              	.LVL215:
 2382              	.L68:
 2383 0a2c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 81


 2384              	.L221:
 2385              		.align	2
 2386              	.L220:
 2387 0a30 00000000 		.word	.LANCHOR7
 2388 0a34 00000000 		.word	.LANCHOR11
 2389 0a38 00000000 		.word	.LANCHOR8
 2390 0a3c 00000000 		.word	.LC0
 2391 0a40 00010000 		.word	.LC9
 2392 0a44 4C000000 		.word	.LC2
 2393              		.cfi_endproc
 2394              	.LFE158:
 2396              		.section	.text.tcp_process,"ax",%progbits
 2397              		.align	1
 2398              		.syntax unified
 2399              		.thumb
 2400              		.thumb_func
 2401              		.fpu fpv5-sp-d16
 2403              	tcp_process:
 2404              	.LFB156:
 710:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *rseg;
 2405              		.loc 1 710 0
 2406              		.cfi_startproc
 2407              		@ args = 0, pretend = 0, frame = 0
 2408              		@ frame_needed = 0, uses_anonymous_args = 0
 2409              	.LVL216:
 2410 0000 70B5     		push	{r4, r5, r6, lr}
 2411              	.LCFI17:
 2412              		.cfi_def_cfa_offset 16
 2413              		.cfi_offset 4, -16
 2414              		.cfi_offset 5, -12
 2415              		.cfi_offset 6, -8
 2416              		.cfi_offset 14, -4
 2417 0002 82B0     		sub	sp, sp, #8
 2418              	.LCFI18:
 2419              		.cfi_def_cfa_offset 24
 2420 0004 0446     		mov	r4, r0
 2421              	.LVL217:
 718:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* First, determine if the reset is acceptable. */
 2422              		.loc 1 718 0
 2423 0006 A34B     		ldr	r3, .L319
 2424 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2425 000a 13F0040F 		tst	r3, #4
 2426 000e 3DD0     		beq	.L223
 720:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* "In the SYN-SENT state (a RST received in response to an initial SYN),
 2427              		.loc 1 720 0
 2428 0010 017D     		ldrb	r1, [r0, #20]	@ zero_extendqisi2
 2429 0012 0229     		cmp	r1, #2
 2430 0014 12D0     		beq	.L291
 729:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         acceptable = 1;
 2431              		.loc 1 729 0
 2432 0016 426A     		ldr	r2, [r0, #36]
 2433 0018 9F4B     		ldr	r3, .L319+4
 2434 001a 1B68     		ldr	r3, [r3]
 2435 001c 9A42     		cmp	r2, r3
 2436 001e 1CD0     		beq	.L264
 731:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   pcb->rcv_nxt + pcb->rcv_wnd)) {
 2437              		.loc 1 731 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 82


 2438 0020 981A     		subs	r0, r3, r2
 2439              	.LVL218:
 2440 0022 0028     		cmp	r0, #0
 2441 0024 1BDB     		blt	.L265
 731:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   pcb->rcv_nxt + pcb->rcv_wnd)) {
 2442              		.loc 1 731 0 is_stmt 0 discriminator 1
 2443 0026 208D     		ldrh	r0, [r4, #40]
 2444 0028 0244     		add	r2, r2, r0
 2445 002a 9B1A     		subs	r3, r3, r2
 2446 002c 002B     		cmp	r3, #0
 2447 002e 0CDD     		ble	.L292
 712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 2448              		.loc 1 712 0 is_stmt 1
 2449 0030 0023     		movs	r3, #0
 2450              	.L225:
 2451              	.LVL219:
 741:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_process: Connection RESET\n"));
 2452              		.loc 1 741 0
 2453 0032 B3B9     		cbnz	r3, .L293
 752:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2454              		.loc 1 752 0
 2455 0034 0025     		movs	r5, #0
 2456              	.LVL220:
 2457              	.L226:
 961:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2458              		.loc 1 961 0
 2459 0036 2846     		mov	r0, r5
 2460 0038 02B0     		add	sp, sp, #8
 2461              	.LCFI19:
 2462              		.cfi_remember_state
 2463              		.cfi_def_cfa_offset 16
 2464              		@ sp needed
 2465 003a 70BD     		pop	{r4, r5, r6, pc}
 2466              	.LVL221:
 2467              	.L291:
 2468              	.LCFI20:
 2469              		.cfi_restore_state
 723:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         acceptable = 1;
 2470              		.loc 1 723 0
 2471 003c C26C     		ldr	r2, [r0, #76]
 2472 003e 974B     		ldr	r3, .L319+8
 2473 0040 1B68     		ldr	r3, [r3]
 2474 0042 9A42     		cmp	r2, r3
 2475 0044 07D0     		beq	.L263
 712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 2476              		.loc 1 712 0
 2477 0046 0023     		movs	r3, #0
 2478 0048 F3E7     		b	.L225
 2479              	.LVL222:
 2480              	.L292:
 737:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2481              		.loc 1 737 0
 2482 004a A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2483 004c 43F00203 		orr	r3, r3, #2
 2484 0050 A376     		strb	r3, [r4, #26]
 712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 2485              		.loc 1 712 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 83


 2486 0052 0023     		movs	r3, #0
 2487 0054 EDE7     		b	.L225
 2488              	.LVL223:
 2489              	.L263:
 724:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2490              		.loc 1 724 0
 2491 0056 0123     		movs	r3, #1
 2492 0058 EBE7     		b	.L225
 2493              	.L264:
 730:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else  if (TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt,
 2494              		.loc 1 730 0
 2495 005a 0123     		movs	r3, #1
 2496 005c E9E7     		b	.L225
 2497              	.LVL224:
 2498              	.L265:
 712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 2499              		.loc 1 712 0
 2500 005e 0023     		movs	r3, #0
 2501 0060 E7E7     		b	.L225
 2502              	.LVL225:
 2503              	.L293:
 743:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_flags |= TF_RESET;
 2504              		.loc 1 743 0
 2505 0062 59B1     		cbz	r1, .L294
 2506              	.LVL226:
 2507              	.L227:
 744:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->flags &= ~TF_ACK_DELAY;
 2508              		.loc 1 744 0
 2509 0064 8E4A     		ldr	r2, .L319+12
 2510 0066 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2511 0068 43F00803 		orr	r3, r3, #8
 2512 006c 1370     		strb	r3, [r2]
 745:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return ERR_RST;
 2513              		.loc 1 745 0
 2514 006e A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2515 0070 23F00103 		bic	r3, r3, #1
 2516 0074 A376     		strb	r3, [r4, #26]
 746:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
 2517              		.loc 1 746 0
 2518 0076 6FF00D05 		mvn	r5, #13
 2519 007a DCE7     		b	.L226
 2520              	.LVL227:
 2521              	.L294:
 743:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_flags |= TF_RESET;
 2522              		.loc 1 743 0 discriminator 1
 2523 007c 894B     		ldr	r3, .L319+16
 2524              	.LVL228:
 2525 007e 40F2E722 		movw	r2, #743
 2526 0082 8949     		ldr	r1, .L319+20
 2527 0084 8948     		ldr	r0, .L319+24
 2528 0086 FFF7FEFF 		bl	printf
 2529              	.LVL229:
 2530 008a EBE7     		b	.L227
 2531              	.LVL230:
 2532              	.L223:
 756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Cope with new connection attempt after remote end crashed */
 2533              		.loc 1 756 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 84


 2534 008c 13F0020F 		tst	r3, #2
 2535 0090 0AD0     		beq	.L228
 756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Cope with new connection attempt after remote end crashed */
 2536              		.loc 1 756 0 is_stmt 0 discriminator 1
 2537 0092 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 2538 0094 023B     		subs	r3, r3, #2
 2539 0096 DBB2     		uxtb	r3, r3
 2540 0098 012B     		cmp	r3, #1
 2541 009a 05D9     		bls	.L228
 758:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return ERR_OK;
 2542              		.loc 1 758 0 is_stmt 1
 2543 009c 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 2544 009e 43F00203 		orr	r3, r3, #2
 2545 00a2 8376     		strb	r3, [r0, #26]
 759:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 2546              		.loc 1 759 0
 2547 00a4 0025     		movs	r5, #0
 2548 00a6 C6E7     		b	.L226
 2549              	.L228:
 762:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Update the PCB (in)activity timer unless rx is closed (see tcp_shutdown) */
 2550              		.loc 1 762 0
 2551 00a8 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2552 00aa 13F0100F 		tst	r3, #16
 2553 00ae 02D1     		bne	.L229
 764:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 2554              		.loc 1 764 0
 2555 00b0 7F4B     		ldr	r3, .L319+28
 2556 00b2 1B68     		ldr	r3, [r3]
 2557 00b4 2362     		str	r3, [r4, #32]
 2558              	.L229:
 766:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2559              		.loc 1 766 0
 2560 00b6 0023     		movs	r3, #0
 2561 00b8 84F89630 		strb	r3, [r4, #150]
 768:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2562              		.loc 1 768 0
 2563 00bc 2046     		mov	r0, r4
 2564              	.LVL231:
 2565 00be FFF7FEFF 		bl	tcp_parseopt
 2566              	.LVL232:
 771:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case SYN_SENT:
 2567              		.loc 1 771 0
 2568 00c2 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 2569 00c4 023B     		subs	r3, r3, #2
 2570 00c6 072B     		cmp	r3, #7
 2571 00c8 00F21982 		bhi	.L268
 2572 00cc DFE813F0 		tbh	[pc, r3, lsl #1]
 2573              	.L231:
 2574 00d0 0800     		.2byte	(.L230-.L231)/2
 2575 00d2 9B00     		.2byte	(.L232-.L231)/2
 2576 00d4 3501     		.2byte	(.L233-.L231)/2
 2577 00d6 4601     		.2byte	(.L234-.L231)/2
 2578 00d8 9C01     		.2byte	(.L235-.L231)/2
 2579 00da 3501     		.2byte	(.L233-.L231)/2
 2580 00dc CA01     		.2byte	(.L236-.L231)/2
 2581 00de FD01     		.2byte	(.L237-.L231)/2
 2582              		.p2align 1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 85


 2583              	.L230:
 776:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         && (ackno == pcb->lastack + 1)) {
 2584              		.loc 1 776 0
 2585 00e0 6C4B     		ldr	r3, .L319
 2586 00e2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2587 00e4 03F01202 		and	r2, r3, #18
 2588 00e8 122A     		cmp	r2, #18
 2589 00ea 04D0     		beq	.L295
 2590              	.L238:
 827:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* send a RST to bring the other side in a non-synchronized state. */
 2591              		.loc 1 827 0
 2592 00ec 13F0100F 		tst	r3, #16
 2593 00f0 6BD1     		bne	.L296
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2594              		.loc 1 960 0
 2595 00f2 0025     		movs	r5, #0
 2596 00f4 9FE7     		b	.L226
 2597              	.L295:
 777:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rcv_nxt = seqno + 1;
 2598              		.loc 1 777 0
 2599 00f6 626C     		ldr	r2, [r4, #68]
 2600 00f8 0132     		adds	r2, r2, #1
 2601 00fa 6849     		ldr	r1, .L319+8
 2602 00fc 0968     		ldr	r1, [r1]
 2603 00fe 8A42     		cmp	r2, r1
 2604 0100 F4D1     		bne	.L238
 778:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rcv_ann_right_edge = pcb->rcv_nxt;
 2605              		.loc 1 778 0
 2606 0102 654B     		ldr	r3, .L319+4
 2607 0104 1B68     		ldr	r3, [r3]
 2608 0106 5A1C     		adds	r2, r3, #1
 2609 0108 6262     		str	r2, [r4, #36]
 779:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->lastack = ackno;
 2610              		.loc 1 779 0
 2611 010a E262     		str	r2, [r4, #44]
 780:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = tcphdr->wnd;
 2612              		.loc 1 780 0
 2613 010c 6164     		str	r1, [r4, #68]
 781:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd_max = pcb->snd_wnd;
 2614              		.loc 1 781 0
 2615 010e 694A     		ldr	r2, .L319+32
 2616 0110 1268     		ldr	r2, [r2]
 2617 0112 D289     		ldrh	r2, [r2, #14]	@ unaligned
 2618 0114 A4F85C20 		strh	r2, [r4, #92]	@ movhi
 782:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl1 = seqno - 1; /* initialise to seqno - 1 to force window update */
 2619              		.loc 1 782 0
 2620 0118 A4F85E20 		strh	r2, [r4, #94]	@ movhi
 783:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = ESTABLISHED;
 2621              		.loc 1 783 0
 2622 011c 013B     		subs	r3, r3, #1
 2623 011e 2365     		str	r3, [r4, #80]
 784:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2624              		.loc 1 784 0
 2625 0120 0423     		movs	r3, #4
 2626 0122 2375     		strb	r3, [r4, #20]
 787:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 2627              		.loc 1 787 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 86


 2628 0124 E118     		adds	r1, r4, r3
 2629 0126 608E     		ldrh	r0, [r4, #50]
 2630 0128 FFF7FEFF 		bl	tcp_eff_send_mss_impl
 2631              	.LVL233:
 2632 012c 6086     		strh	r0, [r4, #50]	@ movhi
 790:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SENT): cwnd %"TCPWNDSIZE_F
 2633              		.loc 1 790 0
 2634 012e 4300     		lsls	r3, r0, #1
 2635 0130 41F21C12 		movw	r2, #4380
 2636 0134 9342     		cmp	r3, r2
 2637 0136 38BF     		it	cc
 2638 0138 1346     		movcc	r3, r2
 2639 013a 8000     		lsls	r0, r0, #2
 2640 013c 8342     		cmp	r3, r0
 2641 013e 28BF     		it	cs
 2642 0140 0346     		movcs	r3, r0
 2643 0142 A4F84830 		strh	r3, [r4, #72]	@ movhi
 794:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       --pcb->snd_queuelen;
 2644              		.loc 1 794 0
 2645 0146 B4F86230 		ldrh	r3, [r4, #98]
 2646 014a 1BB3     		cbz	r3, .L297
 2647              	.L239:
 795:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_process: SYN-SENT --queuelen %"TCPWNDSIZE_F"\n", (tcpwnd_si
 2648              		.loc 1 795 0
 2649 014c B4F86230 		ldrh	r3, [r4, #98]
 2650 0150 013B     		subs	r3, r3, #1
 2651 0152 A4F86230 		strh	r3, [r4, #98]	@ movhi
 797:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (rseg == NULL) {
 2652              		.loc 1 797 0
 2653 0156 E56E     		ldr	r5, [r4, #108]
 2654              	.LVL234:
 798:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* might happen if tcp_output fails in tcp_rexmit_rto()
 2655              		.loc 1 798 0
 2656 0158 25B3     		cbz	r5, .L298
 805:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2657              		.loc 1 805 0
 2658 015a 2B68     		ldr	r3, [r5]
 2659 015c E366     		str	r3, [r4, #108]
 2660              	.L242:
 807:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2661              		.loc 1 807 0
 2662 015e 2846     		mov	r0, r5
 2663 0160 FFF7FEFF 		bl	tcp_seg_free
 2664              	.LVL235:
 811:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = -1;
 2665              		.loc 1 811 0
 2666 0164 E36E     		ldr	r3, [r4, #108]
 2667 0166 53B3     		cbz	r3, .L299
 814:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->nrtx = 0;
 2668              		.loc 1 814 0
 2669 0168 0023     		movs	r3, #0
 2670 016a 2386     		strh	r3, [r4, #48]	@ movhi
 815:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2671              		.loc 1 815 0
 2672 016c 84F84230 		strb	r3, [r4, #66]
 2673              	.L244:
 820:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (err == ERR_ABRT) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 87


 2674              		.loc 1 820 0
 2675 0170 D4F88430 		ldr	r3, [r4, #132]
 2676 0174 3BB3     		cbz	r3, .L269
 820:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (err == ERR_ABRT) {
 2677              		.loc 1 820 0 is_stmt 0 discriminator 1
 2678 0176 0022     		movs	r2, #0
 2679 0178 2146     		mov	r1, r4
 2680 017a 2069     		ldr	r0, [r4, #16]
 2681 017c 9847     		blx	r3
 2682              	.LVL236:
 2683 017e 0546     		mov	r5, r0
 2684              	.LVL237:
 2685              	.L245:
 821:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         return ERR_ABRT;
 2686              		.loc 1 821 0 is_stmt 1
 2687 0180 15F10D0F 		cmn	r5, #13
 2688 0184 3FF457AF 		beq	.L226
 824:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2689              		.loc 1 824 0
 2690 0188 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2691 018a 43F00203 		orr	r3, r3, #2
 2692 018e A376     		strb	r3, [r4, #26]
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2693              		.loc 1 960 0
 2694 0190 0025     		movs	r5, #0
 2695              	.LVL238:
 824:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2696              		.loc 1 824 0
 2697 0192 50E7     		b	.L226
 2698              	.LVL239:
 2699              	.L297:
 794:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       --pcb->snd_queuelen;
 2700              		.loc 1 794 0 discriminator 1
 2701 0194 434B     		ldr	r3, .L319+16
 2702 0196 40F21A32 		movw	r2, #794
 2703 019a 4749     		ldr	r1, .L319+36
 2704 019c 4348     		ldr	r0, .L319+24
 2705 019e FFF7FEFF 		bl	printf
 2706              	.LVL240:
 2707 01a2 D3E7     		b	.L239
 2708              	.LVL241:
 2709              	.L298:
 801:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("no segment to free", rseg != NULL);
 2710              		.loc 1 801 0
 2711 01a4 A56E     		ldr	r5, [r4, #104]
 2712              	.LVL242:
 802:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unsent = rseg->next;
 2713              		.loc 1 802 0
 2714 01a6 15B1     		cbz	r5, .L300
 2715              	.L241:
 803:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 2716              		.loc 1 803 0
 2717 01a8 2B68     		ldr	r3, [r5]
 2718 01aa A366     		str	r3, [r4, #104]
 2719 01ac D7E7     		b	.L242
 2720              	.L300:
 802:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unsent = rseg->next;
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 88


 2721              		.loc 1 802 0 discriminator 1
 2722 01ae 3D4B     		ldr	r3, .L319+16
 2723 01b0 40F22232 		movw	r2, #802
 2724 01b4 4149     		ldr	r1, .L319+40
 2725 01b6 3D48     		ldr	r0, .L319+24
 2726 01b8 FFF7FEFF 		bl	printf
 2727              	.LVL243:
 2728 01bc F4E7     		b	.L241
 2729              	.L299:
 812:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 2730              		.loc 1 812 0
 2731 01be 4FF6FF73 		movw	r3, #65535
 2732 01c2 2386     		strh	r3, [r4, #48]	@ movhi
 2733 01c4 D4E7     		b	.L244
 2734              	.L269:
 820:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (err == ERR_ABRT) {
 2735              		.loc 1 820 0
 2736 01c6 0025     		movs	r5, #0
 2737              	.LVL244:
 2738 01c8 DAE7     		b	.L245
 2739              	.L296:
 830:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Resend SYN immediately (don't wait for rto timeout) to establish
 2740              		.loc 1 830 0
 2741 01ca 3A4B     		ldr	r3, .L319+32
 2742 01cc 1B68     		ldr	r3, [r3]
 829:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 2743              		.loc 1 829 0
 2744 01ce 3C4A     		ldr	r2, .L319+44
 2745 01d0 3C49     		ldr	r1, .L319+48
 2746 01d2 0D88     		ldrh	r5, [r1]
 2747 01d4 3049     		ldr	r1, .L319+4
 2748 01d6 0968     		ldr	r1, [r1]
 2749 01d8 3048     		ldr	r0, .L319+8
 2750 01da 0068     		ldr	r0, [r0]
 2751 01dc 1E88     		ldrh	r6, [r3]	@ unaligned
 2752 01de 0196     		str	r6, [sp, #4]
 2753 01e0 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 2754 01e2 0093     		str	r3, [sp]
 2755 01e4 1346     		mov	r3, r2
 2756 01e6 0432     		adds	r2, r2, #4
 2757 01e8 2944     		add	r1, r1, r5
 2758 01ea FFF7FEFF 		bl	tcp_rst
 2759              	.LVL245:
 834:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = 0;
 2760              		.loc 1 834 0
 2761 01ee 94F84230 		ldrb	r3, [r4, #66]	@ zero_extendqisi2
 2762 01f2 052B     		cmp	r3, #5
 2763 01f4 01D9     		bls	.L301
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2764              		.loc 1 960 0
 2765 01f6 0025     		movs	r5, #0
 2766 01f8 1DE7     		b	.L226
 2767              	.L301:
 835:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_rexmit_rto(pcb);
 2768              		.loc 1 835 0
 2769 01fa 0025     		movs	r5, #0
 2770 01fc 2586     		strh	r5, [r4, #48]	@ movhi
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 89


 836:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2771              		.loc 1 836 0
 2772 01fe 2046     		mov	r0, r4
 2773 0200 FFF7FEFF 		bl	tcp_rexmit_rto
 2774              	.LVL246:
 2775 0204 17E7     		b	.L226
 2776              	.L232:
 841:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* expected ACK number? */
 2777              		.loc 1 841 0
 2778 0206 234B     		ldr	r3, .L319
 2779 0208 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2780 020a 13F0100F 		tst	r3, #16
 2781 020e 00F08380 		beq	.L246
 843:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = ESTABLISHED;
 2782              		.loc 1 843 0
 2783 0212 224B     		ldr	r3, .L319+8
 2784 0214 1868     		ldr	r0, [r3]
 2785 0216 636C     		ldr	r3, [r4, #68]
 2786 0218 C31A     		subs	r3, r0, r3
 2787 021a 012B     		cmp	r3, #1
 2788 021c 03D4     		bmi	.L247
 843:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = ESTABLISHED;
 2789              		.loc 1 843 0 is_stmt 0 discriminator 1
 2790 021e E36C     		ldr	r3, [r4, #76]
 2791 0220 C31A     		subs	r3, r0, r3
 2792 0222 002B     		cmp	r3, #0
 2793 0224 11DD     		ble	.L302
 2794              	.L247:
 891:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2795              		.loc 1 891 0 is_stmt 1
 2796 0226 234B     		ldr	r3, .L319+32
 2797 0228 1B68     		ldr	r3, [r3]
 890:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 2798              		.loc 1 890 0
 2799 022a 254A     		ldr	r2, .L319+44
 2800 022c 2549     		ldr	r1, .L319+48
 2801 022e 0C88     		ldrh	r4, [r1]
 2802              	.LVL247:
 2803 0230 1949     		ldr	r1, .L319+4
 2804 0232 0968     		ldr	r1, [r1]
 2805 0234 1D88     		ldrh	r5, [r3]	@ unaligned
 2806 0236 0195     		str	r5, [sp, #4]
 2807 0238 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 2808 023a 0093     		str	r3, [sp]
 2809 023c 1346     		mov	r3, r2
 2810 023e 0432     		adds	r2, r2, #4
 2811 0240 2144     		add	r1, r1, r4
 2812 0242 FFF7FEFF 		bl	tcp_rst
 2813              	.LVL248:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2814              		.loc 1 960 0
 2815 0246 0025     		movs	r5, #0
 2816 0248 F5E6     		b	.L226
 2817              	.LVL249:
 2818              	.L302:
 844:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection established %"U16_F" -> %"U16_F".\n", inseg.tcphdr-
 2819              		.loc 1 844 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 90


 2820 024a 0423     		movs	r3, #4
 2821 024c 2375     		strb	r3, [r4, #20]
 848:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (pcb->listener == NULL) || (pcb->listener->accept != NULL));
 2822              		.loc 1 848 0
 2823 024e A36F     		ldr	r3, [r4, #120]
 2824 0250 0BB1     		cbz	r3, .L248
 848:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (pcb->listener == NULL) || (pcb->listener->accept != NULL));
 2825              		.loc 1 848 0 is_stmt 0 discriminator 1
 2826 0252 9B69     		ldr	r3, [r3, #24]
 2827 0254 9BB1     		cbz	r3, .L303
 2828              	.L248:
 851:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* listen pcb might be closed by now */
 2829              		.loc 1 851 0 is_stmt 1
 2830 0256 A36F     		ldr	r3, [r4, #120]
 2831 0258 CBB1     		cbz	r3, .L272
 859:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2832              		.loc 1 859 0
 2833 025a 9B69     		ldr	r3, [r3, #24]
 2834 025c B3B3     		cbz	r3, .L273
 859:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2835              		.loc 1 859 0 is_stmt 0 discriminator 1
 2836 025e 0022     		movs	r2, #0
 2837 0260 2146     		mov	r1, r4
 2838 0262 2069     		ldr	r0, [r4, #16]
 2839 0264 9847     		blx	r3
 2840              	.LVL250:
 2841 0266 0546     		mov	r5, r0
 2842              	.LVL251:
 2843              	.L249:
 861:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If the accept function returns with an error, we abort
 2844              		.loc 1 861 0 is_stmt 1
 2845 0268 9DB3     		cbz	r5, .L250
 865:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_abort(pcb);
 2846              		.loc 1 865 0
 2847 026a 15F10D0F 		cmn	r5, #13
 2848 026e 3FF4E2AE 		beq	.L226
 866:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 2849              		.loc 1 866 0
 2850 0272 2046     		mov	r0, r4
 2851 0274 FFF7FEFF 		bl	tcp_abort
 2852              	.LVL252:
 868:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2853              		.loc 1 868 0
 2854 0278 6FF00C05 		mvn	r5, #12
 2855              	.LVL253:
 2856 027c DBE6     		b	.L226
 2857              	.LVL254:
 2858              	.L303:
 848:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (pcb->listener == NULL) || (pcb->listener->accept != NULL));
 2859              		.loc 1 848 0 discriminator 2
 2860 027e 094B     		ldr	r3, .L319+16
 2861 0280 40F25132 		movw	r2, #849
 2862 0284 1049     		ldr	r1, .L319+52
 2863 0286 0948     		ldr	r0, .L319+24
 2864 0288 FFF7FEFF 		bl	printf
 2865              	.LVL255:
 2866 028c E3E7     		b	.L248
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 91


 2867              	.L272:
 853:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else
 2868              		.loc 1 853 0
 2869 028e 6FF00505 		mvn	r5, #5
 2870 0292 E9E7     		b	.L249
 2871              	.L320:
 2872              		.align	2
 2873              	.L319:
 2874 0294 00000000 		.word	.LANCHOR6
 2875 0298 00000000 		.word	.LANCHOR7
 2876 029c 00000000 		.word	.LANCHOR9
 2877 02a0 00000000 		.word	.LANCHOR5
 2878 02a4 00000000 		.word	.LC0
 2879 02a8 00000000 		.word	.LC13
 2880 02ac 4C000000 		.word	.LC2
 2881 02b0 00000000 		.word	tcp_ticks
 2882 02b4 00000000 		.word	.LANCHOR3
 2883 02b8 20000000 		.word	.LC14
 2884 02bc 38000000 		.word	.LC15
 2885 02c0 10000000 		.word	ip_data+16
 2886 02c4 00000000 		.word	.LANCHOR8
 2887 02c8 4C000000 		.word	.LC16
 2888              	.L273:
 859:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2889              		.loc 1 859 0
 2890 02cc 6FF00F05 		mvn	r5, #15
 2891 02d0 CAE7     		b	.L249
 2892              	.LVL256:
 2893              	.L250:
 872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2894              		.loc 1 872 0
 2895 02d2 2046     		mov	r0, r4
 2896 02d4 FFF7FEFF 		bl	tcp_receive
 2897              	.LVL257:
 875:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_acked--;
 2898              		.loc 1 875 0
 2899 02d8 8F4B     		ldr	r3, .L321
 2900 02da 1B88     		ldrh	r3, [r3]
 2901 02dc 13B1     		cbz	r3, .L251
 876:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2902              		.loc 1 876 0
 2903 02de 013B     		subs	r3, r3, #1
 2904 02e0 8D4A     		ldr	r2, .L321
 2905 02e2 1380     		strh	r3, [r2]	@ movhi
 2906              	.L251:
 879:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SYN_RCVD): cwnd %"TCPWNDSIZE_F
 2907              		.loc 1 879 0
 2908 02e4 628E     		ldrh	r2, [r4, #50]
 2909 02e6 5300     		lsls	r3, r2, #1
 2910 02e8 41F21C11 		movw	r1, #4380
 2911 02ec 8B42     		cmp	r3, r1
 2912 02ee 38BF     		it	cc
 2913 02f0 0B46     		movcc	r3, r1
 2914 02f2 9200     		lsls	r2, r2, #2
 2915 02f4 9342     		cmp	r3, r2
 2916 02f6 28BF     		it	cs
 2917 02f8 1346     		movcs	r3, r2
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 92


 2918 02fa A4F84830 		strh	r3, [r4, #72]	@ movhi
 884:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_ack_now(pcb);
 2919              		.loc 1 884 0
 2920 02fe 874B     		ldr	r3, .L321+4
 2921 0300 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2922 0302 13F0200F 		tst	r3, #32
 2923 0306 3FF496AE 		beq	.L226
 885:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = CLOSE_WAIT;
 2924              		.loc 1 885 0
 2925 030a A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2926 030c 43F00203 		orr	r3, r3, #2
 2927 0310 A376     		strb	r3, [r4, #26]
 886:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2928              		.loc 1 886 0
 2929 0312 0723     		movs	r3, #7
 2930 0314 2375     		strb	r3, [r4, #20]
 2931 0316 8EE6     		b	.L226
 2932              	.LVL258:
 2933              	.L246:
 893:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Looks like another copy of the SYN - retransmit our SYN-ACK */
 2934              		.loc 1 893 0
 2935 0318 13F0020F 		tst	r3, #2
 2936 031c 00F0F180 		beq	.L274
 893:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Looks like another copy of the SYN - retransmit our SYN-ACK */
 2937              		.loc 1 893 0 is_stmt 0 discriminator 1
 2938 0320 636A     		ldr	r3, [r4, #36]
 2939 0322 013B     		subs	r3, r3, #1
 2940 0324 7E4A     		ldr	r2, .L321+8
 2941 0326 1268     		ldr	r2, [r2]
 2942 0328 9342     		cmp	r3, r2
 2943 032a 01D0     		beq	.L304
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2944              		.loc 1 960 0 is_stmt 1
 2945 032c 0025     		movs	r5, #0
 2946 032e 82E6     		b	.L226
 2947              	.L304:
 895:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2948              		.loc 1 895 0
 2949 0330 2046     		mov	r0, r4
 2950 0332 FFF7FEFF 		bl	tcp_rexmit
 2951              	.LVL259:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2952              		.loc 1 960 0
 2953 0336 0025     		movs	r5, #0
 2954 0338 7DE6     		b	.L226
 2955              	.L233:
 901:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (recv_flags & TF_GOT_FIN) { /* passive close */
 2956              		.loc 1 901 0
 2957 033a 2046     		mov	r0, r4
 2958 033c FFF7FEFF 		bl	tcp_receive
 2959              	.LVL260:
 902:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 2960              		.loc 1 902 0
 2961 0340 764B     		ldr	r3, .L321+4
 2962 0342 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2963 0344 13F0200F 		tst	r3, #32
 2964 0348 00F0DD80 		beq	.L276
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 93


 903:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = CLOSE_WAIT;
 2965              		.loc 1 903 0
 2966 034c A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2967 034e 43F00203 		orr	r3, r3, #2
 2968 0352 A376     		strb	r3, [r4, #26]
 904:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2969              		.loc 1 904 0
 2970 0354 0723     		movs	r3, #7
 2971 0356 2375     		strb	r3, [r4, #20]
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2972              		.loc 1 960 0
 2973 0358 0025     		movs	r5, #0
 2974 035a 6CE6     		b	.L226
 2975              	.L234:
 908:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (recv_flags & TF_GOT_FIN) {
 2976              		.loc 1 908 0
 2977 035c 2046     		mov	r0, r4
 2978 035e FFF7FEFF 		bl	tcp_receive
 2979              	.LVL261:
 909:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((flags & TCP_ACK) && (ackno == pcb->snd_nxt) &&
 2980              		.loc 1 909 0
 2981 0362 6E4B     		ldr	r3, .L321+4
 2982 0364 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2983 0366 13F0200F 		tst	r3, #32
 2984 036a 38D0     		beq	.L252
 910:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unsent == NULL) {
 2985              		.loc 1 910 0
 2986 036c 6D4B     		ldr	r3, .L321+12
 2987 036e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2988 0370 13F0100F 		tst	r3, #16
 2989 0374 04D0     		beq	.L253
 910:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unsent == NULL) {
 2990              		.loc 1 910 0 is_stmt 0 discriminator 1
 2991 0376 E26C     		ldr	r2, [r4, #76]
 2992 0378 6B4B     		ldr	r3, .L321+16
 2993 037a 1B68     		ldr	r3, [r3]
 2994 037c 9A42     		cmp	r2, r3
 2995 037e 07D0     		beq	.L305
 2996              	.L253:
 920:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = CLOSING;
 2997              		.loc 1 920 0 is_stmt 1
 2998 0380 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2999 0382 43F00203 		orr	r3, r3, #2
 3000 0386 A376     		strb	r3, [r4, #26]
 921:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 3001              		.loc 1 921 0
 3002 0388 0823     		movs	r3, #8
 3003 038a 2375     		strb	r3, [r4, #20]
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3004              		.loc 1 960 0
 3005 038c 0025     		movs	r5, #0
 3006 038e 52E6     		b	.L226
 3007              	.L305:
 911:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG,
 3008              		.loc 1 911 0 discriminator 2
 3009 0390 A36E     		ldr	r3, [r4, #104]
 910:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unsent == NULL) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 94


 3010              		.loc 1 910 0 discriminator 2
 3011 0392 002B     		cmp	r3, #0
 3012 0394 F4D1     		bne	.L253
 914:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_purge(pcb);
 3013              		.loc 1 914 0
 3014 0396 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 3015 0398 43F00203 		orr	r3, r3, #2
 3016 039c A376     		strb	r3, [r4, #26]
 915:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_RMV_ACTIVE(pcb);
 3017              		.loc 1 915 0
 3018 039e 2046     		mov	r0, r4
 3019 03a0 FFF7FEFF 		bl	tcp_pcb_purge
 3020              	.LVL262:
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3021              		.loc 1 916 0
 3022 03a4 614B     		ldr	r3, .L321+20
 3023 03a6 1B68     		ldr	r3, [r3]
 3024 03a8 9C42     		cmp	r4, r3
 3025 03aa 05D0     		beq	.L306
 3026              	.L254:
 3027              	.LVL263:
 3028              	.LBB10:
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3029              		.loc 1 916 0 is_stmt 0 discriminator 8
 3030 03ac 53B1     		cbz	r3, .L255
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3031              		.loc 1 916 0 discriminator 9
 3032 03ae DA68     		ldr	r2, [r3, #12]
 3033 03b0 9442     		cmp	r4, r2
 3034 03b2 05D0     		beq	.L307
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3035              		.loc 1 916 0
 3036 03b4 1346     		mov	r3, r2
 3037              	.LVL264:
 3038 03b6 F9E7     		b	.L254
 3039              	.L306:
 3040              	.LBE10:
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3041              		.loc 1 916 0 discriminator 1
 3042 03b8 DA68     		ldr	r2, [r3, #12]
 3043 03ba 5C4B     		ldr	r3, .L321+20
 3044 03bc 1A60     		str	r2, [r3]
 3045 03be 01E0     		b	.L255
 3046              	.LVL265:
 3047              	.L307:
 3048              	.LBB11:
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3049              		.loc 1 916 0 discriminator 5
 3050 03c0 E268     		ldr	r2, [r4, #12]
 3051 03c2 DA60     		str	r2, [r3, #12]
 3052              	.LVL266:
 3053              	.L255:
 3054              	.LBE11:
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3055              		.loc 1 916 0 discriminator 10
 3056 03c4 0122     		movs	r2, #1
 3057 03c6 5A4B     		ldr	r3, .L321+24
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 95


 3058 03c8 1A70     		strb	r2, [r3]
 917:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_REG(&tcp_tw_pcbs, pcb);
 3059              		.loc 1 917 0 is_stmt 1 discriminator 10
 3060 03ca 0A23     		movs	r3, #10
 3061 03cc 2375     		strb	r3, [r4, #20]
 918:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 3062              		.loc 1 918 0 discriminator 10
 3063 03ce 594B     		ldr	r3, .L321+28
 3064 03d0 1A68     		ldr	r2, [r3]
 3065 03d2 E260     		str	r2, [r4, #12]
 3066 03d4 1C60     		str	r4, [r3]
 3067 03d6 FFF7FEFF 		bl	tcp_timer_needed
 3068              	.LVL267:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3069              		.loc 1 960 0 discriminator 10
 3070 03da 0025     		movs	r5, #0
 918:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 3071              		.loc 1 918 0 discriminator 10
 3072 03dc 2BE6     		b	.L226
 3073              	.L252:
 923:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->unsent == NULL) {
 3074              		.loc 1 923 0
 3075 03de 514B     		ldr	r3, .L321+12
 3076 03e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3077 03e2 13F0100F 		tst	r3, #16
 3078 03e6 00F09080 		beq	.L278
 923:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->unsent == NULL) {
 3079              		.loc 1 923 0 is_stmt 0 discriminator 1
 3080 03ea E26C     		ldr	r2, [r4, #76]
 3081 03ec 4E4B     		ldr	r3, .L321+16
 3082 03ee 1B68     		ldr	r3, [r3]
 3083 03f0 9A42     		cmp	r2, r3
 3084 03f2 01D0     		beq	.L308
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3085              		.loc 1 960 0 is_stmt 1
 3086 03f4 0025     		movs	r5, #0
 3087 03f6 1EE6     		b	.L226
 3088              	.L308:
 924:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = FIN_WAIT_2;
 3089              		.loc 1 924 0 discriminator 2
 3090 03f8 A36E     		ldr	r3, [r4, #104]
 923:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->unsent == NULL) {
 3091              		.loc 1 923 0 discriminator 2
 3092 03fa 0BB1     		cbz	r3, .L309
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3093              		.loc 1 960 0
 3094 03fc 0025     		movs	r5, #0
 3095 03fe 1AE6     		b	.L226
 3096              	.L309:
 925:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3097              		.loc 1 925 0
 3098 0400 0623     		movs	r3, #6
 3099 0402 2375     		strb	r3, [r4, #20]
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3100              		.loc 1 960 0
 3101 0404 0025     		movs	r5, #0
 3102 0406 16E6     		b	.L226
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 96


 3103              	.L235:
 929:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (recv_flags & TF_GOT_FIN) {
 3104              		.loc 1 929 0
 3105 0408 2046     		mov	r0, r4
 3106 040a FFF7FEFF 		bl	tcp_receive
 3107              	.LVL268:
 930:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: FIN_WAIT_2 %"U16_F" -> %"U16_F".\n", inseg.tc
 3108              		.loc 1 930 0
 3109 040e 434B     		ldr	r3, .L321+4
 3110 0410 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3111 0412 13F0200F 		tst	r3, #32
 3112 0416 01D1     		bne	.L310
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3113              		.loc 1 960 0
 3114 0418 0025     		movs	r5, #0
 3115 041a 0CE6     		b	.L226
 3116              	.L310:
 932:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_pcb_purge(pcb);
 3117              		.loc 1 932 0
 3118 041c A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 3119 041e 43F00203 		orr	r3, r3, #2
 3120 0422 A376     		strb	r3, [r4, #26]
 933:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_RMV_ACTIVE(pcb);
 3121              		.loc 1 933 0
 3122 0424 2046     		mov	r0, r4
 3123 0426 FFF7FEFF 		bl	tcp_pcb_purge
 3124              	.LVL269:
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3125              		.loc 1 934 0
 3126 042a 404B     		ldr	r3, .L321+20
 3127 042c 1B68     		ldr	r3, [r3]
 3128 042e 9C42     		cmp	r4, r3
 3129 0430 05D0     		beq	.L311
 3130              	.L257:
 3131              	.LVL270:
 3132              	.LBB12:
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3133              		.loc 1 934 0 is_stmt 0 discriminator 8
 3134 0432 53B1     		cbz	r3, .L258
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3135              		.loc 1 934 0 discriminator 9
 3136 0434 DA68     		ldr	r2, [r3, #12]
 3137 0436 9442     		cmp	r4, r2
 3138 0438 05D0     		beq	.L312
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3139              		.loc 1 934 0
 3140 043a 1346     		mov	r3, r2
 3141              	.LVL271:
 3142 043c F9E7     		b	.L257
 3143              	.L311:
 3144              	.LBE12:
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3145              		.loc 1 934 0 discriminator 1
 3146 043e DA68     		ldr	r2, [r3, #12]
 3147 0440 3A4B     		ldr	r3, .L321+20
 3148 0442 1A60     		str	r2, [r3]
 3149 0444 01E0     		b	.L258
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 97


 3150              	.LVL272:
 3151              	.L312:
 3152              	.LBB13:
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3153              		.loc 1 934 0 discriminator 5
 3154 0446 E268     		ldr	r2, [r4, #12]
 3155 0448 DA60     		str	r2, [r3, #12]
 3156              	.LVL273:
 3157              	.L258:
 3158              	.LBE13:
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3159              		.loc 1 934 0 discriminator 10
 3160 044a 0122     		movs	r2, #1
 3161 044c 384B     		ldr	r3, .L321+24
 3162 044e 1A70     		strb	r2, [r3]
 935:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_REG(&tcp_tw_pcbs, pcb);
 3163              		.loc 1 935 0 is_stmt 1 discriminator 10
 3164 0450 0A23     		movs	r3, #10
 3165 0452 2375     		strb	r3, [r4, #20]
 936:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3166              		.loc 1 936 0 discriminator 10
 3167 0454 374B     		ldr	r3, .L321+28
 3168 0456 1A68     		ldr	r2, [r3]
 3169 0458 E260     		str	r2, [r4, #12]
 3170 045a 1C60     		str	r4, [r3]
 3171 045c FFF7FEFF 		bl	tcp_timer_needed
 3172              	.LVL274:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3173              		.loc 1 960 0 discriminator 10
 3174 0460 0025     		movs	r5, #0
 3175 0462 E8E5     		b	.L226
 3176              	.L236:
 940:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if ((flags & TCP_ACK) && ackno == pcb->snd_nxt && pcb->unsent == NULL) {
 3177              		.loc 1 940 0
 3178 0464 2046     		mov	r0, r4
 3179 0466 FFF7FEFF 		bl	tcp_receive
 3180              	.LVL275:
 941:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: CLOSING %"U16_F" -> %"U16_F".\n", inseg.tcphd
 3181              		.loc 1 941 0
 3182 046a 2E4B     		ldr	r3, .L321+12
 3183 046c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3184 046e 13F0100F 		tst	r3, #16
 3185 0472 4CD0     		beq	.L283
 941:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: CLOSING %"U16_F" -> %"U16_F".\n", inseg.tcphd
 3186              		.loc 1 941 0 is_stmt 0 discriminator 1
 3187 0474 E26C     		ldr	r2, [r4, #76]
 3188 0476 2C4B     		ldr	r3, .L321+16
 3189 0478 1B68     		ldr	r3, [r3]
 3190 047a 9A42     		cmp	r2, r3
 3191 047c 01D0     		beq	.L313
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3192              		.loc 1 960 0 is_stmt 1
 3193 047e 0025     		movs	r5, #0
 3194 0480 D9E5     		b	.L226
 3195              	.L313:
 941:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: CLOSING %"U16_F" -> %"U16_F".\n", inseg.tcphd
 3196              		.loc 1 941 0 discriminator 2
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 98


 3197 0482 A36E     		ldr	r3, [r4, #104]
 3198 0484 0BB1     		cbz	r3, .L314
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3199              		.loc 1 960 0
 3200 0486 0025     		movs	r5, #0
 3201 0488 D5E5     		b	.L226
 3202              	.L314:
 943:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_RMV_ACTIVE(pcb);
 3203              		.loc 1 943 0
 3204 048a 2046     		mov	r0, r4
 3205 048c FFF7FEFF 		bl	tcp_pcb_purge
 3206              	.LVL276:
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3207              		.loc 1 944 0
 3208 0490 264B     		ldr	r3, .L321+20
 3209 0492 1B68     		ldr	r3, [r3]
 3210 0494 9C42     		cmp	r4, r3
 3211 0496 05D0     		beq	.L315
 3212              	.L260:
 3213              	.LVL277:
 3214              	.LBB14:
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3215              		.loc 1 944 0 is_stmt 0 discriminator 8
 3216 0498 53B1     		cbz	r3, .L261
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3217              		.loc 1 944 0 discriminator 9
 3218 049a DA68     		ldr	r2, [r3, #12]
 3219 049c 9442     		cmp	r4, r2
 3220 049e 05D0     		beq	.L316
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3221              		.loc 1 944 0
 3222 04a0 1346     		mov	r3, r2
 3223              	.LVL278:
 3224 04a2 F9E7     		b	.L260
 3225              	.L315:
 3226              	.LBE14:
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3227              		.loc 1 944 0 discriminator 1
 3228 04a4 DA68     		ldr	r2, [r3, #12]
 3229 04a6 214B     		ldr	r3, .L321+20
 3230 04a8 1A60     		str	r2, [r3]
 3231 04aa 01E0     		b	.L261
 3232              	.LVL279:
 3233              	.L316:
 3234              	.LBB15:
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3235              		.loc 1 944 0 discriminator 5
 3236 04ac E268     		ldr	r2, [r4, #12]
 3237 04ae DA60     		str	r2, [r3, #12]
 3238              	.LVL280:
 3239              	.L261:
 3240              	.LBE15:
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3241              		.loc 1 944 0 discriminator 10
 3242 04b0 0122     		movs	r2, #1
 3243 04b2 1F4B     		ldr	r3, .L321+24
 3244 04b4 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 99


 945:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_REG(&tcp_tw_pcbs, pcb);
 3245              		.loc 1 945 0 is_stmt 1 discriminator 10
 3246 04b6 0A23     		movs	r3, #10
 3247 04b8 2375     		strb	r3, [r4, #20]
 946:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3248              		.loc 1 946 0 discriminator 10
 3249 04ba 1E4B     		ldr	r3, .L321+28
 3250 04bc 1A68     		ldr	r2, [r3]
 3251 04be E260     		str	r2, [r4, #12]
 3252 04c0 1C60     		str	r4, [r3]
 3253 04c2 FFF7FEFF 		bl	tcp_timer_needed
 3254              	.LVL281:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3255              		.loc 1 960 0 discriminator 10
 3256 04c6 0025     		movs	r5, #0
 3257 04c8 B5E5     		b	.L226
 3258              	.L237:
 950:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if ((flags & TCP_ACK) && ackno == pcb->snd_nxt && pcb->unsent == NULL) {
 3259              		.loc 1 950 0
 3260 04ca 2046     		mov	r0, r4
 3261 04cc FFF7FEFF 		bl	tcp_receive
 3262              	.LVL282:
 951:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: LAST_ACK %"U16_F" -> %"U16_F".\n", inseg.tcph
 3263              		.loc 1 951 0
 3264 04d0 144B     		ldr	r3, .L321+12
 3265 04d2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3266 04d4 13F0100F 		tst	r3, #16
 3267 04d8 1BD0     		beq	.L287
 951:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: LAST_ACK %"U16_F" -> %"U16_F".\n", inseg.tcph
 3268              		.loc 1 951 0 is_stmt 0 discriminator 1
 3269 04da E26C     		ldr	r2, [r4, #76]
 3270 04dc 124B     		ldr	r3, .L321+16
 3271 04de 1B68     		ldr	r3, [r3]
 3272 04e0 9A42     		cmp	r2, r3
 3273 04e2 01D0     		beq	.L317
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3274              		.loc 1 960 0 is_stmt 1
 3275 04e4 0025     		movs	r5, #0
 3276 04e6 A6E5     		b	.L226
 3277              	.L317:
 951:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: LAST_ACK %"U16_F" -> %"U16_F".\n", inseg.tcph
 3278              		.loc 1 951 0 discriminator 2
 3279 04e8 A36E     		ldr	r3, [r4, #104]
 3280 04ea 0BB1     		cbz	r3, .L318
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3281              		.loc 1 960 0
 3282 04ec 0025     		movs	r5, #0
 3283 04ee A2E5     		b	.L226
 3284              	.L318:
 954:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3285              		.loc 1 954 0
 3286 04f0 0A4A     		ldr	r2, .L321+4
 3287 04f2 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3288 04f4 43F01003 		orr	r3, r3, #16
 3289 04f8 1370     		strb	r3, [r2]
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3290              		.loc 1 960 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 100


 3291 04fa 0025     		movs	r5, #0
 3292 04fc 9BE5     		b	.L226
 3293              	.L268:
 3294 04fe 0025     		movs	r5, #0
 3295 0500 99E5     		b	.L226
 3296              	.L274:
 3297 0502 0025     		movs	r5, #0
 3298 0504 97E5     		b	.L226
 3299              	.L276:
 3300 0506 0025     		movs	r5, #0
 3301 0508 95E5     		b	.L226
 3302              	.L278:
 3303 050a 0025     		movs	r5, #0
 3304 050c 93E5     		b	.L226
 3305              	.L283:
 3306 050e 0025     		movs	r5, #0
 3307 0510 91E5     		b	.L226
 3308              	.L287:
 3309 0512 0025     		movs	r5, #0
 3310 0514 8FE5     		b	.L226
 3311              	.L322:
 3312 0516 00BF     		.align	2
 3313              	.L321:
 3314 0518 00000000 		.word	.LANCHOR10
 3315 051c 00000000 		.word	.LANCHOR5
 3316 0520 00000000 		.word	.LANCHOR7
 3317 0524 00000000 		.word	.LANCHOR6
 3318 0528 00000000 		.word	.LANCHOR9
 3319 052c 00000000 		.word	tcp_active_pcbs
 3320 0530 00000000 		.word	tcp_active_pcbs_changed
 3321 0534 00000000 		.word	tcp_tw_pcbs
 3322              		.cfi_endproc
 3323              	.LFE156:
 3325              		.section	.text.tcp_input,"ax",%progbits
 3326              		.align	1
 3327              		.global	tcp_input
 3328              		.syntax unified
 3329              		.thumb
 3330              		.thumb_func
 3331              		.fpu fpv5-sp-d16
 3333              	tcp_input:
 3334              	.LFB152:
 105:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *pcb, *prev;
 3335              		.loc 1 105 0
 3336              		.cfi_startproc
 3337              		@ args = 0, pretend = 0, frame = 0
 3338              		@ frame_needed = 0, uses_anonymous_args = 0
 3339              	.LVL283:
 3340 0000 70B5     		push	{r4, r5, r6, lr}
 3341              	.LCFI21:
 3342              		.cfi_def_cfa_offset 16
 3343              		.cfi_offset 4, -16
 3344              		.cfi_offset 5, -12
 3345              		.cfi_offset 6, -8
 3346              		.cfi_offset 14, -4
 3347 0002 82B0     		sub	sp, sp, #8
 3348              	.LCFI22:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 101


 3349              		.cfi_def_cfa_offset 24
 3350 0004 0446     		mov	r4, r0
 122:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3351              		.loc 1 122 0
 3352 0006 4268     		ldr	r2, [r0, #4]
 3353 0008 9F4B     		ldr	r3, .L386
 3354 000a 1A60     		str	r2, [r3]
 129:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* drop short packets */
 3355              		.loc 1 129 0
 3356 000c 4389     		ldrh	r3, [r0, #10]
 3357 000e 132B     		cmp	r3, #19
 3358 0010 3ED9     		bls	.L324
 137:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_addr_ismulticast(ip_current_dest_addr())) {
 3359              		.loc 1 137 0
 3360 0012 9E4B     		ldr	r3, .L386+4
 3361 0014 1968     		ldr	r1, [r3]
 3362              	.LVL284:
 3363 0016 5869     		ldr	r0, [r3, #20]
 3364              	.LVL285:
 3365 0018 FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 3366              	.LVL286:
 3367 001c 0028     		cmp	r0, #0
 3368 001e 37D1     		bne	.L324
 138:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_STATS_INC(tcp.proterr);
 3369              		.loc 1 138 0 discriminator 1
 3370 0020 9A4B     		ldr	r3, .L386+4
 3371 0022 5B69     		ldr	r3, [r3, #20]
 3372 0024 03F0F003 		and	r3, r3, #240
 137:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_addr_ismulticast(ip_current_dest_addr())) {
 3373              		.loc 1 137 0 discriminator 1
 3374 0028 E02B     		cmp	r3, #224
 3375 002a 31D0     		beq	.L324
 159:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((hdrlen_bytes < TCP_HLEN) || (hdrlen_bytes > p->tot_len)) {
 3376              		.loc 1 159 0
 3377 002c 964B     		ldr	r3, .L386
 3378 002e 1B68     		ldr	r3, [r3]
 3379 0030 9889     		ldrh	r0, [r3, #12]	@ unaligned
 3380 0032 FFF7FEFF 		bl	lwip_htons
 3381              	.LVL287:
 3382 0036 C0F30F31 		ubfx	r1, r0, #12, #16
 3383 003a 8900     		lsls	r1, r1, #2
 3384 003c C9B2     		uxtb	r1, r1
 3385              	.LVL288:
 160:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: invalid header length (%"U16_F")\n", (u16_t)hdrlen_by
 3386              		.loc 1 160 0
 3387 003e 1329     		cmp	r1, #19
 3388 0040 26D9     		bls	.L324
 160:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: invalid header length (%"U16_F")\n", (u16_t)hdrlen_by
 3389              		.loc 1 160 0 is_stmt 0 discriminator 1
 3390 0042 89B2     		uxth	r1, r1
 3391              	.LVL289:
 3392 0044 2389     		ldrh	r3, [r4, #8]
 3393 0046 9942     		cmp	r1, r3
 3394 0048 22D8     		bhi	.L324
 168:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr_opt2 = NULL;
 3395              		.loc 1 168 0 is_stmt 1
 3396 004a A1F11403 		sub	r3, r1, #20
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 102


 3397 004e 9BB2     		uxth	r3, r3
 3398 0050 8F4A     		ldr	r2, .L386+8
 3399 0052 1380     		strh	r3, [r2]	@ movhi
 169:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (p->len >= hdrlen_bytes) {
 3400              		.loc 1 169 0
 3401 0054 0020     		movs	r0, #0
 3402              	.LVL290:
 3403 0056 8F4A     		ldr	r2, .L386+12
 3404 0058 1060     		str	r0, [r2]
 170:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* all options are in the first pbuf */
 3405              		.loc 1 170 0
 3406 005a 6289     		ldrh	r2, [r4, #10]
 3407 005c 9142     		cmp	r1, r2
 3408 005e 1CD9     		bls	.L371
 3409              	.LBB16:
 178:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3410              		.loc 1 178 0
 3411 0060 2368     		ldr	r3, [r4]
 3412 0062 002B     		cmp	r3, #0
 3413 0064 51D0     		beq	.L372
 3414              	.L327:
 181:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3415              		.loc 1 181 0
 3416 0066 6FF01301 		mvn	r1, #19
 3417 006a 2046     		mov	r0, r4
 3418 006c FFF7FEFF 		bl	pbuf_header
 3419              	.LVL291:
 184:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     opt2len = tcphdr_optlen - tcphdr_opt1len;
 3420              		.loc 1 184 0
 3421 0070 6189     		ldrh	r1, [r4, #10]
 3422 0072 894B     		ldr	r3, .L386+16
 3423 0074 1980     		strh	r1, [r3]	@ movhi
 185:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3424              		.loc 1 185 0
 3425 0076 864B     		ldr	r3, .L386+8
 3426 0078 1D88     		ldrh	r5, [r3]
 3427 007a 6D1A     		subs	r5, r5, r1
 3428 007c ADB2     		uxth	r5, r5
 3429              	.LVL292:
 189:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3430              		.loc 1 189 0
 3431 007e 4942     		negs	r1, r1
 3432 0080 09B2     		sxth	r1, r1
 3433 0082 2046     		mov	r0, r4
 3434 0084 FFF7FEFF 		bl	pbuf_header
 3435              	.LVL293:
 192:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* drop short packets */
 3436              		.loc 1 192 0
 3437 0088 2068     		ldr	r0, [r4]
 3438 008a 4389     		ldrh	r3, [r0, #10]
 3439 008c 9D42     		cmp	r5, r3
 3440 008e 43D9     		bls	.L373
 3441              	.LVL294:
 3442              	.L324:
 3443              	.LBE16:
 527:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3444              		.loc 1 527 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 103


 3445 0090 2046     		mov	r0, r4
 3446 0092 FFF7FEFF 		bl	pbuf_free
 3447              	.LVL295:
 3448              	.L323:
 528:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3449              		.loc 1 528 0
 3450 0096 02B0     		add	sp, sp, #8
 3451              	.LCFI23:
 3452              		.cfi_remember_state
 3453              		.cfi_def_cfa_offset 16
 3454              		@ sp needed
 3455 0098 70BD     		pop	{r4, r5, r6, pc}
 3456              	.LVL296:
 3457              	.L371:
 3458              	.LCFI24:
 3459              		.cfi_restore_state
 172:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_header(p, -(s16_t)hdrlen_bytes); /* cannot fail */
 3460              		.loc 1 172 0
 3461 009a 7F4A     		ldr	r2, .L386+16
 3462 009c 1380     		strh	r3, [r2]	@ movhi
 173:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 3463              		.loc 1 173 0
 3464 009e 4942     		negs	r1, r1
 3465 00a0 2046     		mov	r0, r4
 3466 00a2 FFF7FEFF 		bl	pbuf_header
 3467              	.LVL297:
 3468              	.L326:
 212:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->dest = lwip_ntohs(tcphdr->dest);
 3469              		.loc 1 212 0
 3470 00a6 784D     		ldr	r5, .L386
 3471 00a8 2E68     		ldr	r6, [r5]
 3472 00aa 3088     		ldrh	r0, [r6]	@ unaligned
 3473 00ac FFF7FEFF 		bl	lwip_htons
 3474              	.LVL298:
 3475 00b0 3080     		strh	r0, [r6]	@ unaligned
 213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   seqno = tcphdr->seqno = lwip_ntohl(tcphdr->seqno);
 3476              		.loc 1 213 0
 3477 00b2 2E68     		ldr	r6, [r5]
 3478 00b4 7088     		ldrh	r0, [r6, #2]	@ unaligned
 3479 00b6 FFF7FEFF 		bl	lwip_htons
 3480              	.LVL299:
 3481 00ba 7080     		strh	r0, [r6, #2]	@ unaligned
 214:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   ackno = tcphdr->ackno = lwip_ntohl(tcphdr->ackno);
 3482              		.loc 1 214 0
 3483 00bc 2E68     		ldr	r6, [r5]
 3484 00be 7068     		ldr	r0, [r6, #4]	@ unaligned
 3485 00c0 FFF7FEFF 		bl	lwip_htonl
 3486              	.LVL300:
 3487 00c4 7060     		str	r0, [r6, #4]	@ unaligned
 3488 00c6 754B     		ldr	r3, .L386+20
 3489 00c8 1860     		str	r0, [r3]
 215:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->wnd = lwip_ntohs(tcphdr->wnd);
 3490              		.loc 1 215 0
 3491 00ca 2E68     		ldr	r6, [r5]
 3492 00cc B068     		ldr	r0, [r6, #8]	@ unaligned
 3493 00ce FFF7FEFF 		bl	lwip_htonl
 3494              	.LVL301:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 104


 3495 00d2 B060     		str	r0, [r6, #8]	@ unaligned
 3496 00d4 724B     		ldr	r3, .L386+24
 3497 00d6 1860     		str	r0, [r3]
 216:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3498              		.loc 1 216 0
 3499 00d8 2E68     		ldr	r6, [r5]
 3500 00da F089     		ldrh	r0, [r6, #14]	@ unaligned
 3501 00dc FFF7FEFF 		bl	lwip_htons
 3502              	.LVL302:
 3503 00e0 F081     		strh	r0, [r6, #14]	@ unaligned
 218:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcplen = p->tot_len + ((flags & (TCP_FIN | TCP_SYN)) ? 1 : 0);
 3504              		.loc 1 218 0
 3505 00e2 2B68     		ldr	r3, [r5]
 3506 00e4 9889     		ldrh	r0, [r3, #12]	@ unaligned
 3507 00e6 FFF7FEFF 		bl	lwip_htons
 3508              	.LVL303:
 3509 00ea 00F03F03 		and	r3, r0, #63
 3510 00ee 6D4A     		ldr	r2, .L386+28
 3511 00f0 1370     		strb	r3, [r2]
 219:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3512              		.loc 1 219 0
 3513 00f2 2289     		ldrh	r2, [r4, #8]
 3514 00f4 13F00303 		ands	r3, r3, #3
 3515 00f8 18BF     		it	ne
 3516 00fa 0123     		movne	r3, #1
 3517 00fc 1344     		add	r3, r3, r2
 3518 00fe 6A4A     		ldr	r2, .L386+32
 3519 0100 1380     		strh	r3, [r2]	@ movhi
 3520              	.LVL304:
 225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 3521              		.loc 1 225 0
 3522 0102 6A4B     		ldr	r3, .L386+36
 3523 0104 1D68     		ldr	r5, [r3]
 3524              	.LVL305:
 223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3525              		.loc 1 223 0
 3526 0106 0026     		movs	r6, #0
 225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 3527              		.loc 1 225 0
 3528 0108 33E0     		b	.L329
 3529              	.LVL306:
 3530              	.L372:
 3531              	.LBB17:
 178:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3532              		.loc 1 178 0 discriminator 1
 3533 010a 694B     		ldr	r3, .L386+40
 3534 010c B222     		movs	r2, #178
 3535 010e 6949     		ldr	r1, .L386+44
 3536 0110 6948     		ldr	r0, .L386+48
 3537 0112 FFF7FEFF 		bl	printf
 3538              	.LVL307:
 3539 0116 A6E7     		b	.L327
 3540              	.LVL308:
 3541              	.L373:
 200:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3542              		.loc 1 200 0
 3543 0118 4268     		ldr	r2, [r0, #4]
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 105


 3544 011a 5E4B     		ldr	r3, .L386+12
 3545 011c 1A60     		str	r2, [r3]
 204:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     p->tot_len -= opt2len;
 3546              		.loc 1 204 0
 3547 011e 6942     		negs	r1, r5
 3548 0120 09B2     		sxth	r1, r1
 3549 0122 FFF7FEFF 		bl	pbuf_header
 3550              	.LVL309:
 205:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3551              		.loc 1 205 0
 3552 0126 2389     		ldrh	r3, [r4, #8]
 3553 0128 5D1B     		subs	r5, r3, r5
 3554              	.LVL310:
 3555 012a 2581     		strh	r5, [r4, #8]	@ movhi
 207:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->tot_len == p->next->tot_len", p->tot_len == p->next->tot_len);
 3556              		.loc 1 207 0
 3557 012c 6389     		ldrh	r3, [r4, #10]
 3558 012e 5BB9     		cbnz	r3, .L374
 3559              	.L328:
 208:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 3560              		.loc 1 208 0
 3561 0130 2289     		ldrh	r2, [r4, #8]
 3562 0132 2368     		ldr	r3, [r4]
 3563 0134 1B89     		ldrh	r3, [r3, #8]
 3564 0136 9A42     		cmp	r2, r3
 3565 0138 B5D0     		beq	.L326
 208:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 3566              		.loc 1 208 0 is_stmt 0 discriminator 1
 3567 013a 5D4B     		ldr	r3, .L386+40
 3568 013c D022     		movs	r2, #208
 3569 013e 5F49     		ldr	r1, .L386+52
 3570 0140 5D48     		ldr	r0, .L386+48
 3571 0142 FFF7FEFF 		bl	printf
 3572              	.LVL311:
 3573 0146 AEE7     		b	.L326
 3574              	.L374:
 207:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->tot_len == p->next->tot_len", p->tot_len == p->next->tot_len);
 3575              		.loc 1 207 0 is_stmt 1 discriminator 1
 3576 0148 594B     		ldr	r3, .L386+40
 3577 014a CF22     		movs	r2, #207
 3578 014c 5C49     		ldr	r1, .L386+56
 3579 014e 5A48     		ldr	r0, .L386+48
 3580 0150 FFF7FEFF 		bl	printf
 3581              	.LVL312:
 3582 0154 ECE7     		b	.L328
 3583              	.LVL313:
 3584              	.L330:
 3585              	.LBE17:
 227:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != LISTEN", pcb->state != LISTEN);
 3586              		.loc 1 227 0
 3587 0156 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 3588 0158 0A2B     		cmp	r3, #10
 3589 015a 16D0     		beq	.L375
 3590              	.L331:
 228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->remote_port == tcphdr->src &&
 3591              		.loc 1 228 0
 3592 015c 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 106


 3593 015e 012B     		cmp	r3, #1
 3594 0160 1AD0     		beq	.L376
 3595              	.L332:
 229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->local_port == tcphdr->dest &&
 3596              		.loc 1 229 0
 3597 0162 298B     		ldrh	r1, [r5, #24]
 3598 0164 484B     		ldr	r3, .L386
 3599 0166 1B68     		ldr	r3, [r3]
 3600 0168 1A88     		ldrh	r2, [r3]	@ unaligned
 3601 016a 9142     		cmp	r1, r2
 3602 016c 1BD0     		beq	.L377
 3603              	.L333:
 3604              	.LVL314:
 247:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 3605              		.loc 1 247 0 discriminator 2
 3606 016e 2E46     		mov	r6, r5
 225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 3607              		.loc 1 225 0 discriminator 2
 3608 0170 ED68     		ldr	r5, [r5, #12]
 3609              	.LVL315:
 3610              	.L329:
 225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 3611              		.loc 1 225 0 is_stmt 0 discriminator 1
 3612 0172 002D     		cmp	r5, #0
 3613 0174 32D0     		beq	.L336
 226:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != TIME-WAIT", pcb->state != TIME_WAIT);
 3614              		.loc 1 226 0 is_stmt 1
 3615 0176 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 3616 0178 002B     		cmp	r3, #0
 3617 017a ECD1     		bne	.L330
 226:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != TIME-WAIT", pcb->state != TIME_WAIT);
 3618              		.loc 1 226 0 is_stmt 0 discriminator 1
 3619 017c 4C4B     		ldr	r3, .L386+40
 3620 017e E222     		movs	r2, #226
 3621 0180 5049     		ldr	r1, .L386+60
 3622 0182 4D48     		ldr	r0, .L386+48
 3623 0184 FFF7FEFF 		bl	printf
 3624              	.LVL316:
 3625 0188 E5E7     		b	.L330
 3626              	.L375:
 227:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != LISTEN", pcb->state != LISTEN);
 3627              		.loc 1 227 0 is_stmt 1 discriminator 1
 3628 018a 494B     		ldr	r3, .L386+40
 3629 018c E322     		movs	r2, #227
 3630 018e 4E49     		ldr	r1, .L386+64
 3631 0190 4948     		ldr	r0, .L386+48
 3632 0192 FFF7FEFF 		bl	printf
 3633              	.LVL317:
 3634 0196 E1E7     		b	.L331
 3635              	.L376:
 228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->remote_port == tcphdr->src &&
 3636              		.loc 1 228 0 discriminator 1
 3637 0198 454B     		ldr	r3, .L386+40
 3638 019a E422     		movs	r2, #228
 3639 019c 4B49     		ldr	r1, .L386+68
 3640 019e 4648     		ldr	r0, .L386+48
 3641 01a0 FFF7FEFF 		bl	printf
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 107


 3642              	.LVL318:
 3643 01a4 DDE7     		b	.L332
 3644              	.L377:
 230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 3645              		.loc 1 230 0 discriminator 1
 3646 01a6 EA8A     		ldrh	r2, [r5, #22]
 3647 01a8 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->local_port == tcphdr->dest &&
 3648              		.loc 1 229 0 discriminator 1
 3649 01aa 9A42     		cmp	r2, r3
 3650 01ac DFD1     		bne	.L333
 231:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 3651              		.loc 1 231 0
 3652 01ae 6A68     		ldr	r2, [r5, #4]
 3653 01b0 364B     		ldr	r3, .L386+4
 3654 01b2 1B69     		ldr	r3, [r3, #16]
 230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 3655              		.loc 1 230 0
 3656 01b4 9A42     		cmp	r2, r3
 3657 01b6 DAD1     		bne	.L333
 232:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Move this PCB to the front of the list so that subsequent
 3658              		.loc 1 232 0
 3659 01b8 2A68     		ldr	r2, [r5]
 3660 01ba 344B     		ldr	r3, .L386+4
 3661 01bc 5B69     		ldr	r3, [r3, #20]
 231:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 3662              		.loc 1 231 0
 3663 01be 9A42     		cmp	r2, r3
 3664 01c0 D5D1     		bne	.L333
 236:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (prev != NULL) {
 3665              		.loc 1 236 0
 3666 01c2 EB68     		ldr	r3, [r5, #12]
 3667 01c4 9D42     		cmp	r5, r3
 3668 01c6 4DD0     		beq	.L378
 3669              	.L334:
 237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         prev->next = pcb->next;
 3670              		.loc 1 237 0
 3671 01c8 2EB1     		cbz	r6, .L335
 238:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->next = tcp_active_pcbs;
 3672              		.loc 1 238 0
 3673 01ca EB68     		ldr	r3, [r5, #12]
 3674 01cc F360     		str	r3, [r6, #12]
 239:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_active_pcbs = pcb;
 3675              		.loc 1 239 0
 3676 01ce 374B     		ldr	r3, .L386+36
 3677 01d0 1A68     		ldr	r2, [r3]
 3678 01d2 EA60     		str	r2, [r5, #12]
 240:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 3679              		.loc 1 240 0
 3680 01d4 1D60     		str	r5, [r3]
 3681              	.L335:
 244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
 3682              		.loc 1 244 0
 3683 01d6 EB68     		ldr	r3, [r5, #12]
 3684 01d8 9D42     		cmp	r5, r3
 3685 01da 4AD0     		beq	.L379
 3686              	.L336:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 108


 250:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If it did not go to an active connection, we check the connections
 3687              		.loc 1 250 0
 3688 01dc 002D     		cmp	r5, #0
 3689 01de 4FD0     		beq	.L380
 3690              	.LVL319:
 3691              	.L338:
 335:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The incoming segment belongs to a connection. */
 3692              		.loc 1 335 0
 3693 01e0 002D     		cmp	r5, #0
 3694 01e2 00F06881 		beq	.L349
 342:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.len = p->tot_len;
 3695              		.loc 1 342 0
 3696 01e6 3A4A     		ldr	r2, .L386+72
 3697 01e8 0023     		movs	r3, #0
 3698 01ea 1360     		str	r3, [r2]
 343:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.p = p;
 3699              		.loc 1 343 0
 3700 01ec 2189     		ldrh	r1, [r4, #8]
 3701 01ee 1181     		strh	r1, [r2, #8]	@ movhi
 344:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.tcphdr = tcphdr;
 3702              		.loc 1 344 0
 3703 01f0 5460     		str	r4, [r2, #4]
 345:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3704              		.loc 1 345 0
 3705 01f2 2549     		ldr	r1, .L386
 3706 01f4 0968     		ldr	r1, [r1]
 3707 01f6 D160     		str	r1, [r2, #12]
 347:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_flags = 0;
 3708              		.loc 1 347 0
 3709 01f8 364A     		ldr	r2, .L386+76
 3710 01fa 1360     		str	r3, [r2]
 348:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_acked = 0;
 3711              		.loc 1 348 0
 3712 01fc 364A     		ldr	r2, .L386+80
 3713 01fe 1370     		strb	r3, [r2]
 349:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3714              		.loc 1 349 0
 3715 0200 364A     		ldr	r2, .L386+84
 3716 0202 1380     		strh	r3, [r2]	@ movhi
 351:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       p->flags |= PBUF_FLAG_PUSH;
 3717              		.loc 1 351 0
 3718 0204 274B     		ldr	r3, .L386+28
 3719 0206 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3720 0208 13F0080F 		tst	r3, #8
 3721 020c 03D0     		beq	.L350
 352:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3722              		.loc 1 352 0
 3723 020e 637B     		ldrb	r3, [r4, #13]	@ zero_extendqisi2
 3724 0210 43F00103 		orr	r3, r3, #1
 3725 0214 6373     		strb	r3, [r4, #13]
 3726              	.L350:
 356:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((tcp_process_refused_data(pcb) == ERR_ABRT) ||
 3727              		.loc 1 356 0
 3728 0216 6B6F     		ldr	r3, [r5, #116]
 3729 0218 002B     		cmp	r3, #0
 3730 021a 00F0B980 		beq	.L351
 357:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ((pcb->refused_data != NULL) && (tcplen > 0))) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 109


 3731              		.loc 1 357 0
 3732 021e 2846     		mov	r0, r5
 3733 0220 FFF7FEFF 		bl	tcp_process_refused_data
 3734              	.LVL320:
 3735 0224 10F10D0F 		cmn	r0, #13
 3736 0228 08D0     		beq	.L352
 358:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* pcb has been aborted or refused data is still refused and the new
 3737              		.loc 1 358 0 discriminator 1
 3738 022a 6B6F     		ldr	r3, [r5, #116]
 357:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ((pcb->refused_data != NULL) && (tcplen > 0))) {
 3739              		.loc 1 357 0 discriminator 1
 3740 022c 002B     		cmp	r3, #0
 3741 022e 00F0AF80 		beq	.L351
 358:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* pcb has been aborted or refused data is still refused and the new
 3742              		.loc 1 358 0
 3743 0232 1D4B     		ldr	r3, .L386+32
 3744 0234 1B88     		ldrh	r3, [r3]
 3745 0236 002B     		cmp	r3, #0
 3746 0238 00F0AA80 		beq	.L351
 3747              	.L352:
 361:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* this is a zero-window probe, we respond to it with current RCV.NXT
 3748              		.loc 1 361 0
 3749 023c 6B8D     		ldrh	r3, [r5, #42]
 3750 023e 002B     		cmp	r3, #0
 3751 0240 00F0A280 		beq	.L381
 3752              	.LVL321:
 3753              	.L353:
 498:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_data = NULL;
 3754              		.loc 1 498 0
 3755 0244 0023     		movs	r3, #0
 3756 0246 264A     		ldr	r2, .L386+88
 3757 0248 1360     		str	r3, [r2]
 499:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3758              		.loc 1 499 0
 3759 024a 224A     		ldr	r2, .L386+76
 3760 024c 1360     		str	r3, [r2]
 502:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     {
 3761              		.loc 1 502 0
 3762 024e 204B     		ldr	r3, .L386+72
 3763 0250 5868     		ldr	r0, [r3, #4]
 3764 0252 0028     		cmp	r0, #0
 3765 0254 3FF41FAF 		beq	.L323
 504:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.p = NULL;
 3766              		.loc 1 504 0
 3767 0258 FFF7FEFF 		bl	pbuf_free
 3768              	.LVL322:
 505:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3769              		.loc 1 505 0
 3770 025c 0022     		movs	r2, #0
 3771 025e 1C4B     		ldr	r3, .L386+72
 3772 0260 5A60     		str	r2, [r3, #4]
 3773 0262 18E7     		b	.L323
 3774              	.LVL323:
 3775              	.L378:
 236:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (prev != NULL) {
 3776              		.loc 1 236 0 discriminator 1
 3777 0264 124B     		ldr	r3, .L386+40
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 110


 3778 0266 EC22     		movs	r2, #236
 3779 0268 1E49     		ldr	r1, .L386+92
 3780 026a 1348     		ldr	r0, .L386+48
 3781 026c FFF7FEFF 		bl	printf
 3782              	.LVL324:
 3783 0270 AAE7     		b	.L334
 3784              	.L379:
 244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
 3785              		.loc 1 244 0 discriminator 1
 3786 0272 0F4B     		ldr	r3, .L386+40
 3787 0274 F422     		movs	r2, #244
 3788 0276 1C49     		ldr	r1, .L386+96
 3789 0278 0F48     		ldr	r0, .L386+48
 3790 027a FFF7FEFF 		bl	printf
 3791              	.LVL325:
 3792 027e ADE7     		b	.L336
 3793              	.L380:
 253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 3794              		.loc 1 253 0
 3795 0280 1A4B     		ldr	r3, .L386+100
 3796 0282 1D68     		ldr	r5, [r3]
 3797              	.LVL326:
 3798 0284 3BE0     		b	.L339
 3799              	.L387:
 3800 0286 00BF     		.align	2
 3801              	.L386:
 3802 0288 00000000 		.word	.LANCHOR3
 3803 028c 00000000 		.word	ip_data
 3804 0290 00000000 		.word	.LANCHOR4
 3805 0294 00000000 		.word	.LANCHOR0
 3806 0298 00000000 		.word	.LANCHOR2
 3807 029c 00000000 		.word	.LANCHOR7
 3808 02a0 00000000 		.word	.LANCHOR9
 3809 02a4 00000000 		.word	.LANCHOR6
 3810 02a8 00000000 		.word	.LANCHOR8
 3811 02ac 00000000 		.word	tcp_active_pcbs
 3812 02b0 00000000 		.word	.LC0
 3813 02b4 00000000 		.word	.LC17
 3814 02b8 4C000000 		.word	.LC2
 3815 02bc 1C000000 		.word	.LC19
 3816 02c0 10000000 		.word	.LC18
 3817 02c4 3C000000 		.word	.LC20
 3818 02c8 64000000 		.word	.LC21
 3819 02cc 90000000 		.word	.LC22
 3820 02d0 00000000 		.word	.LANCHOR11
 3821 02d4 00000000 		.word	.LANCHOR12
 3822 02d8 00000000 		.word	.LANCHOR5
 3823 02dc 00000000 		.word	.LANCHOR10
 3824 02e0 00000000 		.word	tcp_input_pcb
 3825 02e4 B8000000 		.word	.LC23
 3826 02e8 E4000000 		.word	.LC24
 3827 02ec 00000000 		.word	tcp_tw_pcbs
 3828              	.L340:
 255:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->local_port == tcphdr->dest &&
 3829              		.loc 1 255 0
 3830 02f0 298B     		ldrh	r1, [r5, #24]
 3831 02f2 804B     		ldr	r3, .L388
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 111


 3832 02f4 1B68     		ldr	r3, [r3]
 3833 02f6 1A88     		ldrh	r2, [r3]	@ unaligned
 3834 02f8 9142     		cmp	r1, r2
 3835 02fa 0BD0     		beq	.L382
 3836              	.L341:
 253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 3837              		.loc 1 253 0 discriminator 2
 3838 02fc ED68     		ldr	r5, [r5, #12]
 3839              	.LVL327:
 3840              	.L339:
 253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 3841              		.loc 1 253 0 is_stmt 0 discriminator 1
 3842 02fe F5B1     		cbz	r5, .L383
 254:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->remote_port == tcphdr->src &&
 3843              		.loc 1 254 0 is_stmt 1
 3844 0300 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 3845 0302 0A2B     		cmp	r3, #10
 3846 0304 F4D0     		beq	.L340
 254:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->remote_port == tcphdr->src &&
 3847              		.loc 1 254 0 is_stmt 0 discriminator 1
 3848 0306 7C4B     		ldr	r3, .L388+4
 3849 0308 FE22     		movs	r2, #254
 3850 030a 7C49     		ldr	r1, .L388+8
 3851 030c 7C48     		ldr	r0, .L388+12
 3852 030e FFF7FEFF 		bl	printf
 3853              	.LVL328:
 3854 0312 EDE7     		b	.L340
 3855              	.L382:
 256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 3856              		.loc 1 256 0 is_stmt 1 discriminator 1
 3857 0314 EA8A     		ldrh	r2, [r5, #22]
 3858 0316 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 255:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->local_port == tcphdr->dest &&
 3859              		.loc 1 255 0 discriminator 1
 3860 0318 9A42     		cmp	r2, r3
 3861 031a EFD1     		bne	.L341
 257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 3862              		.loc 1 257 0
 3863 031c 6A68     		ldr	r2, [r5, #4]
 3864 031e 794B     		ldr	r3, .L388+16
 3865 0320 1B69     		ldr	r3, [r3, #16]
 256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 3866              		.loc 1 256 0
 3867 0322 9A42     		cmp	r2, r3
 3868 0324 EAD1     		bne	.L341
 258:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We don't really care enough to move this PCB to the front
 3869              		.loc 1 258 0
 3870 0326 2A68     		ldr	r2, [r5]
 3871 0328 764B     		ldr	r3, .L388+16
 3872 032a 5B69     		ldr	r3, [r3, #20]
 257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 3873              		.loc 1 257 0
 3874 032c 9A42     		cmp	r2, r3
 3875 032e E5D1     		bne	.L341
 263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pbuf_free(p);
 3876              		.loc 1 263 0
 3877 0330 2846     		mov	r0, r5
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 112


 3878 0332 FFF7FEFF 		bl	tcp_timewait_input
 3879              	.LVL329:
 264:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         return;
 3880              		.loc 1 264 0
 3881 0336 2046     		mov	r0, r4
 3882 0338 FFF7FEFF 		bl	pbuf_free
 3883              	.LVL330:
 265:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 3884              		.loc 1 265 0
 3885 033c ABE6     		b	.L323
 3886              	.L383:
 3887              	.LVL331:
 272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (lpcb->local_port == tcphdr->dest) {
 3888              		.loc 1 272 0
 3889 033e 724B     		ldr	r3, .L388+20
 3890 0340 1E68     		ldr	r6, [r3]
 3891              	.LVL332:
 3892 0342 3046     		mov	r0, r6
 271:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     for (lpcb = tcp_listen_pcbs.listen_pcbs; lpcb != NULL; lpcb = lpcb->next) {
 3893              		.loc 1 271 0
 3894 0344 2946     		mov	r1, r5
 272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (lpcb->local_port == tcphdr->dest) {
 3895              		.loc 1 272 0
 3896 0346 01E0     		b	.L344
 3897              	.LVL333:
 3898              	.L345:
 297:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3899              		.loc 1 297 0 discriminator 2
 3900 0348 0146     		mov	r1, r0
 272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (lpcb->local_port == tcphdr->dest) {
 3901              		.loc 1 272 0 discriminator 2
 3902 034a C068     		ldr	r0, [r0, #12]
 3903              	.LVL334:
 3904              	.L344:
 272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (lpcb->local_port == tcphdr->dest) {
 3905              		.loc 1 272 0 is_stmt 0 discriminator 1
 3906 034c 68B1     		cbz	r0, .L346
 273:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (IP_IS_ANY_TYPE_VAL(lpcb->local_ip)) {
 3907              		.loc 1 273 0 is_stmt 1
 3908 034e C28A     		ldrh	r2, [r0, #22]
 3909 0350 684B     		ldr	r3, .L388
 3910 0352 1B68     		ldr	r3, [r3]
 3911 0354 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 3912 0356 9A42     		cmp	r2, r3
 3913 0358 F6D1     		bne	.L345
 283:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an exact match */
 3914              		.loc 1 283 0
 3915 035a 0368     		ldr	r3, [r0]
 3916 035c 694A     		ldr	r2, .L388+16
 3917 035e 5269     		ldr	r2, [r2, #20]
 3918 0360 9342     		cmp	r3, r2
 3919 0362 02D0     		beq	.L346
 286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an ANY-match */
 3920              		.loc 1 286 0
 3921 0364 08B1     		cbz	r0, .L346
 286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an ANY-match */
 3922              		.loc 1 286 0 is_stmt 0 discriminator 1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 113


 3923 0366 002B     		cmp	r3, #0
 3924 0368 EED1     		bne	.L345
 3925              	.L346:
 307:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Move this PCB to the front of the list so that subsequent
 3926              		.loc 1 307 0 is_stmt 1
 3927 036a 0028     		cmp	r0, #0
 3928 036c 3FF438AF 		beq	.L338
 311:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ((struct tcp_pcb_listen *)prev)->next = lpcb->next;
 3929              		.loc 1 311 0
 3930 0370 21B1     		cbz	r1, .L348
 312:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* our successor is the remainder of the listening list */
 3931              		.loc 1 312 0
 3932 0372 C368     		ldr	r3, [r0, #12]
 3933 0374 CB60     		str	r3, [r1, #12]
 314:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* put this listening pcb at the head of the listening list */
 3934              		.loc 1 314 0
 3935 0376 C660     		str	r6, [r0, #12]
 316:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 3936              		.loc 1 316 0
 3937 0378 634B     		ldr	r3, .L388+20
 3938 037a 1860     		str	r0, [r3]
 3939              	.L348:
 322:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_free(p);
 3940              		.loc 1 322 0
 3941 037c FFF7FEFF 		bl	tcp_listen_input
 3942              	.LVL335:
 323:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 3943              		.loc 1 323 0
 3944 0380 2046     		mov	r0, r4
 3945 0382 FFF7FEFF 		bl	pbuf_free
 3946              	.LVL336:
 324:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3947              		.loc 1 324 0
 3948 0386 86E6     		b	.L323
 3949              	.L381:
 364:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 3950              		.loc 1 364 0
 3951 0388 2846     		mov	r0, r5
 3952 038a FFF7FEFF 		bl	tcp_send_empty_ack
 3953              	.LVL337:
 3954 038e 59E7     		b	.L353
 3955              	.L351:
 371:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     err = tcp_process(pcb);
 3956              		.loc 1 371 0
 3957 0390 5E4B     		ldr	r3, .L388+24
 3958 0392 1D60     		str	r5, [r3]
 372:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* A return value of ERR_ABRT means that tcp_abort() was called
 3959              		.loc 1 372 0
 3960 0394 2846     		mov	r0, r5
 3961 0396 FFF7FEFF 		bl	tcp_process
 3962              	.LVL338:
 375:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (recv_flags & TF_RESET) {
 3963              		.loc 1 375 0
 3964 039a 10F10D0F 		cmn	r0, #13
 3965 039e 3FF451AF 		beq	.L353
 376:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* TF_RESET means that the connection was reset by the other
 3966              		.loc 1 376 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 114


 3967 03a2 5B4B     		ldr	r3, .L388+28
 3968 03a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3969 03a6 13F0080F 		tst	r3, #8
 3970 03aa 0FD0     		beq	.L354
 381:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_remove(&tcp_active_pcbs, pcb);
 3971              		.loc 1 381 0
 3972 03ac D5F88C30 		ldr	r3, [r5, #140]
 3973 03b0 1BB1     		cbz	r3, .L355
 381:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_remove(&tcp_active_pcbs, pcb);
 3974              		.loc 1 381 0 is_stmt 0 discriminator 1
 3975 03b2 6FF00D01 		mvn	r1, #13
 3976 03b6 2869     		ldr	r0, [r5, #16]
 3977              	.LVL339:
 3978 03b8 9847     		blx	r3
 3979              	.LVL340:
 3980              	.L355:
 382:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         memp_free(MEMP_TCP_PCB, pcb);
 3981              		.loc 1 382 0 is_stmt 1
 3982 03ba 2946     		mov	r1, r5
 3983 03bc 5548     		ldr	r0, .L388+32
 3984 03be FFF7FEFF 		bl	tcp_pcb_remove
 3985              	.LVL341:
 383:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 3986              		.loc 1 383 0
 3987 03c2 2946     		mov	r1, r5
 3988 03c4 0120     		movs	r0, #1
 3989 03c6 FFF7FEFF 		bl	memp_free
 3990              	.LVL342:
 3991 03ca 3BE7     		b	.L353
 3992              	.LVL343:
 3993              	.L354:
 389:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u16_t acked16;
 3994              		.loc 1 389 0
 3995 03cc 524B     		ldr	r3, .L388+36
 3996 03ce 1A88     		ldrh	r2, [r3]
 3997 03d0 62B1     		cbz	r2, .L356
 3998              	.LVL344:
 3999              	.LBB18:
 402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4000              		.loc 1 402 0
 4001 03d2 EB6F     		ldr	r3, [r5, #124]
 4002 03d4 002B     		cmp	r3, #0
 4003 03d6 48D0     		beq	.L368
 402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4004              		.loc 1 402 0 is_stmt 0 discriminator 1
 4005 03d8 2946     		mov	r1, r5
 4006 03da 2869     		ldr	r0, [r5, #16]
 4007 03dc 9847     		blx	r3
 4008              	.LVL345:
 4009              	.L357:
 403:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               goto aborted;
 4010              		.loc 1 403 0 is_stmt 1
 4011 03de 10F10D0F 		cmn	r0, #13
 4012 03e2 3FF42FAF 		beq	.L353
 407:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 4013              		.loc 1 407 0
 4014 03e6 0022     		movs	r2, #0
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 115


 4015 03e8 4B4B     		ldr	r3, .L388+36
 4016 03ea 1A80     		strh	r2, [r3]	@ movhi
 4017              	.LVL346:
 4018              	.L356:
 4019              	.LBE18:
 409:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           goto aborted;
 4020              		.loc 1 409 0
 4021 03ec 2846     		mov	r0, r5
 4022 03ee FFF7FEFF 		bl	tcp_input_delayed_close
 4023              	.LVL347:
 4024 03f2 0028     		cmp	r0, #0
 4025 03f4 7FF426AF 		bne	.L353
 417:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 4026              		.loc 1 417 0
 4027 03f8 484B     		ldr	r3, .L388+40
 4028 03fa 1B68     		ldr	r3, [r3]
 4029 03fc EBB1     		cbz	r3, .L358
 420:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->flags & TF_RXCLOSED) {
 4030              		.loc 1 420 0
 4031 03fe 6B6F     		ldr	r3, [r5, #116]
 4032 0400 33B1     		cbz	r3, .L359
 420:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->flags & TF_RXCLOSED) {
 4033              		.loc 1 420 0 is_stmt 0 discriminator 1
 4034 0402 3D4B     		ldr	r3, .L388+4
 4035 0404 4FF4D272 		mov	r2, #420
 4036 0408 4549     		ldr	r1, .L388+44
 4037 040a 3D48     		ldr	r0, .L388+12
 4038 040c FFF7FEFF 		bl	printf
 4039              	.LVL348:
 4040              	.L359:
 421:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* received data although already closed -> abort (send RST) to
 4041              		.loc 1 421 0 is_stmt 1
 4042 0410 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 4043 0412 13F0100F 		tst	r3, #16
 4044 0416 2AD1     		bne	.L384
 435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err == ERR_ABRT) {
 4045              		.loc 1 435 0
 4046 0418 D5F88040 		ldr	r4, [r5, #128]
 4047              	.LVL349:
 4048 041c 7CB3     		cbz	r4, .L361
 435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err == ERR_ABRT) {
 4049              		.loc 1 435 0 is_stmt 0 discriminator 1
 4050 041e 0023     		movs	r3, #0
 4051 0420 3E4A     		ldr	r2, .L388+40
 4052 0422 1268     		ldr	r2, [r2]
 4053 0424 2946     		mov	r1, r5
 4054 0426 2869     		ldr	r0, [r5, #16]
 4055 0428 A047     		blx	r4
 4056              	.LVL350:
 4057              	.L362:
 436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 4058              		.loc 1 436 0 is_stmt 1
 4059 042a 10F10D0F 		cmn	r0, #13
 4060 042e 3FF409AF 		beq	.L353
 446:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 4061              		.loc 1 446 0
 4062 0432 10B1     		cbz	r0, .L358
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 116


 452:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: keep incoming packet, because pcb is \"full\"
 4063              		.loc 1 452 0
 4064 0434 394B     		ldr	r3, .L388+40
 4065 0436 1B68     		ldr	r3, [r3]
 4066 0438 6B67     		str	r3, [r5, #116]
 4067              	.LVL351:
 4068              	.L358:
 465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->refused_data != NULL) {
 4069              		.loc 1 465 0
 4070 043a 354B     		ldr	r3, .L388+28
 4071 043c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4072 043e 13F0200F 		tst	r3, #32
 4073 0442 05D0     		beq	.L363
 466:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Delay this if we have refused data. */
 4074              		.loc 1 466 0
 4075 0444 6B6F     		ldr	r3, [r5, #116]
 4076 0446 13B3     		cbz	r3, .L364
 468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else {
 4077              		.loc 1 468 0
 4078 0448 5A7B     		ldrb	r2, [r3, #13]	@ zero_extendqisi2
 4079 044a 42F02002 		orr	r2, r2, #32
 4080 044e 5A73     		strb	r2, [r3, #13]
 4081              	.L363:
 482:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_input_delayed_close(pcb)) {
 4082              		.loc 1 482 0
 4083 0450 0022     		movs	r2, #0
 4084 0452 2E4B     		ldr	r3, .L388+24
 4085 0454 1A60     		str	r2, [r3]
 483:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           goto aborted;
 4086              		.loc 1 483 0
 4087 0456 2846     		mov	r0, r5
 4088 0458 FFF7FEFF 		bl	tcp_input_delayed_close
 4089              	.LVL352:
 4090 045c 0028     		cmp	r0, #0
 4091 045e 7FF4F1AE 		bne	.L353
 487:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 4092              		.loc 1 487 0
 4093 0462 2846     		mov	r0, r5
 4094 0464 FFF7FEFF 		bl	tcp_output
 4095              	.LVL353:
 4096 0468 ECE6     		b	.L353
 4097              	.LVL354:
 4098              	.L368:
 4099              	.LBB19:
 402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4100              		.loc 1 402 0
 4101 046a 0020     		movs	r0, #0
 4102 046c B7E7     		b	.L357
 4103              	.LVL355:
 4104              	.L384:
 4105              	.LBE19:
 424:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 4106              		.loc 1 424 0
 4107 046e 2B4B     		ldr	r3, .L388+40
 4108 0470 1868     		ldr	r0, [r3]
 4109 0472 FFF7FEFF 		bl	pbuf_free
 4110              	.LVL356:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 117


 430:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             goto aborted;
 4111              		.loc 1 430 0
 4112 0476 2846     		mov	r0, r5
 4113 0478 FFF7FEFF 		bl	tcp_abort
 4114              	.LVL357:
 431:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 4115              		.loc 1 431 0
 4116 047c E2E6     		b	.L353
 4117              	.LVL358:
 4118              	.L361:
 435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err == ERR_ABRT) {
 4119              		.loc 1 435 0 discriminator 2
 4120 047e 0023     		movs	r3, #0
 4121 0480 264A     		ldr	r2, .L388+40
 4122 0482 1268     		ldr	r2, [r2]
 4123 0484 2946     		mov	r1, r5
 4124 0486 1846     		mov	r0, r3
 4125 0488 FFF7FEFF 		bl	tcp_recv_null
 4126              	.LVL359:
 4127 048c CDE7     		b	.L362
 4128              	.LVL360:
 4129              	.L364:
 472:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->rcv_wnd++;
 4130              		.loc 1 472 0
 4131 048e 2B8D     		ldrh	r3, [r5, #40]
 4132 0490 B3F5066F 		cmp	r3, #2144
 4133 0494 01D0     		beq	.L365
 473:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 4134              		.loc 1 473 0
 4135 0496 0133     		adds	r3, r3, #1
 4136 0498 2B85     		strh	r3, [r5, #40]	@ movhi
 4137              	.L365:
 475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4138              		.loc 1 475 0
 4139 049a D5F88040 		ldr	r4, [r5, #128]
 4140 049e 44B1     		cbz	r4, .L369
 475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4141              		.loc 1 475 0 is_stmt 0 discriminator 1
 4142 04a0 0023     		movs	r3, #0
 4143 04a2 1A46     		mov	r2, r3
 4144 04a4 2946     		mov	r1, r5
 4145 04a6 2869     		ldr	r0, [r5, #16]
 4146 04a8 A047     		blx	r4
 4147              	.LVL361:
 4148              	.L366:
 476:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               goto aborted;
 4149              		.loc 1 476 0 is_stmt 1
 4150 04aa 10F10D0F 		cmn	r0, #13
 4151 04ae CFD1     		bne	.L363
 4152 04b0 C8E6     		b	.L353
 4153              	.LVL362:
 4154              	.L369:
 475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4155              		.loc 1 475 0
 4156 04b2 0020     		movs	r0, #0
 4157 04b4 F9E7     		b	.L366
 4158              	.LVL363:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 118


 4159              	.L349:
 512:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.proterr);
 4160              		.loc 1 512 0
 4161 04b6 0F4B     		ldr	r3, .L388
 4162 04b8 1B68     		ldr	r3, [r3]
 4163 04ba 9889     		ldrh	r0, [r3, #12]	@ unaligned
 4164 04bc FFF7FEFF 		bl	lwip_htons
 4165              	.LVL364:
 4166 04c0 10F0040F 		tst	r0, #4
 4167 04c4 03D0     		beq	.L385
 4168              	.LVL365:
 4169              	.L367:
 518:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 4170              		.loc 1 518 0
 4171 04c6 2046     		mov	r0, r4
 4172 04c8 FFF7FEFF 		bl	pbuf_free
 4173              	.LVL366:
 4174 04cc E3E5     		b	.L323
 4175              	.LVL367:
 4176              	.L385:
 516:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 4177              		.loc 1 516 0
 4178 04ce 094B     		ldr	r3, .L388
 4179 04d0 1B68     		ldr	r3, [r3]
 515:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 4180              		.loc 1 515 0
 4181 04d2 144A     		ldr	r2, .L388+48
 4182 04d4 1449     		ldr	r1, .L388+52
 4183 04d6 0888     		ldrh	r0, [r1]
 4184 04d8 1449     		ldr	r1, .L388+56
 4185 04da 0968     		ldr	r1, [r1]
 4186 04dc 1D88     		ldrh	r5, [r3]	@ unaligned
 4187              	.LVL368:
 4188 04de 0195     		str	r5, [sp, #4]
 4189 04e0 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 4190 04e2 0093     		str	r3, [sp]
 4191 04e4 1346     		mov	r3, r2
 4192 04e6 0432     		adds	r2, r2, #4
 4193 04e8 0144     		add	r1, r1, r0
 4194 04ea 1148     		ldr	r0, .L388+60
 4195 04ec 0068     		ldr	r0, [r0]
 4196 04ee FFF7FEFF 		bl	tcp_rst
 4197              	.LVL369:
 4198 04f2 E8E7     		b	.L367
 4199              	.L389:
 4200              		.align	2
 4201              	.L388:
 4202 04f4 00000000 		.word	.LANCHOR3
 4203 04f8 00000000 		.word	.LC0
 4204 04fc 10010000 		.word	.LC25
 4205 0500 4C000000 		.word	.LC2
 4206 0504 00000000 		.word	ip_data
 4207 0508 00000000 		.word	tcp_listen_pcbs
 4208 050c 00000000 		.word	tcp_input_pcb
 4209 0510 00000000 		.word	.LANCHOR5
 4210 0514 00000000 		.word	tcp_active_pcbs
 4211 0518 00000000 		.word	.LANCHOR10
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 119


 4212 051c 00000000 		.word	.LANCHOR12
 4213 0520 40010000 		.word	.LC26
 4214 0524 10000000 		.word	ip_data+16
 4215 0528 00000000 		.word	.LANCHOR8
 4216 052c 00000000 		.word	.LANCHOR7
 4217 0530 00000000 		.word	.LANCHOR9
 4218              		.cfi_endproc
 4219              	.LFE152:
 4221              		.section	.text.tcp_trigger_input_pcb_close,"ax",%progbits
 4222              		.align	1
 4223              		.global	tcp_trigger_input_pcb_close
 4224              		.syntax unified
 4225              		.thumb
 4226              		.thumb_func
 4227              		.fpu fpv5-sp-d16
 4229              	tcp_trigger_input_pcb_close:
 4230              	.LFB161:
1826:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1827:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1828:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1829:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
1830:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1831:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** void
1832:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_trigger_input_pcb_close(void)
1833:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 4231              		.loc 1 1833 0
 4232              		.cfi_startproc
 4233              		@ args = 0, pretend = 0, frame = 0
 4234              		@ frame_needed = 0, uses_anonymous_args = 0
 4235              		@ link register save eliminated.
1834:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   recv_flags |= TF_CLOSED;
 4236              		.loc 1 1834 0
 4237 0000 024A     		ldr	r2, .L391
 4238 0002 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4239 0004 43F01003 		orr	r3, r3, #16
 4240 0008 1370     		strb	r3, [r2]
 4241 000a 7047     		bx	lr
 4242              	.L392:
 4243              		.align	2
 4244              	.L391:
 4245 000c 00000000 		.word	.LANCHOR5
 4246              		.cfi_endproc
 4247              	.LFE161:
 4249              		.comm	tcp_input_pcb,4,4
 4250              		.section	.bss.ackno,"aw",%nobits
 4251              		.align	2
 4252              		.set	.LANCHOR9,. + 0
 4255              	ackno:
 4256 0000 00000000 		.space	4
 4257              		.section	.bss.flags,"aw",%nobits
 4258              		.set	.LANCHOR6,. + 0
 4261              	flags:
 4262 0000 00       		.space	1
 4263              		.section	.bss.inseg,"aw",%nobits
 4264              		.align	2
 4265              		.set	.LANCHOR11,. + 0
 4268              	inseg:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 120


 4269 0000 00000000 		.space	16
 4269      00000000 
 4269      00000000 
 4269      00000000 
 4270              		.section	.bss.recv_acked,"aw",%nobits
 4271              		.align	1
 4272              		.set	.LANCHOR10,. + 0
 4275              	recv_acked:
 4276 0000 0000     		.space	2
 4277              		.section	.bss.recv_data,"aw",%nobits
 4278              		.align	2
 4279              		.set	.LANCHOR12,. + 0
 4282              	recv_data:
 4283 0000 00000000 		.space	4
 4284              		.section	.bss.recv_flags,"aw",%nobits
 4285              		.set	.LANCHOR5,. + 0
 4288              	recv_flags:
 4289 0000 00       		.space	1
 4290              		.section	.bss.seqno,"aw",%nobits
 4291              		.align	2
 4292              		.set	.LANCHOR7,. + 0
 4295              	seqno:
 4296 0000 00000000 		.space	4
 4297              		.section	.bss.tcp_optidx,"aw",%nobits
 4298              		.align	1
 4299              		.set	.LANCHOR1,. + 0
 4302              	tcp_optidx:
 4303 0000 0000     		.space	2
 4304              		.section	.bss.tcphdr,"aw",%nobits
 4305              		.align	2
 4306              		.set	.LANCHOR3,. + 0
 4309              	tcphdr:
 4310 0000 00000000 		.space	4
 4311              		.section	.bss.tcphdr_opt1len,"aw",%nobits
 4312              		.align	1
 4313              		.set	.LANCHOR2,. + 0
 4316              	tcphdr_opt1len:
 4317 0000 0000     		.space	2
 4318              		.section	.bss.tcphdr_opt2,"aw",%nobits
 4319              		.align	2
 4320              		.set	.LANCHOR0,. + 0
 4323              	tcphdr_opt2:
 4324 0000 00000000 		.space	4
 4325              		.section	.bss.tcphdr_optlen,"aw",%nobits
 4326              		.align	1
 4327              		.set	.LANCHOR4,. + 0
 4330              	tcphdr_optlen:
 4331 0000 0000     		.space	2
 4332              		.section	.bss.tcplen,"aw",%nobits
 4333              		.align	1
 4334              		.set	.LANCHOR8,. + 0
 4337              	tcplen:
 4338 0000 0000     		.space	2
 4339              		.section	.rodata.tcp_input.str1.4,"aMS",%progbits,1
 4340              		.align	2
 4341              	.LC17:
 4342 0000 702D3E6E 		.ascii	"p->next != NULL\000"
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 121


 4342      65787420 
 4342      213D204E 
 4342      554C4C00 
 4343              	.LC18:
 4344 0010 702D3E6C 		.ascii	"p->len == 0\000"
 4344      656E203D 
 4344      3D203000 
 4345              	.LC19:
 4346 001c 702D3E74 		.ascii	"p->tot_len == p->next->tot_len\000"
 4346      6F745F6C 
 4346      656E203D 
 4346      3D20702D 
 4346      3E6E6578 
 4347 003b 00       		.space	1
 4348              	.LC20:
 4349 003c 7463705F 		.ascii	"tcp_input: active pcb->state != CLOSED\000"
 4349      696E7075 
 4349      743A2061 
 4349      63746976 
 4349      65207063 
 4350 0063 00       		.space	1
 4351              	.LC21:
 4352 0064 7463705F 		.ascii	"tcp_input: active pcb->state != TIME-WAIT\000"
 4352      696E7075 
 4352      743A2061 
 4352      63746976 
 4352      65207063 
 4353 008e 0000     		.space	2
 4354              	.LC22:
 4355 0090 7463705F 		.ascii	"tcp_input: active pcb->state != LISTEN\000"
 4355      696E7075 
 4355      743A2061 
 4355      63746976 
 4355      65207063 
 4356 00b7 00       		.space	1
 4357              	.LC23:
 4358 00b8 7463705F 		.ascii	"tcp_input: pcb->next != pcb (before cache)\000"
 4358      696E7075 
 4358      743A2070 
 4358      63622D3E 
 4358      6E657874 
 4359 00e3 00       		.space	1
 4360              	.LC24:
 4361 00e4 7463705F 		.ascii	"tcp_input: pcb->next != pcb (after cache)\000"
 4361      696E7075 
 4361      743A2070 
 4361      63622D3E 
 4361      6E657874 
 4362 010e 0000     		.space	2
 4363              	.LC25:
 4364 0110 7463705F 		.ascii	"tcp_input: TIME-WAIT pcb->state == TIME-WAIT\000"
 4364      696E7075 
 4364      743A2054 
 4364      494D452D 
 4364      57414954 
 4365 013d 000000   		.space	3
 4366              	.LC26:
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 122


 4367 0140 7063622D 		.ascii	"pcb->refused_data == NULL\000"
 4367      3E726566 
 4367      75736564 
 4367      5F646174 
 4367      61203D3D 
 4368              		.section	.rodata.tcp_process.str1.4,"aMS",%progbits,1
 4369              		.align	2
 4370              	.LC13:
 4371 0000 7463705F 		.ascii	"tcp_input: pcb->state != CLOSED\000"
 4371      696E7075 
 4371      743A2070 
 4371      63622D3E 
 4371      73746174 
 4372              	.LC14:
 4373 0020 7063622D 		.ascii	"pcb->snd_queuelen > 0\000"
 4373      3E736E64 
 4373      5F717565 
 4373      75656C65 
 4373      6E203E20 
 4374 0036 0000     		.space	2
 4375              	.LC15:
 4376 0038 6E6F2073 		.ascii	"no segment to free\000"
 4376      65676D65 
 4376      6E742074 
 4376      6F206672 
 4376      656500
 4377 004b 00       		.space	1
 4378              	.LC16:
 4379 004c 7063622D 		.ascii	"pcb->listener->accept != NULL\000"
 4379      3E6C6973 
 4379      74656E65 
 4379      722D3E61 
 4379      63636570 
 4380              		.section	.rodata.tcp_receive.str1.4,"aMS",%progbits,1
 4381              		.align	2
 4382              	.LC0:
 4383 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/tcp_in.c\000"
 4383      6C657761 
 4383      7265732F 
 4383      54686972 
 4383      645F5061 
 4384 002f 00       		.space	1
 4385              	.LC1:
 4386 0030 7463705F 		.ascii	"tcp_receive: wrong state\000"
 4386      72656365 
 4386      6976653A 
 4386      2077726F 
 4386      6E672073 
 4387 0049 000000   		.space	3
 4388              	.LC2:
 4389 004c 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 4389      7274696F 
 4389      6E202225 
 4389      73222066 
 4389      61696C65 
 4390              	.LC3:
 4391 0074 7063622D 		.ascii	"pcb->snd_queuelen >= pbuf_clen(next->p)\000"
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 123


 4391      3E736E64 
 4391      5F717565 
 4391      75656C65 
 4391      6E203E3D 
 4392              	.LC4:
 4393 009c 7463705F 		.ascii	"tcp_receive: valid queue length\000"
 4393      72656365 
 4393      6976653A 
 4393      2076616C 
 4393      69642071 
 4394              	.LC5:
 4395 00bc 696E7365 		.ascii	"inseg.p != NULL\000"
 4395      672E7020 
 4395      213D204E 
 4395      554C4C00 
 4396              	.LC6:
 4397 00cc 696E7361 		.ascii	"insane offset!\000"
 4397      6E65206F 
 4397      66667365 
 4397      742100
 4398 00db 00       		.space	1
 4399              	.LC7:
 4400 00dc 70627566 		.ascii	"pbuf too short!\000"
 4400      20746F6F 
 4400      2073686F 
 4400      72742100 
 4401              	.LC8:
 4402 00ec 70627566 		.ascii	"pbuf_header failed\000"
 4402      5F686561 
 4402      64657220 
 4402      6661696C 
 4402      656400
 4403 00ff 00       		.space	1
 4404              	.LC9:
 4405 0100 7463705F 		.ascii	"tcp_receive: segment not trimmed correctly to rcv_w"
 4405      72656365 
 4405      6976653A 
 4405      20736567 
 4405      6D656E74 
 4406 0133 6E640A00 		.ascii	"nd\012\000"
 4407 0137 00       		.space	1
 4408              	.LC10:
 4409 0138 7463705F 		.ascii	"tcp_receive: segment not trimmed correctly to ooseq"
 4409      72656365 
 4409      6976653A 
 4409      20736567 
 4409      6D656E74 
 4410 016b 20717565 		.ascii	" queue\012\000"
 4410      75650A00 
 4411 0173 00       		.space	1
 4412              	.LC11:
 4413 0174 7463705F 		.ascii	"tcp_receive: tcplen > rcv_wnd\012\000"
 4413      72656365 
 4413      6976653A 
 4413      20746370 
 4413      6C656E20 
 4414 0193 00       		.space	1
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 124


 4415              	.LC12:
 4416 0194 7463705F 		.ascii	"tcp_receive: ooseq tcplen > rcv_wnd\012\000"
 4416      72656365 
 4416      6976653A 
 4416      206F6F73 
 4416      65712074 
 4417              		.text
 4418              	.Letext0:
 4419              		.file 2 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\machine\\_default_types.h"
 4420              		.file 3 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 4421              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 4422              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 4423              		.file 6 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\lock.h"
 4424              		.file 7 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_types.h"
 4425              		.file 8 "c:\\gcc_toolchain\\6_2017-q1-update\\lib\\gcc\\arm-none-eabi\\6.3.1\\include\\stddef.h"
 4426              		.file 9 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\reent.h"
 4427              		.file 10 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\stdlib.h"
 4428              		.file 11 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\time.h"
 4429              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 4430              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 4431              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 4432              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 4433              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 4434              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 4435              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 4436              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 4437              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 4438              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 4439              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 4440              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 4441              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 4442              		.file 25 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\stdio.h"
 4443              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 125


DEFINED SYMBOLS
                            *ABS*:00000000 tcp_in.c
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:18     .text.tcp_getoptbyte:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:24     .text.tcp_getoptbyte:00000000 tcp_getoptbyte
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:86     .text.tcp_getoptbyte:0000003c $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:95     .text.tcp_parseopt:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:101    .text.tcp_parseopt:00000000 tcp_parseopt
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:204    .text.tcp_parseopt:00000080 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:211    .text.tcp_input_delayed_close:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:217    .text.tcp_input_delayed_close:00000000 tcp_input_delayed_close
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:276    .text.tcp_input_delayed_close:0000003c $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:282    .text.tcp_timewait_input:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:288    .text.tcp_timewait_input:00000000 tcp_timewait_input
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:387    .text.tcp_timewait_input:00000074 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:398    .text.tcp_listen_input:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:404    .text.tcp_listen_input:00000000 tcp_listen_input
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:609    .text.tcp_listen_input:000000f4 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:622    .text.tcp_oos_insert_segment:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:628    .text.tcp_oos_insert_segment:00000000 tcp_oos_insert_segment
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:734    .text.tcp_oos_insert_segment:00000080 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:739    .text.tcp_receive:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:745    .text.tcp_receive:00000000 tcp_receive
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:1193   .text.tcp_receive:000002c8 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:1207   .text.tcp_receive:000002f0 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:1658   .text.tcp_receive:00000594 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:1674   .text.tcp_receive:000005cc $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:2117   .text.tcp_receive:00000874 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:2130   .text.tcp_receive:0000089c $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:2387   .text.tcp_receive:00000a30 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:2397   .text.tcp_process:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:2403   .text.tcp_process:00000000 tcp_process
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:2574   .text.tcp_process:000000d0 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:2582   .text.tcp_process:000000e0 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:2874   .text.tcp_process:00000294 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:2890   .text.tcp_process:000002cc $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:3314   .text.tcp_process:00000518 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:3326   .text.tcp_input:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:3333   .text.tcp_input:00000000 tcp_input
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:3802   .text.tcp_input:00000288 $d
                            *COM*:00000004 tcp_input_pcb
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:3830   .text.tcp_input:000002f0 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4202   .text.tcp_input:000004f4 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4222   .text.tcp_trigger_input_pcb_close:00000000 $t
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4229   .text.tcp_trigger_input_pcb_close:00000000 tcp_trigger_input_pcb_close
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4245   .text.tcp_trigger_input_pcb_close:0000000c $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4251   .bss.ackno:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4255   .bss.ackno:00000000 ackno
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4261   .bss.flags:00000000 flags
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4262   .bss.flags:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4264   .bss.inseg:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4268   .bss.inseg:00000000 inseg
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4271   .bss.recv_acked:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4275   .bss.recv_acked:00000000 recv_acked
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4278   .bss.recv_data:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4282   .bss.recv_data:00000000 recv_data
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4288   .bss.recv_flags:00000000 recv_flags
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4289   .bss.recv_flags:00000000 $d
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 126


C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4291   .bss.seqno:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4295   .bss.seqno:00000000 seqno
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4298   .bss.tcp_optidx:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4302   .bss.tcp_optidx:00000000 tcp_optidx
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4305   .bss.tcphdr:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4309   .bss.tcphdr:00000000 tcphdr
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4312   .bss.tcphdr_opt1len:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4316   .bss.tcphdr_opt1len:00000000 tcphdr_opt1len
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4319   .bss.tcphdr_opt2:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4323   .bss.tcphdr_opt2:00000000 tcphdr_opt2
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4326   .bss.tcphdr_optlen:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4330   .bss.tcphdr_optlen:00000000 tcphdr_optlen
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4333   .bss.tcplen:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4337   .bss.tcplen:00000000 tcplen
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4340   .rodata.tcp_input.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4369   .rodata.tcp_process.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s:4381   .rodata.tcp_receive.str1.4:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
tcp_pcb_remove
memp_free
tcp_active_pcbs
tcp_rst
tcp_output
ip_data
tcp_ticks
tcp_alloc
tcp_next_iss
tcp_timer_needed
tcp_eff_send_mss_impl
tcp_enqueue_flags
tcp_abandon
tcp_active_pcbs_changed
lwip_htons
tcp_segs_free
tcp_seg_free
pbuf_realloc
tcp_send_empty_ack
lwip_htonl
pbuf_clen
printf
tcp_rexmit_fast
pbuf_header
tcp_update_rcv_ann_wnd
pbuf_cat
tcp_seg_copy
tcp_rexmit_rto
tcp_abort
tcp_rexmit
tcp_pcb_purge
tcp_tw_pcbs
ip4_addr_isbroadcast_u32
pbuf_free
tcp_process_refused_data
tcp_recv_null
tcp_listen_pcbs
ARM GAS  C:\Users\Student\AppData\Local\Temp\ccPrAUfW.s 			page 127


